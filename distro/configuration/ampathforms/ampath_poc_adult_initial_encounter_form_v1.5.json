{
  "name": "AMPATH POC Adult Initial Encounter Form v1.5",
  "uuid": "xxxx",
  "processor": "EncounterFormProcessor",
  "version": "1.5",
  "published": true,
  "retired": false,
  "encounter": "ADULTINITIAL",
  "description": "AMPATH POC Adult Initial Encounter Form v1.5",
  "referencedForms": [
    {
      "ref": {
        "uuid": "df2529c9-3679-4dc1-b747-d753cdb8b774",
        "display": "Vitals v1.3 Component"
      },
      "formName": "component_vitals-v1.3",
      "alias": "vt13"
    },
    {
      "formName": "component_social-history",
      "alias": "sh",
      "ref": {
        "uuid": "12695918-5ce3-409b-9fd7-c6689e200de6",
        "display": "Social History Component"
      }
    },
    {
      "formName": "component_hospitalization",
      "alias": "hosp",
      "ref": {
        "uuid": "77d6652f-4653-4434-af6b-6dab84117044",
        "display": "Hospitalization Component"
      }
    },
    {
      "formName": "component_art-v1.4",
      "alias": "art14",
      "ref": {
        "uuid": "fe2cc2aa-ea65-42a1-a1fc-560fff8d5480",
        "display": "Art v1.4 DTG Component"
      }
    },
    {
      "ref": {
        "uuid": "10fb1c84-84d8-43b3-8683-2fbe2bc9962a",
        "display": "Feeding v1.1 Compent"
      },
      "formName": "component_feeding-v1.1",
      "alias": "feed11"
    },
    {
      "ref": {
        "uuid": "4491d2dc-abc7-45f5-b724-ef534f00d144",
        "display": "Preclinic v1.4"
      },
      "formName": "component_preclinic-review-v1.4",
      "alias": "pcr14"
    },
    {
      "formName": "component_pcp-prophy-v1.2",
      "alias": "pcp12",
      "ref": {
        "uuid": "6493a2dd-d3c3-4ff5-9b2d-02ac6c30fe39",
        "display": "Pcp Prophy v1.2 Component"
      }
    },
    {
      "formName": "component_tb-prophy-v1.2",
      "alias": "tbp12",
      "ref": {
        "uuid": "f48291ac-40c5-466b-83ee-62758e804b32",
        "display": "Tb Prophy v1.2 Component"
      }
    },
    {
      "formName": "component_tb-treatment-v1.3",
      "alias": "tbt13",
      "ref": {
        "uuid": "e04b6b46-1682-4804-aa3c-895347c8f402",
        "display": "Tb Treatment v1.3 Component"
      }
    },
    {
      "ref": {
        "uuid": "64d07d7c-b82b-4245-ae0a-9e4af907eab7",
        "display": "Crypto v1.1"
      },
      "formName": "component_crypto-v1.1",
      "alias": "crypto11"
    },
    {
      "formName": "component_substance-use",
      "alias": "su",
      "ref": {
        "uuid": "64a09c86-962d-469f-b030-f7d5dd4ed785",
        "display": "Substance Use Component"
      }
    },
    {
      "formName": "component_other-medication",
      "alias": "omed",
      "ref": {
        "uuid": "46205439-ccbf-4f60-80e1-d765861f6257",
        "display": "Other Medication Component"
      }
    },
    {
      "formName": "component_side-effect-v1.1",
      "alias": "se11",
      "ref": {
        "uuid": "c45f02b4-12bb-4611-9920-aa2df3b6bd3d",
        "display": "Side Effect v 1.1 Component"
      }
    },
    {
      "formName": "component_nutrition",
      "alias": "ntrn",
      "ref": {
        "uuid": "e421b750-e7fc-4194-b55e-6f2c978e1af5",
        "display": "Nutrition Component"
      }
    },
    {
      "formName": "component_positive-health-dignity-&-prevention-services-v1.0",
      "alias": "phps",
      "ref": {
        "uuid": "4da1548d-e098-4658-a847-8d42f45059f4",
        "display": "positive-health-&-prevention-services v1.0 Component"
      }
    },
    {
      "formName": "component_immunization-v1.0",
      "alias": "immun1",
      "ref": {
        "uuid": "11b15110-e325-4d0d-bd54-5f55b21301f5",
        "display": "Immunization v1.0 Component"
      }
    },
    {
      "formName": "component_lab-orders-v1.0",
      "alias": "to",
      "ref": {
        "uuid": "61a262b6-3238-4187-9740-dea29ea4f7e4",
        "display": "Lab Orders v1.0 Component"
      }
    },
    {
      "formName": "component_hpi",
      "alias": "hpi",
      "ref": {
        "uuid": "b91aef27-cd94-4934-94ac-c168ce539cb3",
        "display": "Hpi Component"
      }
    },
    {
      "formName": "component_physical-exams",
      "alias": "ppe",
      "ref": {
        "uuid": "b8538aa0-1820-4302-9274-4d38c410e929",
        "display": "Physical Exams Component"
      }
    },
    {
      "formName": "component_review-of-systems",
      "alias": "rs",
      "ref": {
        "uuid": "135594bf-35b6-4e2b-abc3-fbbbc5d593a2",
        "display": "Review of Systems Component"
      }
    },
    {
      "ref": {
        "uuid": "b9e18c55-6547-49ed-8025-f18bacb22e7c",
        "display": "Lab Results v1.5"
      },
      "formName": "component_lab-results-v1.5",
      "alias": "lr5"
    },
    {
      "formName": "component_lab-orders",
      "alias": "lo",
      "ref": {
        "uuid": "ba985719-b085-419c-a0c7-3f1c3e61dd3e",
        "display": "Lab Orders Component"
      }
    },
    {
      "formName": "component_problem-list",
      "alias": "pl",
      "ref": {
        "uuid": "7505e278-64cb-44af-a8ce-0482f1d4691f",
        "display": "Problem List Component"
      }
    },
    {
      "formName": "component_assessment",
      "alias": "ass",
      "ref": {
        "uuid": "98e061d2-4a16-4665-b0dc-fc0266ee689c",
        "display": "Assessment Component"
      }
    },
    {
      "formName": "component_sti-v1.0",
      "alias": "sti1",
      "ref": {
        "uuid": "6515b019-5264-4a61-a7fd-e891ea03b5f4",
        "display": "STI v1.0 Component"
      }
    },
    {
      "formName": "component_drug-allergy",
      "alias": "da",
      "ref": {
        "uuid": "6dff3f8b-e4bf-49d4-b101-c8820a373ed3",
        "display": "Drug Allergy Component"
      }
    },
    {
      "ref": {
        "uuid": "4caf221a-1451-4331-8256-50d37f0d02c6",
        "display": "OB-History v1.5"
      },
      "formName": "component_ob-history-1.5",
      "alias": "obgynhist15"
    },
    {
      "formName": "component_family-information",
      "alias": "fi",
      "ref": {
        "uuid": "a0de78cc-a78a-4b60-8378-40514ec3e937",
        "display": "Family Information Component"
      }
    },
    {
      "formName": "component_family-planning-v1.0",
      "alias": "fp1",
      "ref": {
        "uuid": "68363308-0a91-4541-9934-c3e770416d51",
        "display": "Family Planning v1.0 Component"
      }
    },
    {
      "formName": "component_referral",
      "alias": "ref",
      "ref": {
        "uuid": "f18a6b65-f55b-4d53-afe2-b929bbb66a70",
        "display": "Referral Component"
      }
    },
    {
      "ref": {
        "uuid": "68cb1748-94ea-48b2-bfd0-cda5c1a7b7d1",
        "display": "Reproductive history v1.5"
      },
      "formName": "component_reproductive-history-v1.5",
      "alias": "repro15"
    },
    {
      "formName": "component_who-staging",
      "alias": "ws",
      "ref": {
        "uuid": "fdf950e0-ff0a-4d7d-a52b-33a8d5b98fb7",
        "display": "Who Staging Component"
      }
    },
    {
      "ref": {
        "uuid": "6a28c758-0c3c-4fe7-99ca-4d8aca6adda9",
        "display": "component_preclinic-review-v1.6"
      },
      "formName": "component_preclinic-review-v1.6",
      "alias": "prec16"
    },
    {
      "ref": {
        "uuid": "ad50a94d-4edb-463d-b6e6-ac83eecffa7c",
        "display": "component_gender-based-violence-v1.0"
      },
      "formName": "component_gender-based-violence-v1.0",
      "alias": "gbv10"
    },
    {
      "ref": {
        "uuid": "1d265294-3a62-4ab4-bc64-038cbd4a8a14",
        "display": "component_positive-health-dignity-&-prevention-services-v1.2"
      },
      "formName": "component_positive-health-dignity-&-prevention-services-v1.2",
      "alias": "phdp12"
    },
    {
      "ref": {
        "uuid": "3b56db77-167f-49ee-b52f-7511ac71294f",
        "display": "component_referral-v1.4"
      },
      "formName": "component_referral-v1.4",
      "alias": "ref14"
    }
  ],
  "pages": [
    {
      "label": "Encounter Details",
      "sections": [
        {
          "label": "Encounter Details",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Visit date:",
              "type": "encounterDatetime",
              "required": "true",
              "default": "",
              "id": "encDate",
              "questionOptions": {
                "rendering": "date"
              },
              "validators": [
                {
                  "type": "date"
                }
              ]
            },
            {
              "type": "encounterProvider",
              "label": "Provider:",
              "id": "provider",
              "required": "true",
              "default": "",
              "questionOptions": {
                "rendering": "ui-select-extended"
              }
            },
            {
              "type": "encounterLocation",
              "label": "Facility name (site/satellite clinic required):",
              "id": "location",
              "required": "true",
              "questionOptions": {
                "rendering": "ui-select-extended"
              }
            }
          ]
        }
      ]
    },
    {
      "label": "Pre-clinical Review",
      "sections": [
        {
          "label": "Pre-clinic Review",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Patient covered by NHIF:",
              "id": "nhif",
              "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('0b49e3e6-55df-4096-93ca-59edadb74b3f')) ? undefined : HD.getObject('prevEnc').getValue('0b49e3e6-55df-4096-93ca-59edadb74b3f')",
              "questionOptions": {
                "rendering": "select",
                "concept": "0b49e3e6-55df-4096-93ca-59edadb74b3f",
                "answers": [
                  {
                    "concept": "8b715fed-97f6-4e38-8f6a-c167a42f8923",
                    "label": "Yes"
                  },
                  {
                    "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                    "label": "No"
                  }
                ]
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "What is the patient's NHIF status?",
              "id": "nhifStatus",
              "questionInfo": "Indicate if the patient has been remitting monthly contributions towards the NHIF medical cover.",
              "questionOptions": {
                "rendering": "select",
                "concept": "548e6743-67c0-4a6b-bb07-b5f799f63bc1",
                "answers": [
                  {
                    "concept": "b058a9ad-a0e4-4b37-9214-75b8aed1eaa4",
                    "label": "Active"
                  },
                  {
                    "concept": "dd373348-1a7f-4625-9e69-9904fa1cc9c7",
                    "label": "Inactive"
                  }
                ]
              },
              "type": "obs",
              "validators": [],
              "hide": {
                "hideWhenExpression": "nhif !== '8b715fed-97f6-4e38-8f6a-c167a42f8923'"
              }
            },
            {
              "label": "What other insurance do you have?",
              "id": "healthInsurance",
              "questionInfo": "Indicate if the patient has another medical cover.",
              "questionOptions": {
                "rendering": "select",
                "concept": "a8b02524-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                    "label": "None"
                  },
                  {
                    "concept": "0bfb0150-949b-4625-98b8-b9d8275bcf44",
                    "label": "Employer based health insurance"
                  },
                  {
                    "concept": "6fac74c3-fe25-4170-92a4-3ecb8859152e",
                    "label": "Individual private health insurance"
                  },
                  {
                    "concept": "cb0b7a67-961b-485d-8dde-4fa65cec476b",
                    "label": "Linda mama services"
                  },
                  {
                    "concept": "21eb8488-76ae-47ce-a542-bb3038ab05de",
                    "label": "Zuri health insurance"
                  },
                  {
                    "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                    "label": "Other"
                  }
                ]
              },
              "type": "obs",
              "validators": [],
              "hide": {
                "hideWhenExpression": "nhif !== 'a899e0ac-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "label": "Population type:",
              "id": "popType",
              "required": "true",
              "questionInfo": "Indicate the population type.",
              "questionOptions": {
                "rendering": "select",
                "concept": "bbc2e048-0db6-4c22-a951-dab66b1243f9",
                "answers": [
                  {
                    "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                    "label": "General population"
                  },
                  {
                    "concept": "93aa3f1d-1c39-4196-b5e6-8adc916cd5d6",
                    "label": "Key population"
                  },
                  {
                    "concept": "729690d4-09dc-497e-a180-bfc2e9d7d21d",
                    "label": "Vulnerable population"
                  },
                  {
                    "concept": "8b0fa615-39c7-40ba-ad06-579ae540c6a5",
                    "label": "Priority population"
                  }
                ]
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "Key population:",
              "id": "keyPop",
              "questionInfo": "Indicate the key population.",
              "questionOptions": {
                "rendering": "select",
                "concept": "93aa3f1d-1c39-4196-b5e6-8adc916cd5d6",
                "answers": [
                  {
                    "concept": "e19c35f0-12f0-46c2-94ea-97050f37b811",
                    "label": "MSM"
                  },
                  {
                    "concept": "0bd518b7-bfb7-4d80-85e9-7a7636369037",
                    "label": "MSW"
                  },
                  {
                    "concept": "8e31a288-1a91-438b-8c88-768a61ba29ab",
                    "label": "FSW"
                  },
                  {
                    "concept": "a890d57a-1350-11df-a1f1-0026b9348838",
                    "label": "PWID"
                  },
                  {
                    "concept": "a2c49302-edb4-4baa-8440-2448eafd0ec1",
                    "label": "PWUD"
                  }
                ]
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(popType) && popType === '93aa3f1d-1c39-4196-b5e6-8adc916cd5d6'",
                  "message": "Required!"
                }
              ],
              "hide": {
                "hideWhenExpression": "popType !== '93aa3f1d-1c39-4196-b5e6-8adc916cd5d6'"
              }
            },
            {
              "label": "Vulnerable population:",
              "id": "vulPop",
              "questionInfo": "Indicate the vulnerable population.",
              "questionOptions": {
                "rendering": "select",
                "concept": "729690d4-09dc-497e-a180-bfc2e9d7d21d",
                "answers": [
                  {
                    "concept": "390a0eda-e4a0-4c3b-893c-ceb0ab2387f5",
                    "label": "People in prison"
                  },
                  {
                    "concept": "a5e87a67-2f2f-43b5-9acd-0132d796d901",
                    "label": "Fisher folk"
                  },
                  {
                    "concept": "a8af49d8-1350-11df-a1f1-0026b9348838",
                    "label": "Discordant couple"
                  },
                  {
                    "concept": "5ebb18d6-8fab-43bc-898f-6428dcc24c1e",
                    "label": "Truck drivers"
                  }
                ]
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(popType) && popType === '729690d4-09dc-497e-a180-bfc2e9d7d21d'",
                  "message": "Required!"
                }
              ],
              "hide": {
                "hideWhenExpression": "popType !== '729690d4-09dc-497e-a180-bfc2e9d7d21d'"
              }
            },
            {
              "label": "People in prison:",
              "id": "peoplePrison",
              "questionOptions": {
                "rendering": "select",
                "concept": "390a0eda-e4a0-4c3b-893c-ceb0ab2387f5",
                "answers": [
                  {
                    "concept": "b7d9878b-8ce9-4cdf-b6c3-a1545989c604",
                    "label": "Inmate"
                  },
                  {
                    "concept": "732547c9-934f-4b3a-aa2c-cbfddb637be0",
                    "label": "Staff"
                  },
                  {
                    "concept": "9bc09285-7a04-4c81-a313-3a1c67f5c84a",
                    "label": "Community"
                  }
                ]
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(vulPop) && vulPop === '390a0eda-e4a0-4c3b-893c-ceb0ab2387f5'",
                  "message": "Required!"
                }
              ],
              "hide": {
                "hideWhenExpression": "vulPop !== '390a0eda-e4a0-4c3b-893c-ceb0ab2387f5'"
              }
            },
            {
              "label": "Priority population specify:",
              "id": "prioPopText",
              "questionOptions": {
                "rendering": "text",
                "concept": "ef8429eb-51c4-46c6-8e42-7dba86e8f2d7"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(popType) && popType === '8b0fa615-39c7-40ba-ad06-579ae540c6a5'",
                  "message": "Required!"
                }
              ],
              "hide": {
                "hideWhenExpression": "popType !== '8b0fa615-39c7-40ba-ad06-579ae540c6a5'"
              }
            }
          ]
        },
        {
          "label": "Enrollment History",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Is this patient transfering to AMPATH for care?",
              "required": "true",
              "id": "transferInControl",
              "type": "obs",
              "questionOptions": {
                "concept": "f5e96501-deed-4c0a-9dce-116107b4d0d9",
                "rendering": "select",
                "answers": [
                  {
                    "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                    "label": "Yes"
                  },
                  {
                    "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                    "label": "No"
                  }
                ],
                "validators": []
              }
            },
            {
              "type": "obsGroup",
              "label": "Transfer in, detailed",
              "questionOptions": {
                "concept": "0f8b7f4e-1656-46b7-bc93-d1fe4f193f5d",
                "rendering": "group"
              },
              "questions": [
                {
                  "label": "Transfer in from other centre:",
                  "id": "transferIn",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "35ed8aad-d6fa-429e-961a-c877e1ad4953",
                    "answers": [
                      {
                        "concept": "a89c2f42-1350-11df-a1f1-0026b9348838",
                        "label": "AMPATH"
                      },
                      {
                        "concept": "a89c301e-1350-11df-a1f1-0026b9348838",
                        "label": "Non-AMPATH"
                      }
                    ]
                  },
                  "type": "obs",
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "isEmpty(myValue) && !isEmpty(transferInControl) && transferInControl === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                      "message": "Required!"
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "transferInControl !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
                  }
                },
                {
                  "type": "personAttribute",
                  "label": "If transfer in from other AMPATH clinic (specify):",
                  "id": "transfered_in_to_ampath",
                  "required": "false",
                  "default": "",
                  "questionOptions": {
                    "rendering": "ui-select-extended",
                    "attributeType": "7ef225db-94db-4e40-9dd8-fb121d9dc370"
                  },
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "isEmpty(myValue) && !isEmpty(transferIn) && transferIn === 'a89c2f42-1350-11df-a1f1-0026b9348838'",
                      "message": "Required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "transferIn !== 'a89c2f42-1350-11df-a1f1-0026b9348838'"
                  }
                },
                {
                  "type": "obs",
                  "label": "If non-AMPATH, specify:",
                  "id": "nonAmpathSpecify",
                  "questionOptions": {
                    "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
                    "rendering": "text"
                  },
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "isEmpty(myValue) && !isEmpty(transferIn) && transferIn === 'a89c301e-1350-11df-a1f1-0026b9348838'",
                      "message": "Required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "transferIn !== 'a89c301e-1350-11df-a1f1-0026b9348838'"
                  }
                },
                {
                  "label": "County from which the patient is transfering:",
                  "id": "transferCounty",
                  "questionOptions": {
                    "concept": "489403cb-9d25-4d12-826b-1017b7da73e0",
                    "rendering": "text"
                  },
                  "type": "obs",
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "isEmpty(myValue) && !isEmpty(transferIn) && transferIn === 'a89c301e-1350-11df-a1f1-0026b9348838'",
                      "message": "Required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "transferIn !== 'a89c301e-1350-11df-a1f1-0026b9348838'"
                  }
                }
              ],
              "id": "__LDvEp2qGM"
            },
            {
              "label": "Is your area of residence within the AMPATH catchment area?",
              "id": "ampathCatchment",
              "questionOptions": {
                "concept": "65c5071a-0cf8-49d4-99d1-5f7da6ef6503",
                "answers": [
                  {
                    "concept": "a899b50a-1350-11df-a1f1-0026b9348838",
                    "label": "Unknown"
                  },
                  {
                    "concept": "5066b630-842b-4105-a66d-74f8aa50aacb",
                    "label": "In AMPATH catchment area"
                  },
                  {
                    "concept": "83df5f26-f97a-4cda-9c05-d0bdc6e4ebee",
                    "label": "Out of AMPATH catchment area"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(transferInControl) && transferInControl === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Required!"
                }
              ]
            },
            {
              "label": "Point of HIV testing:",
              "id": "pointTesting",
              "questionOptions": {
                "concept": "a8a17e48-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a89fbedc-1350-11df-a1f1-0026b9348838",
                    "label": "pMTCT"
                  },
                  {
                    "concept": "1219f85c-31dd-4212-92ac-77926fa5ba03",
                    "label": "HTS"
                  },
                  {
                    "concept": "a8a17b3c-1350-11df-a1f1-0026b9348838",
                    "label": "VCT"
                  },
                  {
                    "concept": "f6dd6114-a212-4187-b76c-5b6fd8a9e7ba",
                    "label": "PHCT"
                  },
                  {
                    "concept": "a8a359a2-1350-11df-a1f1-0026b9348838",
                    "label": "DTC/PITC"
                  },
                  {
                    "concept": "a890a96a-1350-11df-a1f1-0026b9348838",
                    "label": "TB clinic"
                  },
                  {
                    "concept": "ff3243bf-05f6-426d-aa49-969034962e45",
                    "label": "Adult inpatient"
                  },
                  {
                    "concept": "3e5ad07b-2ced-4925-8264-cc4d8d1438d4",
                    "label": "Pediatric inpatient"
                  },
                  {
                    "concept": "a8a17d80-1350-11df-a1f1-0026b9348838",
                    "label": "MCH"
                  },
                  {
                    "concept": "a8a09ac8-1350-11df-a1f1-0026b9348838",
                    "label": "OPD"
                  },
                  {
                    "concept": "a8934292-1350-11df-a1f1-0026b9348838",
                    "label": "STI"
                  },
                  {
                    "concept": "3ddd3de4-dbf1-4ae9-8caf-aca6383bfd5e",
                    "label": "OSCAR"
                  },
                  {
                    "concept": "7d2c77f9-091b-41d7-8608-aff8985fd708",
                    "label": "Tumaini"
                  },
                  {
                    "concept": "a8a3899a-1350-11df-a1f1-0026b9348838",
                    "label": "CCC"
                  },
                  {
                    "concept": "3e69faed-e56f-4ff1-8831-922224d6ae6b",
                    "label": "Self test"
                  },
                  {
                    "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                    "label": "Other"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(transferInControl) && transferInControl === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Required!"
                }
              ]
            },
            {
              "label": "Date confirmed HIV positive:",
              "id": "dateConfHivPos",
              "questionOptions": {
                "concept": "6d557eec-82f7-4840-a865-a02ac69d93a5",
                "rendering": "date"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(transferInControl) && transferInControl === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Required!"
                }
              ]
            },
            {
              "label": "Date enrolled in HIV care:",
              "id": "enrolDate",
              "questionOptions": {
                "concept": "edda0fe9-73ba-4dbe-8739-dd8d0a8f1700",
                "rendering": "date"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "date",
                  "allowFutureDates": "false"
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(transferInControl) && transferInControl === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Required!"
                }
              ]
            },
            {
              "label": "WHO stage at enrollment:",
              "id": "whoStageEnrol",
              "type": "obs",
              "questionOptions": {
                "concept": "1ea9d6ba-2084-4bc0-97a6-46fe677d40e5",
                "answers": [
                  {
                    "label": "1",
                    "concept": "a89b33d0-1350-11df-a1f1-0026b9348838"
                  },
                  {
                    "label": "2",
                    "concept": "a89b34ac-1350-11df-a1f1-0026b9348838"
                  },
                  {
                    "label": "3",
                    "concept": "a89b3588-1350-11df-a1f1-0026b9348838"
                  },
                  {
                    "label": "4",
                    "concept": "a89b3664-1350-11df-a1f1-0026b9348838"
                  }
                ],
                "rendering": "select"
              },
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(transferInControl) && transferInControl === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Required!"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "label": "Family Information",
      "sections": [
        {
          "label": "Family History",
          "questions": [
            {
              "label": "Family History",
              "type": "obsGroup",
              "questionOptions": {
                "concept": "aeddf768-5ac0-45e4-934b-bf69730a8c2d",
                "rendering": "repeating"
              },
              "questions": [
                {
                  "label": "Age of family member:",
                  "id": "ageOfFamilyMember",
                  "type": "obs",
                  "questionOptions": {
                    "rendering": "number",
                    "concept": "d67c7f03-7559-46bd-972b-6520769ec2b7",
                    "min": "0",
                    "max": "120",
                    "answers": []
                  },
                  "validators": []
                },
                {
                  "label": "Relation:",
                  "id": "relationtoMember",
                  "type": "obs",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "2ec6c229-afb6-4d95-89d2-c2f5e2715e9a",
                    "answers": [
                      {
                        "concept": "a898c0dc-1350-11df-a1f1-0026b9348838",
                        "label": "Mother"
                      },
                      {
                        "concept": "a898c1a4-1350-11df-a1f1-0026b9348838",
                        "label": "Father"
                      },
                      {
                        "concept": "a898c262-1350-11df-a1f1-0026b9348838",
                        "label": "Sibling"
                      },
                      {
                        "concept": "a8a171a0-1350-11df-a1f1-0026b9348838",
                        "label": "Childrens home"
                      },
                      {
                        "concept": "a89c9f54-1350-11df-a1f1-0026b9348838",
                        "label": "Paternal grandparent"
                      },
                      {
                        "concept": "a89c9e3c-1350-11df-a1f1-0026b9348838",
                        "label": "Maternal grandparent"
                      },
                      {
                        "concept": "a898c6f4-1350-11df-a1f1-0026b9348838",
                        "label": "Self"
                      },
                      {
                        "concept": "a8a17470-1350-11df-a1f1-0026b9348838",
                        "label": "Paternal aunt"
                      },
                      {
                        "concept": "a8a17394-1350-11df-a1f1-0026b9348838",
                        "label": "Maternal aunt"
                      },
                      {
                        "concept": "a8a175f6-1350-11df-a1f1-0026b9348838",
                        "label": "Paternal uncle"
                      },
                      {
                        "concept": "a8a1752e-1350-11df-a1f1-0026b9348838",
                        "label": "Maternal uncle"
                      },
                      {
                        "concept": "0d34180a-cea7-4066-b057-2740c0d15767",
                        "label": "Daughter"
                      },
                      {
                        "concept": "cb657f91-8ff4-4dd4-9078-af01ec91e845",
                        "label": "Son"
                      },
                      {
                        "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                        "label": "Other"
                      }
                    ]
                  },
                  "validators": []
                },
                {
                  "label": "HIV status of family member:",
                  "id": "HIVStatusOfMember",
                  "type": "obs",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "e7de7f52-9d91-4be6-a369-6cde2fe2d9a6",
                    "answers": [
                      {
                        "concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
                        "label": "Positive"
                      },
                      {
                        "concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
                        "label": "Negative"
                      },
                      {
                        "concept": "a899b50a-1350-11df-a1f1-0026b9348838",
                        "label": "Unknown"
                      }
                    ]
                  },
                  "validators": []
                },
                {
                  "label": "In care:",
                  "id": "memberInCare",
                  "type": "obs",
                  "questionOptions": {
                    "rendering": "select",
                    "concept": "85c60aac-51e2-411c-98c5-56ffc0169b11",
                    "answers": [
                      {
                        "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                        "label": "Yes"
                      },
                      {
                        "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                        "label": "No"
                      },
                      {
                        "concept": "a899b50a-1350-11df-a1f1-0026b9348838",
                        "label": "Unknown"
                      }
                    ]
                  },
                  "validators": []
                }
              ],
              "id": "__nFEvuF8JG"
            }
          ]
        },
        {
          "label": "Treatment Supporter Details",
          "questions": [
            {
              "type": "personAttribute",
              "label": "Name",
              "id": "name",
              "questionOptions": {
                "rendering": "text",
                "isSimpleValue": true,
                "attributeType": "573af09d-4c3e-47c2-9a9d-4d78aff35312"
              }
            },
            {
              "label": "Relationship:",
              "id": "supporterRela",
              "questionOptions": {
                "attributeType": "1c5a58a8-fb62-48ff-ada1-1f70dcaf350a",
                "concept": "2ec6c229-afb6-4d95-89d2-c2f5e2715e9a",
                "answers": [
                  {
                    "concept": "a898c0dc-1350-11df-a1f1-0026b9348838",
                    "label": "Mother"
                  },
                  {
                    "concept": "a898c1a4-1350-11df-a1f1-0026b9348838",
                    "label": "Father"
                  },
                  {
                    "concept": "a898c262-1350-11df-a1f1-0026b9348838",
                    "label": "Sibling"
                  },
                  {
                    "concept": "a89cd0fa-1350-11df-a1f1-0026b9348838",
                    "label": "Husband"
                  },
                  {
                    "concept": "a89cd1c2-1350-11df-a1f1-0026b9348838",
                    "label": "Wife"
                  },
                  {
                    "concept": "a8a171a0-1350-11df-a1f1-0026b9348838",
                    "label": "Childrens home"
                  },
                  {
                    "concept": "a89c9f54-1350-11df-a1f1-0026b9348838",
                    "label": "Paternal grandparent"
                  },
                  {
                    "concept": "a89c9e3c-1350-11df-a1f1-0026b9348838",
                    "label": "Maternal grandparent"
                  },
                  {
                    "concept": "a898c6f4-1350-11df-a1f1-0026b9348838",
                    "label": "Self"
                  },
                  {
                    "concept": "a8a17470-1350-11df-a1f1-0026b9348838",
                    "label": "Paternal aunt"
                  },
                  {
                    "concept": "a8a17394-1350-11df-a1f1-0026b9348838",
                    "label": "Maternal aunt"
                  },
                  {
                    "concept": "a8a175f6-1350-11df-a1f1-0026b9348838",
                    "label": "Paternal uncle"
                  },
                  {
                    "concept": "a8a1752e-1350-11df-a1f1-0026b9348838",
                    "label": "Maternal uncle"
                  },
                  {
                    "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                    "label": "Other"
                  }
                ],
                "rendering": "select"
              },
              "type": "personAttribute"
            }
          ]
        },
        {
          "label": "Partner Notification Service",
          "questions": [
            {
              "type": "obsGroup",
              "label": "Partner notification",
              "id": "pns",
              "questionOptions": {
                "concept": "8767734c-0f98-4084-b960-6453f8679600",
                "rendering": "group"
              },
              "questions": [
                {
                  "label": "Sexual partner tested?",
                  "id": "sexPartnerTested",
                  "questionOptions": {
                    "answers": [
                      {
                        "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                        "label": "Yes"
                      },
                      {
                        "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                        "label": "No"
                      }
                    ],
                    "concept": "a8a4636a-1350-11df-a1f1-0026b9348838",
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": []
                },
                {
                  "label": "Do you have a new sexual partner?",
                  "id": "newSexPartner",
                  "questionOptions": {
                    "answers": [
                      {
                        "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                        "label": "Yes"
                      },
                      {
                        "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                        "label": "No"
                      }
                    ],
                    "concept": "79f74b25-3f97-4367-a57d-7571bba1d7b4",
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": []
                },
                {
                  "label": "Name of new sexual partner:",
                  "id": "nameSexPartner",
                  "questionOptions": {
                    "answers": [],
                    "concept": "dcb0f31c-d070-4f03-8e6e-5d07367e1500",
                    "rendering": "text"
                  },
                  "type": "obs",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "newSexPartner !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "label": "Ob/gyn History",
      "sections": [
        {
          "label": "Reproductive History",
          "isExpanded": "true",
          "questions": [
            {
              "label": "LMP:",
              "id": "lmpDate1",
              "questionOptions": {
                "concept": "a89ff758-1350-11df-a1f1-0026b9348838",
                "rendering": "date"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "date"
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(pattype1) && pattype1 === '375e6d4a-ba94-41ac-8ac3-5a56015c4d92'",
                  "message": "Patient is antenatal. Please provide LMP."
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(menStatus) && menStatus === 'a8ad2b4e-1350-11df-a1f1-0026b9348838'",
                  "message": "Patient is menstruating. Please provide LMP."
                }
              ],
              "hide": {
                "hideWhenExpression": " sex !== 'F' || menStatus !== 'a8ad2b4e-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "label": "Pregnancy status:",
              "id": "pregnant",
              "questionOptions": {
                "concept": "6b4f1d00-0a27-41dd-a299-fb7dc730819c",
                "rendering": "select",
                "answers": [
                  {
                    "concept": "a89d109c-1350-11df-a1f1-0026b9348838",
                    "label": "Pregnant"
                  },
                  {
                    "concept": "aa9895bc-1971-4926-b7a3-67b5fba1b2d5",
                    "label": "Not pregnant"
                  },
                  {
                    "concept": "a890a33e-1350-11df-a1f1-0026b9348838",
                    "label": "Recently induced abortion"
                  },
                  {
                    "concept": "67a2bcd1-f18b-449e-8da3-677807a1a0b1",
                    "label": "Recently miscarriage (Spontaneous abortion)"
                  },
                  {
                    "concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
                    "label": "Not applicable"
                  }
                ]
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && moment(encDate).diff(moment(lmpDate1), 'days') >= 35",
                  "message": "Last LMP is greater than 35 days. Please indicate patient's pregnancy status."
                }
              ],
              "hide": {
                "hideWhenExpression": "sex !== 'F' || menStatus === '5cc1c1a7-dfcc-47dc-ad73-c386c188fad8' || visitTypeUuid === 'b1a978ca-9315-4ba2-ac2b-84efb9a68c5c'"
              }
            },
            {
              "label": "EDD:",
              "id": "delDate",
              "required": "true",
              "questionOptions": {
                "concept": "a8aaddbc-1350-11df-a1f1-0026b9348838",
                "rendering": "date",
                "calculate": {
                  "calculateExpression": "moment(lmpDate1).isValid() ? moment(lmpDate1).add(280, 'days').toDate():''"
                }
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "(new moment(lmpDate1)).isAfter((new moment(myValue)), 'day') || (new moment(lmpDate1)).isSame((new moment(myValue)), 'day')",
                  "message": "EDD should be greater than the encounter date."
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(pregnant) && pregnant === 'a89d109c-1350-11df-a1f1-0026b9348838'",
                  "message": "Patient is pregnant. Please provide EDD."
                }
              ],
              "hide": {
                "hideWhenExpression": "pregnant !== 'a89d109c-1350-11df-a1f1-0026b9348838'"
              }
            }
          ]
        },
        {
          "label": "Breastfeeding",
          "questions": [
            {
              "label": "Mother breastfeeding?",
              "id": "breFeeding",
              "questionOptions": {
                "concept": "a8a18208-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                    "label": "Yes"
                  },
                  {
                    "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                    "label": "No"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [],
              "hide": {
                "hideWhenExpression": "visitTypeUuid !== 'edb7c6aa-fc69-4470-936d-3d484d3708aa'"
              }
            }
          ]
        },
        {
          "label": "Family Planning Profile",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Is the client using condoms?",
              "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('a8a00090-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('a8a00090-1350-11df-a1f1-0026b9348838')",
              "id": "condomUse",
              "questionOptions": {
                "concept": "a8a00090-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                    "label": "Yes"
                  },
                  {
                    "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                    "label": "No"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [],
              "hide": {
                "hideWhenExpression": "arrayContains(['02e3ce61-fa24-445e-a1f0-6e3299142966','53b856ad-21ef-4745-9acd-81aca01bba31','55c74fa8-c810-4b37-a918-14a851bba6f3','44032888-08e1-4900-b9dd-7d236d79276c'], visitTypeUuid)"
              }
            },
            {
              "type": "obsGroup",
              "label": "Family planning, detailed",
              "questionOptions": {
                "concept": "767e8060-5272-4927-ab78-97534a4499ef",
                "rendering": "group"
              },
              "questions": [
                {
                  "label": "Select modern contraception method:",
                  "required": "true",
                  "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('767e8060-5272-4927-ab78-97534a4499ef.a894b1cc-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('767e8060-5272-4927-ab78-97534a4499ef.a894b1cc-1350-11df-a1f1-0026b9348838')",
                  "id": "fpMethod",
                  "questionOptions": {
                    "concept": "a894b1cc-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                        "label": "None"
                      },
                      {
                        "concept": "81aad3d5-0535-416a-a833-9079af068e3f",
                        "label": "Bilateral tubal ligation"
                      },
                      {
                        "concept": "a123d949-31f3-4abf-98e3-8504e17ebc00",
                        "label": "3-year implant"
                      },
                      {
                        "concept": "feb48308-a56f-4754-8e8f-8c1698e570cb",
                        "label": "5-year implant"
                      },
                      {
                        "concept": "f8c66a32-3660-4233-ae51-d3a4a1eac44e",
                        "label": "IUCD copper"
                      },
                      {
                        "concept": "236dba53-1062-46b4-8067-ec8711897dbf",
                        "label": "IUCD hormonal"
                      },
                      {
                        "concept": "a8988b44-1350-11df-a1f1-0026b9348838",
                        "label": "Injectables (Depo)"
                      },
                      {
                        "concept": "a8aff1b2-1350-11df-a1f1-0026b9348838",
                        "label": "Combined hormone oral contraceptive pills"
                      },
                      {
                        "concept": "a8afeb54-1350-11df-a1f1-0026b9348838",
                        "label": "Projestin only pills"
                      },
                      {
                        "concept": "eaa5796d-0b1c-478b-8c9d-d23cf4c3bddc",
                        "label": "Vasectomy"
                      },
                      {
                        "concept": "4a740e33-fee5-4a2b-b679-1904722e3d9e",
                        "label": "Lactational amenohhrea method"
                      },
                      {
                        "concept": "a8a71588-1350-11df-a1f1-0026b9348838",
                        "label": "Diaphram/Cervical cap"
                      },
                      {
                        "concept": "b75702a6-908d-491b-9399-6495712c81cc",
                        "label": "Emergency contraceptive pills"
                      },
                      {
                        "concept": "a8aff284-1350-11df-a1f1-0026b9348838",
                        "label": "Periodic abstinence"
                      },
                      {
                        "concept": "856a7f0d-8359-4316-97c1-2d37813414f0",
                        "label": "Undecided"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "sex !== 'F' || menStatus === '5cc1c1a7-dfcc-47dc-ad73-c386c188fad8' || arrayContains(['02e3ce61-fa24-445e-a1f0-6e3299142966','53b856ad-21ef-4745-9acd-81aca01bba31','55c74fa8-c810-4b37-a918-14a851bba6f3','44032888-08e1-4900-b9dd-7d236d79276c'], visitTypeUuid)"
                  }
                },
                {
                  "type": "obs",
                  "label": "Approximate start date (If FP is 3-year implant/5-year implant/Injectables/Vasectomy/IUCD Copper/IUCD Hormonal/Bilateral tubal ligation)",
                  "id": "appStartDate",
                  "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('767e8060-5272-4927-ab78-97534a4499ef.a89ae092-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('767e8060-5272-4927-ab78-97534a4499ef.a89ae092-1350-11df-a1f1-0026b9348838')",
                  "questionOptions": {
                    "concept": "a89ae092-1350-11df-a1f1-0026b9348838",
                    "rendering": "date"
                  },
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "(new moment(encDate)).isBefore((new moment(myValue)), 'day') || (new moment(encDate)).isSame((new moment(myValue)), 'day')",
                      "message": "Start date should be before the encounter date."
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "isEmpty(myValue) && !(isEmpty(fpMethod) || !arrayContainsAny(fpMethod,['a123d949-31f3-4abf-98e3-8504e17ebc00','feb48308-a56f-4754-8e8f-8c1698e570cb','eaa5796d-0b1c-478b-8c9d-d23cf4c3bddc','a8988b44-1350-11df-a1f1-0026b9348838','a8a713f8-1350-11df-a1f1-0026b9348838','f8c66a32-3660-4233-ae51-d3a4a1eac44e','236dba53-1062-46b4-8067-ec8711897dbf']))",
                      "message": "Start date is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(fpMethod) || arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838','a897dbd6-1350-11df-a1f1-0026b9348838', '4a740e33-fee5-4a2b-b679-1904722e3d9e','a8a71588-1350-11df-a1f1-0026b9348838','b75702a6-908d-491b-9399-6495712c81cc','a8aff284-1350-11df-a1f1-0026b9348838','856a7f0d-8359-4316-97c1-2d37813414f0'],fpMethod) && visitTypeUuid !== 'b1a978ca-9315-4ba2-ac2b-84efb9a68c5c'"
                  }
                }
              ],
              "id": "__pvyFMMLwH"
            }
          ]
        }
      ]
    },
    {
      "label": "Substance Use",
      "sections": [
        {
          "label": "Substance use",
          "questions": [
            {
              "label": "Do you smoke cigarrates?",
              "id": "cigconsumption",
              "questionOptions": {
                "concept": "a8a188e8-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                    "label": "Yes"
                  },
                  {
                    "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                    "label": "No"
                  },
                  {
                    "concept": "a89ec3f6-1350-11df-a1f1-0026b9348838",
                    "label": "Stopped"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "Do you sometimes drink alcohol?",
              "id": "alcconsuption",
              "questionOptions": {
                "concept": "a89ec7ac-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                    "label": "Yes"
                  },
                  {
                    "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                    "label": "No"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "How often did you take a drink containing alcohol in the last one year?",
              "id": "alcconslastyear",
              "questionOptions": {
                "concept": "a8a77d02-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899d120-1350-11df-a1f1-0026b9348838",
                    "label": "None"
                  },
                  {
                    "concept": "a899d1f2-1350-11df-a1f1-0026b9348838",
                    "label": "Monthly or less"
                  },
                  {
                    "concept": "a899d2ce-1350-11df-a1f1-0026b9348838",
                    "label": "2 to 4 times a month"
                  },
                  {
                    "concept": "a899d3aa-1350-11df-a1f1-0026b9348838",
                    "label": "2 to 3 times a week"
                  },
                  {
                    "concept": "a899d486-1350-11df-a1f1-0026b9348838",
                    "label": "4 to 5 times a week"
                  },
                  {
                    "concept": "a899d562-1350-11df-a1f1-0026b9348838",
                    "label": "6 or more times a week"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "How many drinks containing alcohol did you have on a typical day when you were drinking in the past year?",
              "id": "alcnumlastyear",
              "questionOptions": {
                "concept": "a8a77dde-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899da8a-1350-11df-a1f1-0026b9348838",
                    "label": "0 drinks"
                  },
                  {
                    "concept": "a899db5c-1350-11df-a1f1-0026b9348838",
                    "label": "1 to 2 drinks"
                  },
                  {
                    "concept": "a899dc38-1350-11df-a1f1-0026b9348838",
                    "label": "3 to 4 drinks"
                  },
                  {
                    "concept": "a899dd14-1350-11df-a1f1-0026b9348838",
                    "label": "5 to 6 drinks"
                  },
                  {
                    "concept": "a899ddf0-1350-11df-a1f1-0026b9348838",
                    "label": "7 to 9 drinks"
                  },
                  {
                    "concept": "a899decc-1350-11df-a1f1-0026b9348838",
                    "label": "10 or more drinks"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "How often did you have six or more drinks on one occasion in the past year?",
              "id": "alcconfrequency",
              "questionOptions": {
                "concept": "a8a77eba-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899d120-1350-11df-a1f1-0026b9348838",
                    "label": "Never"
                  },
                  {
                    "concept": "a899d71a-1350-11df-a1f1-0026b9348838",
                    "label": "Less than monthly"
                  },
                  {
                    "concept": "a899d7f6-1350-11df-a1f1-0026b9348838",
                    "label": "Monthly"
                  },
                  {
                    "concept": "a899d8d2-1350-11df-a1f1-0026b9348838",
                    "label": "Weekly"
                  },
                  {
                    "concept": "a899d9ae-1350-11df-a1f1-0026b9348838",
                    "label": "Daily or almost daily"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": []
            }
          ]
        }
      ]
    },
    {
      "label": "Hospitalization History",
      "sections": [
        {
          "label": "Hospitalization History",
          "questions": [
            {
              "type": "obsGroup",
              "label": "Recent hospitalizations",
              "questionOptions": {
                "rendering": "group",
                "concept": "a8a003a6-1350-11df-a1f1-0026b9348838"
              },
              "questions": [
                {
                  "label": "Was the patient hospitalized since last visit?",
                  "id": "wasHospitalized",
                  "questionOptions": {
                    "concept": "a898c56e-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                        "label": "Yes"
                      },
                      {
                        "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                        "label": "No"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": []
                }
              ],
              "id": "__FDnuM6zJn"
            },
            {
              "type": "obsGroup",
              "label": "If yes reason for hospitalization:",
              "questionOptions": {
                "concept": "a8a003a6-1350-11df-a1f1-0026b9348838",
                "rendering": "repeating"
              },
              "questions": [
                {
                  "label": "Reason for hospitalization:",
                  "id": "hospReason",
                  "questionOptions": {
                    "concept": "a8a07a48-1350-11df-a1f1-0026b9348838",
                    "rendering": "problem"
                  },
                  "type": "obs",
                  "validators": [
                    {
                      "type": "conditionalAnswered",
                      "message": "Providing diagnosis but didn't answer that patient was hospitalized in question",
                      "referenceQuestionId": "wasHospitalized",
                      "referenceQuestionAnswers": [
                        "a899b35c-1350-11df-a1f1-0026b9348838"
                      ]
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "isEmpty(myValue) && !isEmpty(wasHospitalized) && wasHospitalized === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                      "message": "Patient previously marked as hospitalized. Please provide hospitalization reason."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "wasHospitalized !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
                  }
                }
              ],
              "id": "__rHqoFFJrz"
            }
          ]
        }
      ]
    },
    {
      "label": "Medication History",
      "sections": [
        {
          "label": "Past ART Usage",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Has the patient ever taken ART in the past?",
              "type": "obs",
              "id": "pastArtUse",
              "questionOptions": {
                "concept": "a89e831e-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                    "label": "Yes"
                  },
                  {
                    "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                    "label": "No"
                  }
                ],
                "rendering": "select"
              },
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(transferInControl) && transferInControl === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Required!"
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(transferInControl) && transferInControl === 'a899b42e-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && arrayContains(['a899b35c-1350-11df-a1f1-0026b9348838'], myValue)",
                  "message": "In the enrollment section, patient not marked as transfer in. Kindly confirm."
                }
              ]
            },
            {
              "label": "Date patient first became medically eligible for ART:",
              "id": "eligibility",
              "type": "obs",
              "questionOptions": {
                "concept": "81608e3b-fece-4136-8def-b822b54de197",
                "rendering": "date"
              },
              "validators": [
                {
                  "type": "date",
                  "allowFutureDates": "false"
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "(new moment(encDate)).isBefore((new moment(myValue)), 'day')",
                  "message": "Date should be before the encounter date."
                }
              ]
            },
            {
              "label": "Reason for eligibility at ART initiation:",
              "type": "obs",
              "id": "reasonEligible",
              "questionOptions": {
                "concept": "87c0a7b8-9878-459e-b0f5-e0358f4811d4",
                "answers": [
                  {
                    "concept": "a8a0be2c-1350-11df-a1f1-0026b9348838",
                    "label": "Clinical"
                  },
                  {
                    "concept": "1ea9d6ba-2084-4bc0-97a6-46fe677d40e5",
                    "label": "WHO stage"
                  },
                  {
                    "concept": "a8970a26-1350-11df-a1f1-0026b9348838",
                    "label": "CD4 %"
                  },
                  {
                    "concept": "a89fbedc-1350-11df-a1f1-0026b9348838",
                    "label": "PMTCT"
                  },
                  {
                    "concept": "a8909060-1350-11df-a1f1-0026b9348838",
                    "label": "Hepatitis"
                  },
                  {
                    "concept": "a8af49d8-1350-11df-a1f1-0026b9348838",
                    "label": "Discordant couple"
                  },
                  {
                    "concept": "a89b2606-1350-11df-a1f1-0026b9348838",
                    "label": "WHO Stage 1"
                  },
                  {
                    "concept": "a89b26d8-1350-11df-a1f1-0026b9348838",
                    "label": "WHO Stage 2"
                  },
                  {
                    "concept": "a89b27be-1350-11df-a1f1-0026b9348838",
                    "label": "WHO Stage 3"
                  },
                  {
                    "concept": "a89b289a-1350-11df-a1f1-0026b9348838",
                    "label": "WHO Stage 4"
                  }
                ],
                "rendering": "multiCheckbox"
              }
            },
            {
              "label": "On what date did the patient first begin ART?",
              "type": "obs",
              "id": "pastArtDate",
              "questionOptions": {
                "concept": "a89d200a-1350-11df-a1f1-0026b9348838",
                "rendering": "date"
              },
              "validators": [
                {
                  "type": "date",
                  "allowFutureDates": "false"
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "(new moment(encDate)).isBefore((new moment(myValue)), 'day') || (new moment(encDate)).isSame((new moment(myValue)), 'day')",
                  "message": "ARV start date should be before the encounter date."
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && pastArtUse === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Please indicate date first used ART."
                }
              ],
              "hide": {
                "hideWhenExpression": "pastArtUse!== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "label": "Date last used:",
              "type": "obs",
              "id": "pastArtDateLastUsed",
              "questionOptions": {
                "concept": "a67ffb12-761b-48cb-a670-ce0bc0a50d60",
                "rendering": "date"
              },
              "validators": [
                {
                  "type": "date",
                  "allowFutureDates": "false"
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "(new moment(encDate)).isBefore((new moment(myValue)), 'day') || (new moment(encDate)).isSame((new moment(myValue)), 'day')",
                  "message": "ARV start date should be before the encounter date."
                }
              ],
              "hide": {
                "hideWhenExpression": "pastArtUse!== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "label": "Date stopped:",
              "type": "obs",
              "id": "pastArtDateStop",
              "questionOptions": {
                "concept": "a89ec270-1350-11df-a1f1-0026b9348838",
                "rendering": "date"
              },
              "validators": [
                {
                  "type": "date",
                  "allowFutureDates": "false"
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "(new moment(encDate)).isBefore((new moment(myValue)), 'day') || (new moment(encDate)).isSame((new moment(myValue)), 'day')",
                  "message": "ARV start date should be before the encounter date."
                }
              ],
              "hide": {
                "hideWhenExpression": "pastArtUse!== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "label": "Reason for use in past:",
              "id": "reasonPastUse",
              "type": "obs",
              "questionOptions": {
                "concept": "a8a31a00-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a89adc46-1350-11df-a1f1-0026b9348838",
                    "label": "Treatment"
                  },
                  {
                    "concept": "a8a19c20-1350-11df-a1f1-0026b9348838",
                    "label": "PEP"
                  },
                  {
                    "concept": "27ac429d-8a42-476e-b2f6-65bde0b8c935",
                    "label": "PrEP"
                  },
                  {
                    "concept": "a89fbedc-1350-11df-a1f1-0026b9348838",
                    "label": "pMTCT"
                  },
                  {
                    "concept": "a8ab1e12-1350-11df-a1f1-0026b9348838",
                    "label": "Infant prophylaxis"
                  },
                  {
                    "concept": "a8908ed0-1350-11df-a1f1-0026b9348838",
                    "label": "HBV"
                  }
                ],
                "rendering": "select"
              },
              "hide": {
                "hideWhenExpression": "pastArtUse!== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "label": "Past treatment categories:",
              "id": "pastCate",
              "type": "obs",
              "questionOptions": {
                "concept": "c89f8473-474d-4165-b7bd-e9f54e908f45",
                "answers": [
                  {
                    "concept": "034047bd-3fa1-4b2a-b0f0-2787e9b9f7b3",
                    "label": "First line regimen"
                  },
                  {
                    "concept": "8f8a715d-e49a-4b2c-aa3a-83fa9d7a4254",
                    "label": "Second line regimen"
                  },
                  {
                    "concept": "a90ebdd2-351f-485a-b850-4938fcca2729",
                    "label": "Third line regimen"
                  }
                ],
                "rendering": "select"
              },
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && pastArtUse === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Please indicate treatment category."
                }
              ],
              "hide": {
                "hideWhenExpression": "pastArtUse!== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "label": "Past ART regimen, adult:",
              "id": "pastArvDrugsAdult",
              "type": "obs",
              "questionOptions": {
                "concept": "a8a318e8-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "18e86e1f-92b8-40cd-8266-0df0ab0a4a50",
                    "label": "DTG50mg/3TC300mg/TDF300mg"
                  },
                  {
                    "concept": "1c4a75d0-cc91-4752-b0a5-4b833326ff7a",
                    "label": "TDF300mg/3TC300mg/EFV600mg"
                  },
                  {
                    "concept": "ea501f4e-cbc5-4942-b9c8-0ac415929f08",
                    "label": "TDF300mg/3TC300mg/EFV400mg"
                  },
                  {
                    "concept": "6a73f32d-1870-4527-af6e-74443251ded2",
                    "label": "NVP200mg/ZDV300mg/3TC150mg"
                  },
                  {
                    "concept": "e78843da-fdb6-446d-8e99-873c278b3540",
                    "label": "ABC600mg/3TC300mg"
                  },
                  {
                    "concept": "a89cc876-1350-11df-a1f1-0026b9348838",
                    "label": "3TC300mg/TDF300mg"
                  },
                  {
                    "concept": "a896758e-1350-11df-a1f1-0026b9348838",
                    "label": "3TC150mg/ZDV300mg"
                  },
                  {
                    "concept": "51669635-73b7-41fe-b215-33eefc9105f3",
                    "label": "Cabotegravir 600mg/Rilpivirine 900mg IM"
                  },
                  {
                    "concept": "a8afcf84-1350-11df-a1f1-0026b9348838",
                    "label": "Emtri200mg/TDF300(Truvada)"
                  },
                  {
                    "concept": "a897e7c0-1350-11df-a1f1-0026b9348838",
                    "label": "Aluvia (Kaletra)200mg/LPV50mg"
                  },
                  {
                    "concept": "a8afc066-1350-11df-a1f1-0026b9348838",
                    "label": "Atazanavir300mg/Ritonavir100mg"
                  },
                  {
                    "concept": "dabf36cb-dd9a-4542-a8ef-874c1ee5be4a",
                    "label": "FTC200mg/RPV25mg/TDF245mg(Eviplera)"
                  },
                  {
                    "concept": "98b0baf6-0b73-4429-9264-6233684b0969",
                    "label": "Dolutegravir 50mg"
                  },
                  {
                    "concept": "a897f8a0-1350-11df-a1f1-0026b9348838",
                    "label": "Abacavir 300mg"
                  },
                  {
                    "concept": "db3c194b-3e1b-4001-9a1c-a5df1728fc28",
                    "label": "Efavirenz 200mg"
                  },
                  {
                    "concept": "a89677e6-1350-11df-a1f1-0026b9348838",
                    "label": "Efavirenz 600mg"
                  },
                  {
                    "concept": "a89673f4-1350-11df-a1f1-0026b9348838",
                    "label": "Lamivudine 150mg"
                  },
                  {
                    "concept": "a8967656-1350-11df-a1f1-0026b9348838",
                    "label": "Nevirapine 200mg"
                  },
                  {
                    "concept": "a8afbd64-1350-11df-a1f1-0026b9348838",
                    "label": "Raltegravir 400mg"
                  },
                  {
                    "concept": "a897ea4a-1350-11df-a1f1-0026b9348838",
                    "label": "Zidovudine 300mg"
                  },
                  {
                    "concept": "68a0a5dd-1e91-43a2-8dce-c6e84a14de04",
                    "label": "Darunavir 600mg"
                  },
                  {
                    "concept": "1baf254e-1429-4fd9-8db1-edf6523cea13",
                    "label": "Ritonavir 100mg"
                  },
                  {
                    "concept": "42ef7c4d-d6fb-49c0-a46e-019c42dea203",
                    "label": "Ritonavir 80mg"
                  },
                  {
                    "concept": "38fbba9c-4b26-412d-9659-8dd649514d66",
                    "label": "Etravirine 100mg"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(pastArtUse) && pastArtUse === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Patient marked as on Past ART. Please provide the Regimen."
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && pastArtUse === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Please indicate regimen."
                }
              ],
              "hide": {
                "hideWhenExpression": "pastArtUse!== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            }
          ]
        },
        {
          "label": "ART History",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Is the patient on ART?",
              "required": "true",
              "id": "onArt",
              "historicalExpression": "arrayContainsAny(['a89b7c50-1350-11df-a1f1-0026b9348838','a89b7ae8-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838'], HD.getObject('prevEnc').getValue('a89b75d4-1350-11df-a1f1-0026b9348838')) ? 'a899b35c-1350-11df-a1f1-0026b9348838' : HD.getObject('prevEnc').getValue('a89ae254-1350-11df-a1f1-0026b9348838')",
              "questionOptions": {
                "concept": "a89ae254-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                    "label": "Yes"
                  },
                  {
                    "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                    "label": "No"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(transferInControl) && transferInControl === 'a899b42e-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && arrayContains(['a899b35c-1350-11df-a1f1-0026b9348838'], myValue)",
                  "message": "In the enrollment section, patient not marked as transfer in. Kindly confirm."
                }
              ]
            },
            {
              "label": "Reason for use:",
              "id": "reasonUse",
              "type": "obs",
              "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('a8a30d1c-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('a8a30d1c-1350-11df-a1f1-0026b9348838')",
              "questionOptions": {
                "concept": "a8a30d1c-1350-11df-a1f1-0026b9348838",
                "rendering": "select",
                "answers": [
                  {
                    "concept": "a89adc46-1350-11df-a1f1-0026b9348838",
                    "label": "Treatment"
                  },
                  {
                    "concept": "a8a19c20-1350-11df-a1f1-0026b9348838",
                    "label": "PEP"
                  },
                  {
                    "concept": "27ac429d-8a42-476e-b2f6-65bde0b8c935",
                    "label": "Prep"
                  },
                  {
                    "concept": "a89fbedc-1350-11df-a1f1-0026b9348838",
                    "label": "PMTCT"
                  },
                  {
                    "concept": "a8ab1e12-1350-11df-a1f1-0026b9348838",
                    "label": "Infant prophylaxis"
                  },
                  {
                    "concept": "a8908ed0-1350-11df-a1f1-0026b9348838",
                    "label": "HBV"
                  }
                ]
              },
              "validators": [],
              "hide": {
                "hideWhenExpression": "onArt!== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "label": "Line of ART patient is taking:",
              "id": "current_arv_line",
              "historicalExpression": "!_.isEmpty(HD.getObject('prevEnc').getValue('a89b6a62-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('04616f5d-b961-4f41-bbd7-bcc0dd235577')",
              "questionOptions": {
                "concept": "04616f5d-b961-4f41-bbd7-bcc0dd235577",
                "answers": [
                  {
                    "concept": "034047bd-3fa1-4b2a-b0f0-2787e9b9f7b3",
                    "label": "First line regimen"
                  },
                  {
                    "concept": "8f8a715d-e49a-4b2c-aa3a-83fa9d7a4254",
                    "label": "Second line regimen"
                  },
                  {
                    "concept": "a90ebdd2-351f-485a-b850-4938fcca2729",
                    "label": "Third line regimen"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(onArt) && onArt === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Patient previously marked as on ART. Please provide the treatment category."
                }
              ],
              "hide": {
                "hideWhenExpression": "onArt !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "label": "Patient's ART regimen, adults:",
              "id": "current_art_regimen_adult",
              "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('a89b6a62-1350-11df-a1f1-0026b9348838')) ? (_.isEmpty(HD.getObject('prevEnc').getValue('a8a08344-1350-11df-a1f1-0026b9348838'))? HD.getObject('prevEnc').getValue('a899cf5e-1350-11df-a1f1-0026b9348838') : HD.getObject('prevEnc').getValue('a899cf5e-1350-11df-a1f1-0026b9348838')) : HD.getObject('prevEnc').getValue('a89b6a62-1350-11df-a1f1-0026b9348838')",
              "questionOptions": {
                "concept": "a899cf5e-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "18e86e1f-92b8-40cd-8266-0df0ab0a4a50",
                    "label": "DTG50mg/3TC300mg/TDF300mg"
                  },
                  {
                    "concept": "1c4a75d0-cc91-4752-b0a5-4b833326ff7a",
                    "label": "TDF300mg/3TC300mg/EFV600mg"
                  },
                  {
                    "concept": "ea501f4e-cbc5-4942-b9c8-0ac415929f08",
                    "label": "TDF300mg/3TC300mg/EFV400mg"
                  },
                  {
                    "concept": "6a73f32d-1870-4527-af6e-74443251ded2",
                    "label": "NVP200/ZDV300/3TC150"
                  },
                  {
                    "concept": "e78843da-fdb6-446d-8e99-873c278b3540",
                    "label": "ABC600mg/3TC300mg"
                  },
                  {
                    "concept": "a89cc876-1350-11df-a1f1-0026b9348838",
                    "label": "3TC300mg/TDF300mg"
                  },
                  {
                    "concept": "a896758e-1350-11df-a1f1-0026b9348838",
                    "label": "3TC150mg/ZDV300mg"
                  },
                  {
                    "concept": "a8afcf84-1350-11df-a1f1-0026b9348838",
                    "label": "Emtri200mg/TDF300(Truvada)"
                  },
                  {
                    "concept": "a897e7c0-1350-11df-a1f1-0026b9348838",
                    "label": "Aluvia(Kaletra)200mg/LPV50mg"
                  },
                  {
                    "concept": "a8afc066-1350-11df-a1f1-0026b9348838",
                    "label": "Atazanavir300/Ritonavir100"
                  },
                  {
                    "concept": "dabf36cb-dd9a-4542-a8ef-874c1ee5be4a",
                    "label": "FTC200mg/RPV25mg/TDF245mg(Eviplera)"
                  },
                  {
                    "concept": "51669635-73b7-41fe-b215-33eefc9105f3",
                    "label": "Cabotegravir 600mg/Rilpivirine 900mg IM"
                  },
                  {
                    "concept": "98b0baf6-0b73-4429-9264-6233684b0969",
                    "label": "Dolutegravir 50mg"
                  },
                  {
                    "concept": "a897f8a0-1350-11df-a1f1-0026b9348838",
                    "label": "Abacavir300mg"
                  },
                  {
                    "concept": "db3c194b-3e1b-4001-9a1c-a5df1728fc28",
                    "label": "Efavirenz 200mg"
                  },
                  {
                    "concept": "a89673f4-1350-11df-a1f1-0026b9348838",
                    "label": "Lamivudine150mg"
                  },
                  {
                    "concept": "a8afbd64-1350-11df-a1f1-0026b9348838",
                    "label": "Raltegravir 400mg"
                  },
                  {
                    "concept": "a897ea4a-1350-11df-a1f1-0026b9348838",
                    "label": "Zidovudine300mg"
                  },
                  {
                    "concept": "68a0a5dd-1e91-43a2-8dce-c6e84a14de04",
                    "label": "Darunavir 600mg"
                  },
                  {
                    "concept": "1baf254e-1429-4fd9-8db1-edf6523cea13",
                    "label": " Ritonavir 100mg"
                  },
                  {
                    "concept": "42ef7c4d-d6fb-49c0-a46e-019c42dea203",
                    "label": " Ritonavir 80mg"
                  },
                  {
                    "concept": "38fbba9c-4b26-412d-9659-8dd649514d66",
                    "label": "Etravirine 100mg"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(onArt) && onArt === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Patient  marked as on ART. Please provide the Regimen."
                }
              ],
              "hide": {
                "hideWhenExpression": "onArt !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "label": "Current regimen start date:",
              "id": "regimenDate",
              "questionOptions": {
                "concept": "9e67bf9f-4242-40c5-806b-9145b8c07e77",
                "rendering": "date"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "date",
                  "allowFutureDates": "false"
                }
              ],
              "hide": {
                "hideWhenExpression": "transferInControl !== 'a899b35c-1350-11df-a1f1-0026b9348838' || onArt !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "type": "obsGroup",
              "label": "ART adherence",
              "questionOptions": {
                "concept": "bc3834dd-ef07-4027-be30-729baa069291",
                "rendering": "group"
              },
              "questions": [
                {
                  "label": "Adherence on ART:",
                  "id": "artAdherence",
                  "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('2c363a0e-7cf9-42cd-9778-1301b09c4484')) ? undefined : HD.getObject('prevEnc').getValue('2c363a0e-7cf9-42cd-9778-1301b09c4484')",
                  "questionOptions": {
                    "concept": "2c363a0e-7cf9-42cd-9778-1301b09c4484",
                    "answers": [
                      {
                        "concept": "a8b0f882-1350-11df-a1f1-0026b9348838",
                        "label": "Good"
                      },
                      {
                        "concept": "a73d20b3-d721-4763-a362-14a0c41a6b5e",
                        "label": "Fair"
                      },
                      {
                        "concept": "fdaf8b47-ea14-4d28-80fa-e1da58a30e8b",
                        "label": "Poor"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(onArt) && onArt === 'a899b35c-1350-11df-a1f1-0026b9348838' && isEmpty(myValue)",
                      "message": "Patient on ARVs. Please provide adherence history."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "onArt !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
                  }
                },
                {
                  "label": "Adherence (ART) Reason for poor/fair:",
                  "id": "artReasonPoorFair",
                  "questionOptions": {
                    "concept": "a89ebbc2-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a89ced88-1350-11df-a1f1-0026b9348838",
                        "label": "Alcohol"
                      },
                      {
                        "concept": "a8935fde-1350-11df-a1f1-0026b9348838",
                        "label": "Depression"
                      },
                      {
                        "concept": "a89eac04-1350-11df-a1f1-0026b9348838",
                        "label": "Felt well"
                      },
                      {
                        "concept": "a89eacc2-1350-11df-a1f1-0026b9348838",
                        "label": "Forgot"
                      },
                      {
                        "concept": "7211031b-0685-44bc-a5e9-5a018d0173ea",
                        "label": "Gave away"
                      },
                      {
                        "concept": "a8af4cee-1350-11df-a1f1-0026b9348838",
                        "label": "Lost/Ran out of pills"
                      },
                      {
                        "concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
                        "label": "Pill burden"
                      },
                      {
                        "concept": "a89eb8c0-1350-11df-a1f1-0026b9348838",
                        "label": "Side effects"
                      },
                      {
                        "concept": "a89eba46-1350-11df-a1f1-0026b9348838",
                        "label": "Stigma"
                      },
                      {
                        "concept": "c0c9eab3-46f6-453c-b29d-dc1c242317c5",
                        "label": "Stock out"
                      },
                      {
                        "concept": "a89de2d8-1350-11df-a1f1-0026b9348838",
                        "label": "Too ill"
                      },
                      {
                        "concept": "a897fdaa-1350-11df-a1f1-0026b9348838",
                        "label": "Travel problems"
                      },
                      {
                        "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                        "label": "Other"
                      }
                    ],
                    "rendering": "multiCheckbox"
                  },
                  "type": "obs",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "onArt !== 'a899b35c-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], artAdherence) "
                  }
                },
                {
                  "label": "Adherence (ART): Other (specify):",
                  "id": "artAdherenceOther",
                  "type": "obs",
                  "questionOptions": {
                    "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
                    "rendering": "text"
                  },
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "onArt !== 'a899b35c-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], artAdherence) "
                  }
                }
              ],
              "id": "__MwrypH7LD"
            }
          ]
        },
        {
          "label": "PCP Prophylaxis History",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Is the patient on any PCP prophylaxis?",
              "id": "pcpProphylaxisCurrent",
              "historicalExpression": "HD.getObject('prevEnc').getValue('a899e282-1350-11df-a1f1-0026b9348838')",
              "questionOptions": {
                "concept": "a899e282-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                    "label": "None"
                  },
                  {
                    "concept": "a8989396-1350-11df-a1f1-0026b9348838",
                    "label": "Septrin"
                  },
                  {
                    "concept": "a890c9e0-1350-11df-a1f1-0026b9348838",
                    "label": "Dapsone 100mg"
                  }
                ],
                "rendering": "select"
              },
              "required": "true",
              "type": "obs",
              "validators": []
            },
            {
              "type": "obsGroup",
              "label": "PCP prophylaxis adherence:",
              "questionOptions": {
                "concept": "275eee16-c358-4f3a-ac16-e8f24659df87",
                "rendering": "group"
              },
              "questions": [
                {
                  "label": "Patient's adherence on PCP prophylaxis:",
                  "id": "pcpProphylaxisAdherence",
                  "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('115c744a-cf54-469f-bd5f-820352ffe9be')) ? undefined : HD.getObject('prevEnc').getValue('115c744a-cf54-469f-bd5f-820352ffe9be')",
                  "questionOptions": {
                    "concept": "115c744a-cf54-469f-bd5f-820352ffe9be",
                    "answers": [
                      {
                        "concept": "a8b0f882-1350-11df-a1f1-0026b9348838",
                        "label": "Good"
                      },
                      {
                        "concept": "a73d20b3-d721-4763-a362-14a0c41a6b5e",
                        "label": "Fair"
                      },
                      {
                        "concept": "fdaf8b47-ea14-4d28-80fa-e1da58a30e8b",
                        "label": "Poor"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(pcpProphylaxisCurrent) && arrayContains(['a8989396-1350-11df-a1f1-0026b9348838', 'a890c9e0-1350-11df-a1f1-0026b9348838'], pcpProphylaxisCurrent) && isEmpty(myValue)",
                      "message": "Patient on PCP Prophylaxis. Please provide adherence history"
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(pcpProphylaxisCurrent) || pcpProphylaxisCurrent === 'a899e0ac-1350-11df-a1f1-0026b9348838'"
                  }
                },
                {
                  "label": "Adherence (PCP) reasons for poor/fair:",
                  "id": "pcpAdherence",
                  "questionOptions": {
                    "concept": "a89ebbc2-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a89ced88-1350-11df-a1f1-0026b9348838",
                        "label": "Alcohol"
                      },
                      {
                        "concept": "a8935fde-1350-11df-a1f1-0026b9348838",
                        "label": "Depression"
                      },
                      {
                        "concept": "a89eac04-1350-11df-a1f1-0026b9348838",
                        "label": "Felt well"
                      },
                      {
                        "concept": "a89eacc2-1350-11df-a1f1-0026b9348838",
                        "label": "Forgot"
                      },
                      {
                        "concept": "7211031b-0685-44bc-a5e9-5a018d0173ea",
                        "label": "Gave away"
                      },
                      {
                        "concept": "a8af4cee-1350-11df-a1f1-0026b9348838",
                        "label": "Lost/ran out of pills"
                      },
                      {
                        "concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
                        "label": "Pill burden"
                      },
                      {
                        "concept": "a89eb8c0-1350-11df-a1f1-0026b9348838",
                        "label": "Side effects"
                      },
                      {
                        "concept": "a89eba46-1350-11df-a1f1-0026b9348838",
                        "label": "Stigma"
                      },
                      {
                        "concept": "c0c9eab3-46f6-453c-b29d-dc1c242317c5",
                        "label": "Stock out"
                      },
                      {
                        "concept": "a89de2d8-1350-11df-a1f1-0026b9348838",
                        "label": "Too ill"
                      },
                      {
                        "concept": "a897fdaa-1350-11df-a1f1-0026b9348838",
                        "label": "Travel problems"
                      },
                      {
                        "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                        "label": "Other"
                      }
                    ],
                    "rendering": "multiCheckbox"
                  },
                  "type": "obs",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(pcpProphylaxisCurrent) || pcpProphylaxisCurrent === 'a899e0ac-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], pcpProphylaxisAdherence)"
                  }
                },
                {
                  "label": "Adherence (PCP): Other (specify):",
                  "questionOptions": {
                    "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
                    "rendering": "text"
                  },
                  "type": "obs",
                  "id": "pcpOtherAdherence",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(pcpProphylaxisCurrent) || pcpProphylaxisCurrent === 'a899e0ac-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], pcpProphylaxisAdherence)"
                  }
                }
              ],
              "id": "__z0szr3usE"
            }
          ]
        },
        {
          "label": "TB Prophylaxis History",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Is the patient on any TB prophylaxis?",
              "type": "obs",
              "required": "true",
              "id": "onTbProphylaxis",
              "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('163784d2-6c55-4ceb-abf0-df8cebb385f1')) ? undefined : HD.getObject('prevEnc').getValue('163784d2-6c55-4ceb-abf0-df8cebb385f1')",
              "questionOptions": {
                "concept": "163784d2-6c55-4ceb-abf0-df8cebb385f1",
                "answers": [
                  {
                    "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                    "label": "Yes"
                  },
                  {
                    "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                    "label": "No"
                  }
                ],
                "rendering": "select"
              },
              "validators": []
            },
            {
              "label": "If no, have you ever used the drugs in the past?",
              "type": "obs",
              "id": "pastTbProphylaxisDrug",
              "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('59077bc1-7ef7-4b27-a33b-113e2841bd4f')) ? undefined : HD.getObject('prevEnc').getValue('59077bc1-7ef7-4b27-a33b-113e2841bd4f')",
              "questionOptions": {
                "concept": "59077bc1-7ef7-4b27-a33b-113e2841bd4f",
                "answers": [
                  {
                    "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                    "label": "Yes"
                  },
                  {
                    "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                    "label": "No"
                  }
                ],
                "rendering": "select"
              },
              "validators": [],
              "hide": {
                "hideWhenExpression": "onTbProphylaxis !== 'a899b42e-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "label": "If yes select drug",
              "type": "obs",
              "id": "onTbProphylaxisDrug",
              "historicalExpression": "HD.getObject('prevEnc').getValue('a899e35e-1350-11df-a1f1-0026b9348838')",
              "questionOptions": {
                "concept": "a899e35e-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "162724df-5a66-4ae3-bbf6-5dc6dbba4ebb",
                    "label": "Isoniazid 100mg (6H)"
                  },
                  {
                    "concept": "b150ccdc-e7ec-4f99-b592-6f3fa73b3aea",
                    "label": "Isoniazid 300mg (6H)"
                  },
                  {
                    "concept": "aeaed1af-5b0d-401e-a32a-e96cf4072ab5",
                    "label": "Isoniazid 300mg and Rifapentine 300mg (3HP)"
                  },
                  {
                    "concept": "177635d0-793b-4a66-8324-976c46f795af",
                    "label": "Rifampicin 150mg and Isonaizid 75mg (3RH)"
                  },
                  {
                    "concept": "e5e24e6d-e6b0-4c81-8f7b-0e366df29426",
                    "label": "Rifampicin 70mg and Isonaizid 50mg (3RH)"
                  }
                ],
                "rendering": "select"
              },
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(onTbProphylaxis) && onTbProphylaxis === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Patient  marked as on TB Prophylaxis. Please provide the drug."
                }
              ],
              "hide": {
                "hideWhenExpression": "onTbProphylaxis !== 'a899b35c-1350-11df-a1f1-0026b9348838' && pastTbProphylaxisDrug !== 'a899b35c-1350-11df-a1f1-0026b9348838' "
              }
            },
            {
              "label": "Start date of past TB prophylaxis treatment:",
              "id": "pastStartTbProphTreatment",
              "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('67785e82-c2f7-4417-8ada-cc8e85abbfc1')) ? undefined : HD.getObject('prevEnc').getValue('67785e82-c2f7-4417-8ada-cc8e85abbfc1')",
              "questionOptions": {
                "concept": "67785e82-c2f7-4417-8ada-cc8e85abbfc1",
                "rendering": "date"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "date"
                }
              ],
              "hide": {
                "hideWhenExpression": "pastTbProphylaxisDrug !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "label": "End date of past TB prophylaxis treatment:",
              "id": "pastEndTbProphTreatment",
              "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('d4f18a59-9bb4-4089-8cd6-1410491569a0')) ? undefined : HD.getObject('prevEnc').getValue('d4f18a59-9bb4-4089-8cd6-1410491569a0')",
              "questionOptions": {
                "concept": "d4f18a59-9bb4-4089-8cd6-1410491569a0",
                "rendering": "date"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "date"
                }
              ],
              "hide": {
                "hideWhenExpression": "pastTbProphylaxisDrug !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "label": "TB prophylaxis adherence",
              "type": "obsGroup",
              "questionOptions": {
                "concept": "3a69cfcf-f129-4702-a8dd-d061d2a16b9d",
                "rendering": "group"
              },
              "questions": [
                {
                  "label": "Patient's adherence on TB prophylaxis:",
                  "id": "adherenceOnTbProphy",
                  "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('3a69cfcf-f129-4702-a8dd-d061d2a16b9d','ebfdb93a-9292-4245-9a27-0faf49545720')) ? undefined : HD.getObject('prevEnc').getValue('3a69cfcf-f129-4702-a8dd-d061d2a16b9d','ebfdb93a-9292-4245-9a27-0faf49545720')",
                  "questionOptions": {
                    "concept": "ebfdb93a-9292-4245-9a27-0faf49545720",
                    "answers": [
                      {
                        "concept": "a8b0f882-1350-11df-a1f1-0026b9348838",
                        "label": "Good"
                      },
                      {
                        "concept": "a73d20b3-d721-4763-a362-14a0c41a6b5e",
                        "label": "Fair"
                      },
                      {
                        "concept": "fdaf8b47-ea14-4d28-80fa-e1da58a30e8b",
                        "label": "Poor"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(onTbProphylaxis) && arrayContains(['a899b35c-1350-11df-a1f1-0026b9348838'], onTbProphylaxis) && isEmpty(myValue)",
                      "message": "Patient on TB Prophylaxis. Please provide adherence history."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(onTbProphylaxis)|| onTbProphylaxis !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
                  }
                },
                {
                  "label": "Adherence (TB Prophylaxis) reasons for poor/fair:",
                  "id": "tbProphylaxisAdherence",
                  "questionOptions": {
                    "concept": "a89ebbc2-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a89ced88-1350-11df-a1f1-0026b9348838",
                        "label": "Alcohol"
                      },
                      {
                        "concept": "a8935fde-1350-11df-a1f1-0026b9348838",
                        "label": "Depression"
                      },
                      {
                        "concept": "a89eac04-1350-11df-a1f1-0026b9348838",
                        "label": "Felt well"
                      },
                      {
                        "concept": "a89eacc2-1350-11df-a1f1-0026b9348838",
                        "label": "Forgot"
                      },
                      {
                        "concept": "7211031b-0685-44bc-a5e9-5a018d0173ea",
                        "label": "Gave away"
                      },
                      {
                        "concept": "a8af4cee-1350-11df-a1f1-0026b9348838",
                        "label": "Lost/Ran out of pills"
                      },
                      {
                        "concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
                        "label": "Pill burden"
                      },
                      {
                        "concept": "a89eb8c0-1350-11df-a1f1-0026b9348838",
                        "label": "Side effects"
                      },
                      {
                        "concept": "a89eba46-1350-11df-a1f1-0026b9348838",
                        "label": "Stigma"
                      },
                      {
                        "concept": "c0c9eab3-46f6-453c-b29d-dc1c242317c5",
                        "label": "Stock out"
                      },
                      {
                        "concept": "a89de2d8-1350-11df-a1f1-0026b9348838",
                        "label": "Too ill"
                      },
                      {
                        "concept": "a897fdaa-1350-11df-a1f1-0026b9348838",
                        "label": "Travel problems"
                      },
                      {
                        "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                        "label": "Other"
                      }
                    ],
                    "rendering": "multiCheckbox"
                  },
                  "type": "obs",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(onTbProphylaxis) || onTbProphylaxis !== 'a899b35c-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], adherenceOnTbProphy)"
                  }
                },
                {
                  "label": "Adherence (TB Prophylaxis): Other (specify):",
                  "questionOptions": {
                    "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
                    "rendering": "text"
                  },
                  "type": "obs",
                  "id": "tbProphylaxisOtherAdherence",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(onTbProphylaxis) || onTbProphylaxis !== 'a899b35c-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], adherenceOnTbProphy)"
                  }
                }
              ],
              "id": "__zGGsFM8oG"
            }
          ]
        },
        {
          "label": "Tuberculosis History",
          "isExpanded": "true",
          "questions": [
            {
              "id": "onTbTreatment",
              "required": "true",
              "label": "Is patient on TB treatment?",
              "historicalExpression": "HD.getObject('prevEnc').getValue('a8afcc82-1350-11df-a1f1-0026b9348838')",
              "questionOptions": {
                "concept": "a8afcc82-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                    "label": "Yes"
                  },
                  {
                    "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                    "label": "No"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs"
            },
            {
              "label": "Start date of TB treatment:",
              "id": "startDateOfTbTreatment",
              "historicalExpression": "HD.getObject('prevEnc').getValue('a899e5f2-1350-11df-a1f1-0026b9348838')",
              "questionOptions": {
                "concept": "a899e5f2-1350-11df-a1f1-0026b9348838",
                "rendering": "date"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "date"
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(onTbTreatment) && arrayContains(['a899b35c-1350-11df-a1f1-0026b9348838'], onTbTreatment) && isEmpty(myValue)",
                  "message": "You indicated patient on tb treatment, indicate start date."
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "(isEmpty(onTbTreatment) || !arrayContains(['a899b35c-1350-11df-a1f1-0026b9348838'], onTbTreatment)) && !isEmpty(myValue)",
                  "message": "You indicated patient is not on tb treatment, therefore start date should not be indicated."
                }
              ],
              "hide": {
                "hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "label": "Tuberculosis treatment phase:",
              "type": "obs",
              "id": "tbPhase",
              "questionOptions": {
                "concept": "a8afdf4c-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a8afdd08-1350-11df-a1f1-0026b9348838",
                    "label": "Continuation phase"
                  },
                  {
                    "concept": "a8afddc6-1350-11df-a1f1-0026b9348838",
                    "label": "Retreatment phase"
                  },
                  {
                    "concept": "a8afdc4a-1350-11df-a1f1-0026b9348838",
                    "label": "Induction phase"
                  },
                  {
                    "concept": "a8afde8e-1350-11df-a1f1-0026b9348838",
                    "label": "Retreated phase"
                  },
                  {
                    "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                    "label": "Other"
                  }
                ],
                "rendering": "select"
              },
              "hide": {
                "hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "type": "obsGroup",
              "label": "Current TB regimen",
              "questionOptions": {
                "concept": "a8afdb8c-1350-11df-a1f1-0026b9348838",
                "rendering": "repeating"
              },
              "questions": [
                {
                  "label": "Current TB regimen:",
                  "type": "obs",
                  "id": "tb_current",
                  "questionOptions": {
                    "concept": "a899e444-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a899f51a-1350-11df-a1f1-0026b9348838",
                        "label": "RHZE"
                      },
                      {
                        "concept": "a897d1a4-1350-11df-a1f1-0026b9348838",
                        "label": "RHZ"
                      },
                      {
                        "concept": "a8a382ba-1350-11df-a1f1-0026b9348838",
                        "label": "RHE"
                      },
                      {
                        "concept": "a89b1ca6-1350-11df-a1f1-0026b9348838",
                        "label": "RH"
                      },
                      {
                        "concept": "a899e19c-1350-11df-a1f1-0026b9348838",
                        "label": "EH"
                      },
                      {
                        "concept": "a8971c64-1350-11df-a1f1-0026b9348838",
                        "label": "Ethambutol"
                      },
                      {
                        "concept": "a8a3243c-1350-11df-a1f1-0026b9348838",
                        "label": "MDR drugs"
                      },
                      {
                        "concept": "a896cc00-1350-11df-a1f1-0026b9348838",
                        "label": "INH"
                      },
                      {
                        "concept": "a8ac5f2a-1350-11df-a1f1-0026b9348838",
                        "label": "Pyrazinamide"
                      },
                      {
                        "concept": "a8952e4a-1350-11df-a1f1-0026b9348838",
                        "label": "Streptomycin"
                      },
                      {
                        "concept": "b8aa06ca-93c6-40ea-b144-c74f841926f4",
                        "label": "Rifabutin"
                      },
                      {
                        "concept": "a897d0be-1350-11df-a1f1-0026b9348838",
                        "label": "Rifampicin"
                      },
                      {
                        "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                        "label": "Other"
                      }
                    ],
                    "rendering": "select"
                  },
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
                  }
                },
                {
                  "label": "tabs/day:",
                  "questionOptions": {
                    "concept": "a8a07386-1350-11df-a1f1-0026b9348838",
                    "max": "30",
                    "min": "0",
                    "rendering": "number"
                  },
                  "type": "obs",
                  "hide": {
                    "field": "tb_current",
                    "value": [
                      "a899f51a-1350-11df-a1f1-0026b9348838",
                      "a897d1a4-1350-11df-a1f1-0026b9348838",
                      "a8a382ba-1350-11df-a1f1-0026b9348838"
                    ]
                  },
                  "id": "__EtoxCKpwt"
                },
                {
                  "label": "mg:",
                  "questionOptions": {
                    "concept": "a8a063c8-1350-11df-a1f1-0026b9348838",
                    "max": "2000",
                    "min": "0",
                    "rendering": "number"
                  },
                  "type": "obs",
                  "hide": {
                    "field": "tb_current",
                    "value": [
                      "a899e19c-1350-11df-a1f1-0026b9348838",
                      "a8ac5f2a-1350-11df-a1f1-0026b9348838",
                      "a8952e4a-1350-11df-a1f1-0026b9348838"
                    ]
                  },
                  "id": "__vMrFK8xvs"
                },
                {
                  "label": "mg/day:",
                  "questionOptions": {
                    "concept": "a8a0744e-1350-11df-a1f1-0026b9348838",
                    "max": "2000",
                    "min": "0",
                    "rendering": "number"
                  },
                  "type": "obs",
                  "hide": {
                    "field": "tb_current",
                    "value": [
                      "a896cc00-1350-11df-a1f1-0026b9348838",
                      "a8971c64-1350-11df-a1f1-0026b9348838"
                    ]
                  },
                  "id": "__IvLtKMsGo"
                },
                {
                  "label": "tabs:",
                  "questionOptions": {
                    "concept": "a8a0630a-1350-11df-a1f1-0026b9348838",
                    "max": "180",
                    "min": "0",
                    "rendering": "number"
                  },
                  "type": "obs",
                  "hide": {
                    "field": "tb_current",
                    "value": [
                      "b8aa06ca-93c6-40ea-b144-c74f841926f4"
                    ]
                  },
                  "id": "__osHJKqsMK"
                }
              ],
              "id": "__HxMLEqptz"
            },
            {
              "label": "TB treatment completion date:",
              "type": "obs",
              "id": "tbComplDate",
              "questionOptions": {
                "concept": "a8a176b4-1350-11df-a1f1-0026b9348838",
                "rendering": "date"
              },
              "hide": {
                "hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "label": "TB treatment defaulted year:",
              "type": "obs",
              "id": "tbDefaultDate",
              "questionOptions": {
                "concept": "a8a18758-1350-11df-a1f1-0026b9348838",
                "rendering": "number"
              },
              "hide": {
                "hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "type": "obsGroup",
              "id": "tbadhere",
              "label": "Patient adherence to TB medications",
              "questionOptions": {
                "concept": "2a4b87dd-977d-4ce8-a321-1f13df4a31b2",
                "rendering": "group"
              },
              "questions": [
                {
                  "label": "Patient adherence to TB medications:",
                  "id": "tb_adherence",
                  "questionOptions": {
                    "concept": "479decbd-e964-41c3-9576-98b39089ebd3",
                    "answers": [
                      {
                        "concept": "a8b0f882-1350-11df-a1f1-0026b9348838",
                        "label": "Good"
                      },
                      {
                        "concept": "a73d20b3-d721-4763-a362-14a0c41a6b5e",
                        "label": "Fair"
                      },
                      {
                        "concept": "fdaf8b47-ea14-4d28-80fa-e1da58a30e8b",
                        "label": "Poor"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(onTbTreatment) && onTbTreatment === 'a899b35c-1350-11df-a1f1-0026b9348838' && isEmpty(myValue)",
                      "message": "Patient on TB Treament. Please provide adherence history."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
                  }
                },
                {
                  "label": "Adherence (TB Treatment) reasons for poor/fair:",
                  "id": "adherenceTbTreatment",
                  "questionOptions": {
                    "concept": "a89ebbc2-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a89ced88-1350-11df-a1f1-0026b9348838",
                        "label": "Alcohol"
                      },
                      {
                        "concept": "a8935fde-1350-11df-a1f1-0026b9348838",
                        "label": "Depression"
                      },
                      {
                        "concept": "a89eac04-1350-11df-a1f1-0026b9348838",
                        "label": "Felt well"
                      },
                      {
                        "concept": "a89eacc2-1350-11df-a1f1-0026b9348838",
                        "label": "Forgot"
                      },
                      {
                        "concept": "7211031b-0685-44bc-a5e9-5a018d0173ea",
                        "label": "Gave away"
                      },
                      {
                        "concept": "a8af4cee-1350-11df-a1f1-0026b9348838",
                        "label": "Lost/Ran out of pills"
                      },
                      {
                        "concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
                        "label": "Pill burden"
                      },
                      {
                        "concept": "a89eb8c0-1350-11df-a1f1-0026b9348838",
                        "label": "Side effects"
                      },
                      {
                        "concept": "a89eba46-1350-11df-a1f1-0026b9348838",
                        "label": "Stigma"
                      },
                      {
                        "concept": "c0c9eab3-46f6-453c-b29d-dc1c242317c5",
                        "label": "Stock out"
                      },
                      {
                        "concept": "a89de2d8-1350-11df-a1f1-0026b9348838",
                        "label": "Too ill"
                      },
                      {
                        "concept": "a897fdaa-1350-11df-a1f1-0026b9348838",
                        "label": "Travel problems"
                      },
                      {
                        "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                        "label": "Other"
                      }
                    ],
                    "rendering": "multiCheckbox"
                  },
                  "type": "obs",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], tb_adherence)"
                  }
                },
                {
                  "label": "Adherence (TB Treatment): Other (specify):",
                  "questionOptions": {
                    "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
                    "rendering": "text"
                  },
                  "type": "obs",
                  "id": "adherenceTbOther",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], tb_adherence)"
                  }
                }
              ]
            }
          ]
        },
        {
          "label": "Advanced HIV Disease Treatment History",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Cryptococcal meningitis treatment:",
              "required": "true",
              "id": "cryptCurrent",
              "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('a899e516-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('a899e516-1350-11df-a1f1-0026b9348838')",
              "questionOptions": {
                "concept": "a899e516-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                    "label": "None"
                  },
                  {
                    "concept": "a8971e12-1350-11df-a1f1-0026b9348838",
                    "label": "Fluconazole"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "Cryptococcal meningitis treatment phase:",
              "id": "cryptxphase",
              "type": "obs",
              "questionOptions": {
                "concept": "27a4be5a-daf1-4ca8-ae00-5845f8dfb9b0",
                "rendering": "select",
                "answers": [
                  {
                    "concept": "f29c05ea-4d44-42e1-ad89-97e6631f6f7e",
                    "label": "Induction phase"
                  },
                  {
                    "concept": "abecbb51-45e1-4150-914a-d0e33082672f",
                    "label": "Consolidation phase"
                  },
                  {
                    "concept": "09748d74-2f28-4c2d-a224-fa9314bea5e3",
                    "label": "Maintenance phase"
                  }
                ]
              },
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(cryptCurrent) && cryptCurrent === 'a8971e12-1350-11df-a1f1-0026b9348838'",
                  "message": "Patient  marked as on Crypto treatment. Please indicate treatment phase."
                }
              ],
              "hide": {
                "hideWhenExpression": "cryptCurrent !== 'a8971e12-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "label": "Cryptococcal meningitis treatment start date:",
              "type": "obs",
              "id": "cryptoDate",
              "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('1221a7dd-19ff-4880-b61a-4fab60cbd5a8')) ? undefined : HD.getObject('prevEnc').getValue('1221a7dd-19ff-4880-b61a-4fab60cbd5a8')",
              "questionOptions": {
                "concept": "1221a7dd-19ff-4880-b61a-4fab60cbd5a8",
                "rendering": "date"
              },
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "(new moment(encDate)).isBefore((new moment(myValue)), 'day')",
                  "message": "Date should not be greater than the encounter date."
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(cryptCurrent) && cryptCurrent === 'a8971e12-1350-11df-a1f1-0026b9348838'",
                  "message": "Patient  marked as on Crypto treatment. Please indicate start date."
                }
              ],
              "hide": {
                "hideWhenExpression": "cryptCurrent !== 'a8971e12-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "label": "PCP treatment:",
              "required": "true",
              "id": "pcpCurrent",
              "questionOptions": {
                "concept": "be7384b3-2249-431e-872f-a57f0269a008",
                "answers": [
                  {
                    "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                    "label": "None"
                  },
                  {
                    "concept": "a8989396-1350-11df-a1f1-0026b9348838",
                    "label": "Septrin"
                  },
                  {
                    "concept": "a890c9e0-1350-11df-a1f1-0026b9348838",
                    "label": "Dapsone"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "Toxoplasmosis treatment:",
              "required": "true",
              "id": "toxoCurrent",
              "questionOptions": {
                "concept": "87f971b1-1537-417e-99bc-e18ab7f480ce",
                "answers": [
                  {
                    "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                    "label": "None"
                  },
                  {
                    "concept": "87f971b1-1537-417e-99bc-e18ab7f480ce",
                    "label": "Septrin"
                  },
                  {
                    "concept": "010c530d-5433-4c1a-8b08-174c0224a2c5",
                    "label": "Pyrimethamine"
                  },
                  {
                    "concept": "52e0e230-cfaf-4301-8fc5-cc4c2383de10",
                    "label": "Clindamycin"
                  },
                  {
                    "concept": "c3ce4c2c-b5f7-455f-8c9b-7e58d8976cec",
                    "label": "Sulfadiazine"
                  },
                  {
                    "concept": "43eefe0f-044e-407d-8cd4-40755f1e65f2",
                    "label": "Folinic acid"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "Kaposi's sacorma treatment:",
              "id": "kaposiCurrent",
              "required": "true",
              "questionOptions": {
                "concept": "d88dd806-5db1-49c0-a72e-8437fa718022",
                "answers": [
                  {
                    "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                    "label": "None"
                  },
                  {
                    "concept": "ca10f28c-586a-427a-8bcc-816f0835ab18",
                    "label": "Chemotherapy"
                  },
                  {
                    "concept": "12afc118-5acd-48c6-89a0-1b6156c33d10",
                    "label": "Radiotherapy"
                  },
                  {
                    "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                    "label": "Other"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "type": "obs",
              "validators": []
            }
          ]
        },
        {
          "label": "Other Medications",
          "questions": [
            {
              "label": "Please add any other medications the patient is taking",
              "type": "obsGroup",
              "questionOptions": {
                "concept": "a8a072c8-1350-11df-a1f1-0026b9348838",
                "rendering": "repeating"
              },
              "questions": [
                {
                  "label": "Other drugs:",
                  "questionOptions": {
                    "concept": "a8a060c6-1350-11df-a1f1-0026b9348838",
                    "rendering": "drug"
                  },
                  "type": "obs",
                  "validators": [],
                  "id": "__Hr8tGxvpo"
                }
              ],
              "id": "__9LIF7xMpv"
            }
          ]
        },
        {
          "label": "Drug Allergy",
          "questions": [
            {
              "type": "obsGroup",
              "label": "Penicillin  allergy",
              "questionOptions": {
                "concept": "a8a1990a-1350-11df-a1f1-0026b9348838",
                "rendering": "group"
              },
              "questions": [
                {
                  "label": "Penicillin  allergy:",
                  "id": "penAllergy",
                  "questionOptions": {
                    "concept": "a8ad3f44-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                        "label": "Yes"
                      },
                      {
                        "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                        "label": "No"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": []
                },
                {
                  "label": "Specify reaction:",
                  "id": "penReaction",
                  "questionOptions": {
                    "concept": "a8a19842-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a8a6d53c-1350-11df-a1f1-0026b9348838",
                        "label": "Wheeze"
                      },
                      {
                        "concept": "a8983ae0-1350-11df-a1f1-0026b9348838",
                        "label": "Prurits"
                      },
                      {
                        "concept": "a8ad239c-1350-11df-a1f1-0026b9348838",
                        "label": "Vomiting"
                      },
                      {
                        "concept": "a890d73c-1350-11df-a1f1-0026b9348838",
                        "label": "Cough"
                      },
                      {
                        "concept": "a895776a-1350-11df-a1f1-0026b9348838",
                        "label": "Rash"
                      },
                      {
                        "concept": "a5ff4096-7001-4f1d-8b80-e56f0b848527",
                        "label": "Angioedema"
                      },
                      {
                        "concept": "a8ad3576-1350-11df-a1f1-0026b9348838",
                        "label": "Swelling"
                      },
                      {
                        "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                        "label": "Others"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "penAllergy !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
                  }
                }
              ],
              "id": "__qnqxsGJIq"
            },
            {
              "type": "obsGroup",
              "label": "Sulfa allergy",
              "questionOptions": {
                "concept": "a8a199d2-1350-11df-a1f1-0026b9348838",
                "rendering": "group"
              },
              "questions": [
                {
                  "label": "Sulfa allergy:",
                  "id": "sulAllergy",
                  "questionOptions": {
                    "concept": "a8ad402a-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                        "label": "Yes"
                      },
                      {
                        "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                        "label": "No"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": []
                },
                {
                  "label": "Specify reaction:",
                  "id": "sulReaction",
                  "questionOptions": {
                    "concept": "a8a19842-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a8a6d53c-1350-11df-a1f1-0026b9348838",
                        "label": "Wheeze"
                      },
                      {
                        "concept": "a8983ae0-1350-11df-a1f1-0026b9348838",
                        "label": "Prurits"
                      },
                      {
                        "concept": "a8ad239c-1350-11df-a1f1-0026b9348838",
                        "label": "Vomiting"
                      },
                      {
                        "concept": "a890d73c-1350-11df-a1f1-0026b9348838",
                        "label": "Cough"
                      },
                      {
                        "concept": "a895776a-1350-11df-a1f1-0026b9348838",
                        "label": "Rash"
                      },
                      {
                        "concept": "a5ff4096-7001-4f1d-8b80-e56f0b848527",
                        "label": "Angioedema"
                      },
                      {
                        "concept": "a8ad3576-1350-11df-a1f1-0026b9348838",
                        "label": "Swelling"
                      },
                      {
                        "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                        "label": "Others"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "sulAllergy !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
                  }
                }
              ],
              "id": "__tn42sGpIv"
            },
            {
              "type": "obsGroup",
              "label": "Other allergy",
              "questionOptions": {
                "concept": "a8a19a9a-1350-11df-a1f1-0026b9348838",
                "rendering": "repeating"
              },
              "questions": [
                {
                  "label": "Other allergy:",
                  "id": "otherAllergy",
                  "questionOptions": {
                    "concept": "a899c59a-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                        "label": "Yes"
                      },
                      {
                        "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                        "label": "No"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": []
                },
                {
                  "label": "Name of drug/product",
                  "type": "obs",
                  "questionOptions": {
                    "concept": "a8a19b58-1350-11df-a1f1-0026b9348838",
                    "rendering": "drug"
                  },
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "isEmpty(myValue) && !isEmpty(otherAllergy) && otherAllergy === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                      "message": "Patient previously marked as having other reaction. Please provide name of drug."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "otherAllergy !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
                  },
                  "id": "__tDHLEqyv8"
                },
                {
                  "label": "Specify reaction:",
                  "id": "otherReaction",
                  "questionOptions": {
                    "concept": "a8a19842-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a8a6d53c-1350-11df-a1f1-0026b9348838",
                        "label": "Wheeze"
                      },
                      {
                        "concept": "a8983ae0-1350-11df-a1f1-0026b9348838",
                        "label": "Prurits"
                      },
                      {
                        "concept": "a8ad239c-1350-11df-a1f1-0026b9348838",
                        "label": "Vomiting"
                      },
                      {
                        "concept": "a890d73c-1350-11df-a1f1-0026b9348838",
                        "label": "Cough"
                      },
                      {
                        "concept": "a895776a-1350-11df-a1f1-0026b9348838",
                        "label": "Rash"
                      },
                      {
                        "concept": "a5ff4096-7001-4f1d-8b80-e56f0b848527",
                        "label": "Angioedema"
                      },
                      {
                        "concept": "a8ad3576-1350-11df-a1f1-0026b9348838",
                        "label": "Swelling"
                      },
                      {
                        "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                        "label": "Others"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "otherAllergy !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
                  }
                }
              ],
              "id": "__vLr0DKwtq"
            }
          ]
        },
        {
          "label": "Side Effects/Toxicity",
          "isExpanded": "true",
          "questions": [
            {
              "type": "obsGroup",
              "label": "Side effects",
              "id": "sideEff",
              "questionOptions": {
                "concept": "a8a072c8-1350-11df-a1f1-0026b9348838",
                "rendering": "group"
              },
              "questions": [
                {
                  "label": "Any side effects attributable to any drug that the patient is currently taking:",
                  "required": "true",
                  "id": "currSideEffect",
                  "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('30fc0cea-b6c7-48cc-bbfb-4eb53170ce41')) ? undefined : HD.getObject('prevEnc').getValue('30fc0cea-b6c7-48cc-bbfb-4eb53170ce41')",
                  "questionOptions": {
                    "concept": "30fc0cea-b6c7-48cc-bbfb-4eb53170ce41",
                    "answers": [
                      {
                        "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                        "label": "Yes"
                      },
                      {
                        "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                        "label": "No"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(current_art_regimen_adult) && isEmpty(myValue) && arrayContains(current_art_regimen_adult, '98b0baf6-0b73-4429-9264-6233684b0969')",
                      "message": "Patient is on DTG. Kindly fill the side effects."
                    }
                  ]
                }
              ]
            },
            {
              "type": "obsGroup",
              "questionOptions": {
                "rendering": "repeating",
                "concept": "a8a072c8-1350-11df-a1f1-0026b9348838"
              },
              "label": "If yes drugs suspected to be causing side effects",
              "questions": [
                {
                  "label": "Drug:",
                  "id": "sideEffectDrug",
                  "questionOptions": {
                    "concept": "1682a920-c93d-4aad-b9cb-4a2b2c41ff1a",
                    "rendering": "drug"
                  },
                  "type": "obs",
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "isEmpty(myValue) && !isEmpty(currSideEffect) && currSideEffect === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                      "message": "Patient  marked as having side effects. Please provide list."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "currSideEffect !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
                  }
                }
              ],
              "id": "__ovK20spEs"
            },
            {
              "label": "If yes, tick all that apply:",
              "id": "sideEffectype",
              "questionOptions": {
                "concept": "c2ecd5f7-4b47-47ae-b706-3dc5ed98b4db",
                "answers": [
                  {
                    "concept": "a877c7f6-1350-11df-a1f1-0026b9348838",
                    "label": "Anaemia"
                  },
                  {
                    "concept": "a8909060-1350-11df-a1f1-0026b9348838",
                    "label": "Hepatitis"
                  },
                  {
                    "concept": "a89d0c0a-1350-11df-a1f1-0026b9348838",
                    "label": "IRIS"
                  },
                  {
                    "concept": "a8a01dfa-1350-11df-a1f1-0026b9348838",
                    "label": "Lactic acidosis"
                  },
                  {
                    "concept": "a89cee50-1350-11df-a1f1-0026b9348838",
                    "label": "Lipo-dystrophy"
                  },
                  {
                    "concept": "a897fe86-1350-11df-a1f1-0026b9348838",
                    "label": "Neuropathy"
                  },
                  {
                    "concept": "a8ad239c-1350-11df-a1f1-0026b9348838",
                    "label": "Persistent vomiting"
                  },
                  {
                    "concept": "a895776a-1350-11df-a1f1-0026b9348838",
                    "label": "Rash"
                  },
                  {
                    "concept": "a8a16d0e-1350-11df-a1f1-0026b9348838",
                    "label": "Steven-Johnson syndrome"
                  },
                  {
                    "concept": "a8ad21e4-1350-11df-a1f1-0026b9348838",
                    "label": "Nausea"
                  },
                  {
                    "concept": "a894b604-1350-11df-a1f1-0026b9348838",
                    "label": "Burning sensation"
                  },
                  {
                    "concept": "a890861a-1350-11df-a1f1-0026b9348838",
                    "label": "Diarrhea"
                  },
                  {
                    "concept": "a8966d1e-1350-11df-a1f1-0026b9348838",
                    "label": "Headache"
                  },
                  {
                    "concept": "a8ad042a-1350-11df-a1f1-0026b9348838",
                    "label": "Fatigue"
                  },
                  {
                    "concept": "a89366a0-1350-11df-a1f1-0026b9348838",
                    "label": "Jaundice"
                  },
                  {
                    "concept": "a89836ee-1350-11df-a1f1-0026b9348838",
                    "label": "Dizzy"
                  },
                  {
                    "concept": "a8932f00-1350-11df-a1f1-0026b9348838",
                    "label": "Abdominal pain"
                  },
                  {
                    "concept": "a89cec02-1350-11df-a1f1-0026b9348838",
                    "label": "Anxiety"
                  },
                  {
                    "concept": "c80dcaad-ea61-4b88-b1f7-c091d706c7de",
                    "label": "Nightmare"
                  },
                  {
                    "concept": "a8935fde-1350-11df-a1f1-0026b9348838",
                    "label": "Depression"
                  },
                  {
                    "concept": "a8ad3b02-1350-11df-a1f1-0026b9348838",
                    "label": "Confusion/abnormal thinking"
                  },
                  {
                    "concept": "a8982de8-1350-11df-a1f1-0026b9348838",
                    "label": "Insomnia"
                  },
                  {
                    "concept": "a8ae7ecc-1350-11df-a1f1-0026b9348838",
                    "label": "Poor concentration/ memory problems"
                  },
                  {
                    "concept": "a8ad392c-1350-11df-a1f1-0026b9348838",
                    "label": "Paresthesia/painful neuropathy"
                  },
                  {
                    "concept": "f5b8f79a-5460-49a5-983e-78cc203673da",
                    "label": "Suicide ideation"
                  },
                  {
                    "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                    "label": "Other"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(currSideEffect) && currSideEffect === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Patient  marked as having side effects. Please provide list."
                }
              ],
              "hide": {
                "hideWhenExpression": "currSideEffect !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "id": "reaction",
              "label": "Severity of the reaction:",
              "questionOptions": {
                "concept": "6c1b293c-4d8c-470f-9991-93cdde1274ff",
                "answers": [
                  {
                    "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                    "label": "None"
                  },
                  {
                    "concept": "a89efccc-1350-11df-a1f1-0026b9348838",
                    "label": "Mild"
                  },
                  {
                    "concept": "a89efdee-1350-11df-a1f1-0026b9348838",
                    "label": "Moderate"
                  },
                  {
                    "concept": "a89eff1a-1350-11df-a1f1-0026b9348838",
                    "label": "Severe"
                  },
                  {
                    "concept": "a899b50a-1350-11df-a1f1-0026b9348838",
                    "label": "Unknown"
                  },
                  {
                    "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                    "label": "Other"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(currSideEffect) && currSideEffect === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Patient  marked as having side effects. Please provide list."
                }
              ],
              "hide": {
                "hideWhenExpression": "currSideEffect !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "id": "reactionSerious",
              "label": "Is the reaction serious:",
              "questionOptions": {
                "concept": "2bc6feb6-1a89-4f50-9310-468870c0236a",
                "answers": [
                  {
                    "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                    "label": "Yes"
                  },
                  {
                    "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                    "label": "No"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(currSideEffect) && currSideEffect === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Patient  marked as having side effects. Please provide list."
                }
              ],
              "hide": {
                "hideWhenExpression": "currSideEffect !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "id": "critSeriousness",
              "label": "Criteria/reason for seriousness:",
              "questionOptions": {
                "concept": "bfa798d4-a726-4d23-a71c-3c0b7f7c8c13",
                "answers": [
                  {
                    "concept": "057dae68-3d6f-4d79-926c-ed75a0ce7fd5",
                    "label": "Hospitalization/prolonged hospitalization"
                  },
                  {
                    "concept": "8f902d0c-97d2-4b6e-847e-1fcad3ea03f7",
                    "label": "Disability"
                  },
                  {
                    "concept": "a890bb26-1350-11df-a1f1-0026b9348838",
                    "label": "Congenital anomality"
                  },
                  {
                    "concept": "0d9d2481-ce71-46ae-9ec8-eee56885e0e0",
                    "label": "Life threatening"
                  },
                  {
                    "concept": "a0c98a47-abe3-46f8-8f20-14fb9a3540b8",
                    "label": "Death"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(reactionSerious) && reactionSerious === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Patient  marked as having serious side effects. Please provide list."
                }
              ],
              "hide": {
                "hideWhenExpression": "reactionSerious !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "id": "action",
              "label": "Action plan:",
              "questionOptions": {
                "concept": "01fb96f5-8dc5-4481-8a11-240994b3b795",
                "answers": [
                  {
                    "concept": "b5b9663c-9568-4f48-b70f-34c63b21bce4",
                    "label": "Stopped drugs/Drug withdrawn"
                  },
                  {
                    "concept": "a8a00158-1350-11df-a1f1-0026b9348838",
                    "label": "Substitute drugs"
                  },
                  {
                    "concept": "a8a07bce-1350-11df-a1f1-0026b9348838",
                    "label": "Change drugs"
                  },
                  {
                    "concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
                    "label": "Switched drugs"
                  },
                  {
                    "concept": "e243b15d-b32f-4ee1-976c-1cb721960250",
                    "label": "Dose reduced"
                  },
                  {
                    "concept": "9febaed4-d3ee-482f-aa41-ab4092bcff97",
                    "label": "Dose increased"
                  },
                  {
                    "concept": "7a82a712-4835-4f99-869c-e8df5d27249d",
                    "label": "Dose not changed"
                  },
                  {
                    "concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
                    "label": "Not applicable"
                  },
                  {
                    "concept": "a899b50a-1350-11df-a1f1-0026b9348838",
                    "label": "Unknown"
                  },
                  {
                    "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                    "label": "Other"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(currSideEffect) && currSideEffect === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Patient  marked as having side effects. Please provide list."
                }
              ],
              "hide": {
                "hideWhenExpression": "currSideEffect !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "id": "outcomead",
              "label": "Outcome:",
              "questionOptions": {
                "concept": "68d55412-7cc1-4516-93e5-a76896f040f3",
                "answers": [
                  {
                    "concept": "cc5128d7-826d-4489-86e3-a3a81b69ec36",
                    "label": "Recovered"
                  },
                  {
                    "concept": "f133d497-10c4-4b7b-a883-02376b038125",
                    "label": "Recovered with sequelae"
                  },
                  {
                    "concept": "f5ebeab3-d86a-411e-a793-325442feafd3",
                    "label": "Recovering"
                  },
                  {
                    "concept": "8f902d0c-97d2-4b6e-847e-1fcad3ea03f7",
                    "label": "Not recovered"
                  },
                  {
                    "concept": "a0c98a47-abe3-46f8-8f20-14fb9a3540b8",
                    "label": "Death"
                  },
                  {
                    "concept": "a899b50a-1350-11df-a1f1-0026b9348838",
                    "label": "Unknown"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(currSideEffect) && currSideEffect === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Patient  marked as having side effects. Please provide list."
                }
              ],
              "hide": {
                "hideWhenExpression": "currSideEffect !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "label": "How certain are you the drug(s) is/are the cause of the reaction?",
              "id": "certainityOfReaction",
              "questionOptions": {
                "concept": "d0efbf5b-cbfc-48fc-a857-c0ca4d70f077",
                "answers": [
                  {
                    "concept": "45eb8953-dc14-4c2e-8ce6-12cdf7da280a",
                    "label": "Certain"
                  },
                  {
                    "concept": "07e9e14e-a718-4a9e-9479-1de79e1f614a",
                    "label": "Probable/likely"
                  },
                  {
                    "concept": "260e6d24-1634-4467-a070-e8359f6827f7",
                    "label": "Possible"
                  },
                  {
                    "concept": "66b46c63-7e75-4b1d-918a-1e17348c62f7",
                    "label": "Unlikely"
                  },
                  {
                    "concept": "b1055e84-0e97-483a-ae8a-3f2dee84a623",
                    "label": "Conditional/unclassified"
                  },
                  {
                    "concept": "80d03d9f-2510-4a95-b9d6-2613aaeebd21",
                    "label": "Unassessable/unclassified"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(currSideEffect) && currSideEffect === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Patient  marked as having side effects. Please provide list."
                }
              ],
              "hide": {
                "hideWhenExpression": "currSideEffect !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "id": "reactionReported",
              "label": "Was ADR reported to pharmacy and poisons board:",
              "questionOptions": {
                "concept": "ecb1828b-1431-4aee-99ea-b14c172e0aa9",
                "answers": [
                  {
                    "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                    "label": "Yes"
                  },
                  {
                    "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                    "label": "No"
                  },
                  {
                    "concept": "a899b50a-1350-11df-a1f1-0026b9348838",
                    "label": "Unknown"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(currSideEffect) && currSideEffect === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Patient  marked as having side effects. Please provide list."
                }
              ],
              "hide": {
                "hideWhenExpression": "currSideEffect !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "id": "reactionReportedDate",
              "label": "Date adverse drug reaction reported:",
              "questionOptions": {
                "concept": "6f04d3c5-7edf-4823-9093-61703b56f643",
                "rendering": "date"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "(new moment(encDate)).isBefore((new moment(myValue)), 'day')",
                  "message": "Start date should be before the encounter date."
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(reactionReported) && reactionReported === 'a899b35c-1350-11df-a1f1-0026b9348838'",
                  "message": "Patient  marked as having reported side effects to Poisons board. Please provide date."
                }
              ],
              "hide": {
                "hideWhenExpression": "reactionReported !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
              }
            }
          ]
        }
      ]
    },
    {
      "label": "Clinical Review",
      "sections": [
        {
          "label": "Chief Complaints",
          "questions": [
            {
              "label": "Chief complaints:",
              "questionOptions": {
                "concept": "bfc7e39f-d87a-4a33-86ab-090bebd93888",
                "answers": [
                  {
                    "concept": "a8a4cb8e-1350-11df-a1f1-0026b9348838",
                    "label": "Feeling well(Asymptomatic)"
                  },
                  {
                    "concept": "a899b5e6-1350-11df-a1f1-0026b9348838",
                    "label": "Having symptoms"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [],
              "id": "__JII8IExGE"
            },
            {
              "label": "Hepatitis B infected:",
              "id": "hep_infec",
              "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('a89c4bee-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('a89c4bee-1350-11df-a1f1-0026b9348838')",
              "questionOptions": {
                "rendering": "select",
                "concept": "a89c4bee-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                    "label": "Yes"
                  },
                  {
                    "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                    "label": "No"
                  }
                ]
              },
              "type": "obs",
              "validators": []
            }
          ]
        },
        {
          "label": "GBV Screening",
          "isExpanded": "true",
          "questions": [
            {
              "label": "In the last 3 months, has your partner(s) hit, kicked, slapped, or otherwise physically hurt you?",
              "required": "true",
              "id": "physical",
              "type": "obs",
              "questionOptions": {
                "concept": "8fca5b8a-0674-49e5-8111-003db067ee22",
                "rendering": "select",
                "answers": [
                  {
                    "label": "Yes",
                    "concept": "a899b35c-1350-11df-a1f1-0026b9348838"
                  },
                  {
                    "label": "No",
                    "concept": "a899b42e-1350-11df-a1f1-0026b9348838"
                  }
                ]
              }
            },
            {
              "label": "In the last 3 months, has your partner threatened to hurt you or abused you verbally or emotionally? E.g abusing or talking down to you?",
              "required": "true",
              "id": "emmotional",
              "type": "obs",
              "questionOptions": {
                "concept": "374a34e2-71a0-4221-b59e-8d50721330ee",
                "rendering": "select",
                "answers": [
                  {
                    "label": "Yes",
                    "concept": "a899b35c-1350-11df-a1f1-0026b9348838"
                  },
                  {
                    "label": "No",
                    "concept": "a899b42e-1350-11df-a1f1-0026b9348838"
                  }
                ]
              }
            },
            {
              "label": "In the last 3 months, has your partner(s) forced you to do something sexually that made you feel uncomfortable?",
              "required": "true",
              "id": "sexual",
              "type": "obs",
              "questionOptions": {
                "concept": "920709bc-dde6-4d21-863e-851e63c084e4",
                "rendering": "select",
                "answers": [
                  {
                    "label": "Yes",
                    "concept": "a899b35c-1350-11df-a1f1-0026b9348838"
                  },
                  {
                    "label": "No",
                    "concept": "a899b42e-1350-11df-a1f1-0026b9348838"
                  }
                ]
              }
            },
            {
              "label": "In the last 3 months, has your partner (s) deliberately withdrawn any form of support, including financial support?",
              "required": "true",
              "id": "financial",
              "type": "obs",
              "questionOptions": {
                "concept": "c900913e-1fcc-48c5-a39e-fb106c3645dc",
                "rendering": "select",
                "answers": [
                  {
                    "label": "Yes",
                    "concept": "a899b35c-1350-11df-a1f1-0026b9348838"
                  },
                  {
                    "label": "No",
                    "concept": "a899b42e-1350-11df-a1f1-0026b9348838"
                  }
                ]
              }
            },
            {
              "label": "GBV/IPV assessment notes:",
              "type": "obs",
              "id": "gbvText",
              "questionOptions": {
                "concept": "5e4dc798-2cce-4a1a-97e9-bcf22d64b07c",
                "rendering": "textarea",
                "rows": 7
              },
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && (physical === 'a899b35c-1350-11df-a1f1-0026b9348838' || emmotional === 'a899b35c-1350-11df-a1f1-0026b9348838' || sexual === 'a899b35c-1350-11df-a1f1-0026b9348838' || financial === 'a899b35c-1350-11df-a1f1-0026b9348838')",
                  "message": "Patient screened positive for GBV/IPV. Please provide notes."
                }
              ]
            }
          ]
        },
        {
          "label": "STI",
          "questions": [
            {
              "label": "Do you have any of the following:",
              "questionOptions": {
                "concept": "a8b00562-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                    "label": "None"
                  },
                  {
                    "concept": "a8982b54-1350-11df-a1f1-0026b9348838",
                    "label": "Genital ulcers"
                  },
                  {
                    "concept": "a8ad3062-1350-11df-a1f1-0026b9348838",
                    "label": "Urethral discharge"
                  },
                  {
                    "concept": "a8ad2eb4-1350-11df-a1f1-0026b9348838",
                    "label": "Vaginal discharge"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "type": "obs",
              "validators": [],
              "id": "__4vIzH1G2F"
            }
          ]
        },
        {
          "label": "TB Screening Questions",
          "isExpanded": "true",
          "questions": [
            {
              "label": "TB Symptoms:",
              "required": "true",
              "questionOptions": {
                "concept": "a8afcafc-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                    "label": "None"
                  },
                  {
                    "concept": "a8ad1276-1350-11df-a1f1-0026b9348838",
                    "label": "Breathlessness"
                  },
                  {
                    "concept": "a892e4b4-1350-11df-a1f1-0026b9348838",
                    "label": "Chest pain"
                  },
                  {
                    "concept": "a8afc8b8-1350-11df-a1f1-0026b9348838",
                    "label": "Cough of any duration"
                  },
                  {
                    "concept": "d7adae14-c386-49cc-8f7c-765d8ceec566",
                    "label": "Fever for = 2 weeks"
                  },
                  {
                    "concept": "3f57aafc-7162-41da-a51b-6a804cb6f5e8",
                    "label": "New exposure to household contact with TB"
                  },
                  {
                    "concept": "a89807f0-1350-11df-a1f1-0026b9348838",
                    "label": "Noticeable weight loss"
                  },
                  {
                    "concept": "e1862fef-68ed-4df4-90dd-a00152f719aa",
                    "label": "Night sweats = 2 weeks"
                  },
                  {
                    "concept": "a8ad462e-1350-11df-a1f1-0026b9348838",
                    "label": "Abdomen swelling"
                  },
                  {
                    "concept": "f218c60e-4b54-475a-a4fa-facab9216da8",
                    "label": "Groin swelling"
                  },
                  {
                    "concept": "a8a774b0-1350-11df-a1f1-0026b9348838",
                    "label": "Joints swelling"
                  },
                  {
                    "concept": "4639388c-ee31-4dcf-abb4-ad71253493bb",
                    "label": "Neck swelling"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "type": "obs",
              "validators": [],
              "id": "__IquJ8y0JI"
            },
            {
              "label": "TB Status:",
              "id": "tbstatus",
              "required": "true",
              "questionOptions": {
                "concept": "02ad9357-b996-4530-b1a4-aff91a105383",
                "answers": [
                  {
                    "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                    "label": "No signs"
                  },
                  {
                    "concept": "a8afcc82-1350-11df-a1f1-0026b9348838",
                    "label": "On TB treatment"
                  },
                  {
                    "concept": "260e6d24-1634-4467-a070-e8359f6827f7",
                    "label": "Suspect"
                  },
                  {
                    "concept": "a8af9046-1350-11df-a1f1-0026b9348838",
                    "label": "Confirmed"
                  },
                  {
                    "concept": "a899ea48-1350-11df-a1f1-0026b9348838",
                    "label": "Not assessed"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": []
            }
          ]
        },
        {
          "label": "Problem List",
          "questions": [
            {
              "type": "obsGroup",
              "questionOptions": {
                "concept": "a89c2d8a-1350-11df-a1f1-0026b9348838",
                "rendering": "repeating"
              },
              "label": "Problem Added",
              "questions": [
                {
                  "label": "Problem added",
                  "id": "probAdded",
                  "questionOptions": {
                    "concept": "a8ae835e-1350-11df-a1f1-0026b9348838",
                    "rendering": "problem"
                  },
                  "type": "obs",
                  "validators": []
                }
              ],
              "id": "__ns5w6FzsK"
            }
          ]
        },
        {
          "label": "Nutrition Assessment and Diagnosis",
          "questions": [
            {
              "label": "Nutrition status:",
              "id": "nutritionStatus",
              "questionOptions": {
                "rendering": "select",
                "concept": "ac5f7974-3a71-4867-af59-0c30d68ce9d8",
                "answers": [
                  {
                    "concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
                    "label": "Normal"
                  },
                  {
                    "concept": "1505faef-c8aa-422c-b356-da065b88ec9c",
                    "label": "Overweight"
                  },
                  {
                    "concept": "2a60e784-1314-4454-91ba-7ea4cc2c3b15",
                    "label": "Obese"
                  },
                  {
                    "concept": "0306539c-f24f-49f5-b059-b646adbec47c",
                    "label": "Severe acute malnutrition"
                  },
                  {
                    "concept": "f0dd06d5-6174-447f-9a9c-f8635b4a6a6d",
                    "label": "Moderate  acute malnutrition"
                  }
                ]
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "Nutrition intervention:",
              "id": "nutritionIntervention",
              "questionOptions": {
                "rendering": "select",
                "concept": "a8a8afd8-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "42c0032e-e404-4e64-9564-06cc1473d5d0",
                    "label": "Nutrition counselling"
                  },
                  {
                    "concept": "a8a488d6-1350-11df-a1f1-0026b9348838",
                    "label": "Supplememntary feeding program"
                  },
                  {
                    "concept": "55f41f90-5650-4292-8fb2-8c1eadd95cb1",
                    "label": "Outpatient therapeutic program"
                  },
                  {
                    "concept": "a8a8b0b4-1350-11df-a1f1-0026b9348838",
                    "label": "Inpatient management"
                  },
                  {
                    "concept": "c6b6915a-8bc0-4420-8d3b-ae6282b4be68",
                    "label": "Weight management"
                  }
                ]
              },
              "type": "obs",
              "validators": []
            }
          ]
        }
      ]
    },
    {
      "label": "Vitals",
      "sections": [
        {
          "label": "Vital Signs",
          "isExpanded": "true",
          "questions": [
            {
              "label": "BP systolic:",
              "id": "syst",
              "questionOptions": {
                "rendering": "number",
                "concept": "a8a65d5a-1350-11df-a1f1-0026b9348838",
                "max": "250",
                "min": "0"
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "BP diastolic:",
              "id": "dias",
              "questionOptions": {
                "rendering": "number",
                "concept": "a8a65e36-1350-11df-a1f1-0026b9348838",
                "max": "200",
                "min": "0"
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "Pulse (Rate/min):",
              "questionOptions": {
                "rendering": "number",
                "concept": "a8a65f12-1350-11df-a1f1-0026b9348838",
                "max": "230",
                "min": "0"
              },
              "type": "obs",
              "validators": [],
              "id": "pulse"
            },
            {
              "label": "Temp (C):",
              "questionOptions": {
                "rendering": "number",
                "concept": "a8a65fee-1350-11df-a1f1-0026b9348838",
                "max": "43",
                "min": "25"
              },
              "type": "obs",
              "validators": [],
              "id": "temp"
            },
            {
              "label": "Weight (Kg):",
              "id": "weight",
              "questionOptions": {
                "rendering": "number",
                "concept": "a8a660ca-1350-11df-a1f1-0026b9348838",
                "max": "250",
                "min": "0"
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "Height (Cm):",
              "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('a8a6619c-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('a8a6619c-1350-11df-a1f1-0026b9348838')",
              "id": "height",
              "questionOptions": {
                "rendering": "number",
                "concept": "a8a6619c-1350-11df-a1f1-0026b9348838",
                "max": "228",
                "min": "0"
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "Sp02:",
              "questionOptions": {
                "rendering": "number",
                "concept": "a8a66354-1350-11df-a1f1-0026b9348838",
                "max": "100",
                "min": "0"
              },
              "type": "obs",
              "validators": [],
              "id": "saturation"
            },
            {
              "label": "BMI (Kg/m2):",
              "id": "bmi",
              "questionOptions": {
                "rendering": "number",
                "concept": "a89c60c0-1350-11df-a1f1-0026b9348838",
                "max": "100",
                "min": "0",
                "calculate": {
                  "calculateExpression": "calcBMI(height,weight)"
                }
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "MUAC:",
              "id": "muac",
              "questionOptions": {
                "rendering": "number",
                "concept": "a89c6188-1350-11df-a1f1-0026b9348838",
                "max": "450",
                "min": "60"
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "Foetal heart rate:",
              "id": "fhr",
              "questionOptions": {
                "rendering": "number",
                "concept": "a8a007a2-1350-11df-a1f1-0026b9348838",
                "max": "230",
                "min": "0"
              },
              "type": "obs",
              "validators": [],
              "hide": {
                "hideWhenExpression": " !arrayContains(['02e3ce61-fa24-445e-a1f0-6e3299142966', '42de8e7e-24b2-4c16-b62b-137eb2c55ede','53b856ad-21ef-4745-9acd-81aca01bba31'], visitTypeUuid)"
              }
            },
            {
              "label": "Fundal height:",
              "id": "fundalHeight",
              "questionOptions": {
                "rendering": "number",
                "concept": "a8a005fe-1350-11df-a1f1-0026b9348838",
                "max": "48",
                "min": "0"
              },
              "type": "obs",
              "validators": [],
              "hide": {
                "hideWhenExpression": " !arrayContains(['02e3ce61-fa24-445e-a1f0-6e3299142966', '42de8e7e-24b2-4c16-b62b-137eb2c55ede','53b856ad-21ef-4745-9acd-81aca01bba31'], visitTypeUuid)"
              }
            }
          ]
        },
        {
          "label": "Adult Vaccination",
          "questions": [
            {
              "label": "Immunization history:",
              "type": "obs",
              "questionOptions": {
                "rendering": "multiCheckbox",
                "concept": "b29b512f-cd46-41ee-a568-bdaafa0bb874",
                "answers": [
                  {
                    "concept": "a897dd84-1350-11df-a1f1-0026b9348838",
                    "label": "Hepatitis B"
                  },
                  {
                    "concept": "a8a70746-1350-11df-a1f1-0026b9348838",
                    "label": "Flu"
                  },
                  {
                    "concept": "a890a654-1350-11df-a1f1-0026b9348838",
                    "label": "Tetanus booster"
                  },
                  {
                    "concept": "a6678857-3e09-42ab-ad38-9680335b71cd",
                    "label": "Covid -19 vaccine"
                  },
                  {
                    "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                    "label": "Other"
                  }
                ]
              },
              "validators": [],
              "id": "adultImmun"
            }
          ]
        }
      ]
    },
    {
      "label": "Physical Exam",
      "sections": [
        {
          "label": "Physical Exams",
          "questions": [
            {
              "label": "General exam:",
              "questionOptions": {
                "concept": "a899eb24-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
                    "label": "Normal"
                  },
                  {
                    "concept": "a8a6ce8e-1350-11df-a1f1-0026b9348838",
                    "label": "Temporal wasting"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [],
              "id": "__Ms7Gpssop"
            },
            {
              "label": "Skin :",
              "questionOptions": {
                "concept": "a899ec00-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
                    "label": "Normal"
                  },
                  {
                    "concept": "a8957184-1350-11df-a1f1-0026b9348838",
                    "label": "Kaposis sacorma"
                  },
                  {
                    "concept": "a895776a-1350-11df-a1f1-0026b9348838",
                    "label": "Rash"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "type": "obs",
              "validators": [],
              "id": "__zznK4ErIo"
            },
            {
              "label": "Lymph nodes:",
              "questionOptions": {
                "concept": "a899ecdc-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
                    "label": "Normal"
                  },
                  {
                    "concept": "a8956d1a-1350-11df-a1f1-0026b9348838",
                    "label": "Submandibular"
                  },
                  {
                    "concept": "a89693e8-1350-11df-a1f1-0026b9348838",
                    "label": "Cervical"
                  },
                  {
                    "concept": "a895703a-1350-11df-a1f1-0026b9348838",
                    "label": "Inguinal"
                  },
                  {
                    "concept": "a8956ef0-1350-11df-a1f1-0026b9348838",
                    "label": "Supraclavicular"
                  },
                  {
                    "concept": "a8a67a60-1350-11df-a1f1-0026b9348838",
                    "label": "Auxillary"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "type": "obs",
              "validators": [],
              "id": "__HFC10oK4q"
            },
            {
              "label": "Respiratory exam :",
              "questionOptions": {
                "concept": "a899eeb2-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
                    "label": "Normal"
                  },
                  {
                    "concept": "a899e890-1350-11df-a1f1-0026b9348838",
                    "label": "Abnormal"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [],
              "id": "__pGoMzn3Jy"
            },
            {
              "label": "HEENT:",
              "questionOptions": {
                "concept": "a899edcc-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
                    "label": "Normal"
                  },
                  {
                    "concept": "a8a6c704-1350-11df-a1f1-0026b9348838",
                    "label": "Sclera icteric"
                  },
                  {
                    "concept": "a8957ad0-1350-11df-a1f1-0026b9348838",
                    "label": "Conjunctiva pale"
                  },
                  {
                    "concept": "a8957c88-1350-11df-a1f1-0026b9348838",
                    "label": "Fundal abnormality"
                  },
                  {
                    "concept": "a8961af8-1350-11df-a1f1-0026b9348838",
                    "label": "Cerumen impaction "
                  },
                  {
                    "concept": "a898aea8-1350-11df-a1f1-0026b9348838",
                    "label": "TM injected"
                  },
                  {
                    "concept": "a8957846-1350-11df-a1f1-0026b9348838",
                    "label": "Trachea deviated"
                  },
                  {
                    "concept": "a8a6b476-1350-11df-a1f1-0026b9348838",
                    "label": "Nuchal rigidity"
                  },
                  {
                    "concept": "a8a8209a-1350-11df-a1f1-0026b9348838",
                    "label": "Thrush"
                  },
                  {
                    "concept": "a8969532-1350-11df-a1f1-0026b9348838",
                    "label": "Kaposi sarcoma"
                  },
                  {
                    "concept": "a890eb28-1350-11df-a1f1-0026b9348838",
                    "label": "Significant dental caries"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "type": "obs",
              "validators": [],
              "id": "__oDFtKp2Gw"
            },
            {
              "label": "Cardiac exam:",
              "questionOptions": {
                "concept": "a899ef84-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
                    "label": "Normal"
                  },
                  {
                    "concept": "a8a6b11a-1350-11df-a1f1-0026b9348838",
                    "label": "Systolic ejection murmur "
                  },
                  {
                    "concept": "a8a6ada0-1350-11df-a1f1-0026b9348838",
                    "label": "Holosystolic murmur"
                  },
                  {
                    "concept": "a8a6abf2-1350-11df-a1f1-0026b9348838",
                    "label": "Diastolic decrescendo"
                  },
                  {
                    "concept": "a8a6af58-1350-11df-a1f1-0026b9348838",
                    "label": "Diastolic rumble"
                  },
                  {
                    "concept": "a8a6aa3a-1350-11df-a1f1-0026b9348838",
                    "label": "Evidence for enlargement"
                  },
                  {
                    "concept": "a8a6a814-1350-11df-a1f1-0026b9348838",
                    "label": "LV lift"
                  },
                  {
                    "concept": "a8a6a954-1350-11df-a1f1-0026b9348838",
                    "label": "RV lift"
                  },
                  {
                    "concept": "a8962bec-1350-11df-a1f1-0026b9348838",
                    "label": "S3 gallop"
                  },
                  {
                    "concept": "a8a6b980-1350-11df-a1f1-0026b9348838",
                    "label": "Pericardial friction rub"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "type": "obs",
              "validators": [],
              "id": "__9IxLyz7vJ"
            },
            {
              "label": "Abdominal exam:",
              "questionOptions": {
                "concept": "a899f04c-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
                    "label": "Normal"
                  },
                  {
                    "concept": "a8a66e58-1350-11df-a1f1-0026b9348838",
                    "label": "Tender to palpitation"
                  },
                  {
                    "concept": "a896464a-1350-11df-a1f1-0026b9348838",
                    "label": "Ascites"
                  },
                  {
                    "concept": "a8a66ca0-1350-11df-a1f1-0026b9348838",
                    "label": "Mass"
                  },
                  {
                    "concept": "a8a4cd28-1350-11df-a1f1-0026b9348838",
                    "label": "Hepatomegaly"
                  },
                  {
                    "concept": "a8a4cdfa-1350-11df-a1f1-0026b9348838",
                    "label": "Splenomegaly"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "type": "obs",
              "validators": [],
              "id": "__KIMtMs79r"
            },
            {
              "label": "Urogenital exam:",
              "questionOptions": {
                "concept": "a899f11e-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
                    "label": "Normal"
                  },
                  {
                    "concept": "a899e890-1350-11df-a1f1-0026b9348838",
                    "label": "Abnormal"
                  },
                  {
                    "concept": "a899ea48-1350-11df-a1f1-0026b9348838",
                    "label": "Not done"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [],
              "id": "__EELvpKEvC"
            },
            {
              "label": "Extremies exam:",
              "questionOptions": {
                "concept": "a899f1e6-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
                    "label": "Normal"
                  },
                  {
                    "concept": "a896537e-1350-11df-a1f1-0026b9348838",
                    "label": "Edema"
                  },
                  {
                    "concept": "a898b132-1350-11df-a1f1-0026b9348838",
                    "label": "Leg ulcers"
                  },
                  {
                    "concept": "a892e2ac-1350-11df-a1f1-0026b9348838",
                    "label": "Cellulitis"
                  },
                  {
                    "concept": "a8957184-1350-11df-a1f1-0026b9348838",
                    "label": "Kaposis sarcoma"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "type": "obs",
              "validators": [],
              "id": "__wI6vzGJsw"
            },
            {
              "label": "Musculoskeletal exam:",
              "questionOptions": {
                "concept": "a899f2ae-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
                    "label": "Normal"
                  },
                  {
                    "concept": "a899e890-1350-11df-a1f1-0026b9348838",
                    "label": "Abnormal"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [],
              "id": "__otutIFJEq"
            },
            {
              "label": "Neurologic exam:",
              "questionOptions": {
                "concept": "a899f380-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
                    "label": "Normal"
                  },
                  {
                    "concept": "a8965b30-1350-11df-a1f1-0026b9348838",
                    "label": "Cranial nerve abnormality"
                  },
                  {
                    "concept": "a89565ea-1350-11df-a1f1-0026b9348838",
                    "label": "Decreased sensation lower extremies"
                  },
                  {
                    "concept": "a8a676fa-1350-11df-a1f1-0026b9348838",
                    "label": "Abnormal gait"
                  },
                  {
                    "concept": "a8ad3a26-1350-11df-a1f1-0026b9348838",
                    "label": "Focal weakness"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "type": "obs",
              "validators": [],
              "id": "__6KDDGMrHL"
            },
            {
              "label": "Psychiatric exam:",
              "questionOptions": {
                "concept": "a899f452-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
                    "label": "Normal"
                  },
                  {
                    "concept": "a8935fde-1350-11df-a1f1-0026b9348838",
                    "label": "Depressed"
                  },
                  {
                    "concept": "a8a68e7e-1350-11df-a1f1-0026b9348838",
                    "label": "Dementia"
                  },
                  {
                    "concept": "a8ad3b02-1350-11df-a1f1-0026b9348838",
                    "label": "Confused"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "type": "obs",
              "validators": [],
              "id": "__MGnswLqEG"
            }
          ]
        },
        {
          "label": "Physical Exams, Notes",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Physical exams, notes:",
              "type": "obs",
              "id": "phyText",
              "questionOptions": {
                "concept": "a8a0cc32-1350-11df-a1f1-0026b9348838",
                "rendering": "textarea",
                "rows": 15
              }
            }
          ]
        }
      ]
    },
    {
      "label": "Test Results",
      "sections": [
        {
          "label": "Chemistry Lab Tests",
          "questions": [
            {
              "type": "obs",
              "label": "Creatinine mmol/L:",
              "id": "creatinine_test",
              "questionOptions": {
                "concept": "a897e450-1350-11df-a1f1-0026b9348838",
                "rendering": "decimal",
                "showDate": "true",
                "max": "11050.00",
                "min": "0.00",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(creatinine_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(creatinine_test)"
                  }
                }
              },
              "validators": [
                {
                  "type": "decimal",
                  "decimalPlace": 1
                }
              ]
            },
            {
              "type": "obs",
              "label": "SGPT(ALT):",
              "id": "sgptalt_test",
              "questionOptions": {
                "concept": "a896ca48-1350-11df-a1f1-0026b9348838",
                "rendering": "decimal",
                "max": "3500.00",
                "min": "0.00",
                "showDate": "true",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(sgptalt_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(sgptalt_test)"
                  }
                }
              },
              "validators": [
                {
                  "type": "decimal",
                  "decimalPlace": 1
                }
              ]
            },
            {
              "type": "obs",
              "label": "AST:",
              "id": "ast_test",
              "questionOptions": {
                "concept": "a896c8ae-1350-11df-a1f1-0026b9348838",
                "rendering": "decimal",
                "max": "3500.00",
                "min": "0.00",
                "showDate": "true"
              },
              "shownDateOptions": {
                "validators": [
                  {
                    "type": "date"
                  },
                  {
                    "type": "js_expression",
                    "failsWhenExpression": "!isEmpty(ast_test) && isEmpty(myValue)",
                    "message": "Date is result is required."
                  }
                ],
                "hide": {
                  "hideWhenExpression": "isEmpty(ast_test)"
                }
              },
              "validators": [
                {
                  "type": "decimal",
                  "decimalPlace": 1
                }
              ]
            },
            {
              "label": "RBS mmol/L:",
              "id": "rbs_test",
              "type": "obs",
              "questionOptions": {
                "concept": "a898418e-1350-11df-a1f1-0026b9348838",
                "answers": [],
                "rendering": "decimal",
                "max": "50.00",
                "min": "0.00",
                "showDate": "true",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(rbs_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(rbs_test)"
                  }
                }
              },
              "validators": [
                {
                  "type": "decimal",
                  "decimalPlace": 1
                }
              ]
            },
            {
              "label": "FBS mmol/L:",
              "id": "fbs_test",
              "type": "obs",
              "questionOptions": {
                "concept": "a8b018fe-1350-11df-a1f1-0026b9348838",
                "answers": [],
                "rendering": "decimal",
                "max": "50.00",
                "min": "0.00",
                "showDate": "true",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(fbs_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(fbs_test)"
                  }
                }
              },
              "validators": [
                {
                  "type": "decimal",
                  "decimalPlace": 1
                }
              ]
            },
            {
              "label": "HbA1C %:",
              "id": "a1c_test",
              "type": "obs",
              "questionOptions": {
                "concept": "a8af7520-1350-11df-a1f1-0026b9348838",
                "answers": [],
                "rendering": "decimal",
                "max": "20.00",
                "min": "0.00",
                "showDate": "true",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(a1c_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(a1c_test)"
                  }
                }
              },
              "validators": [
                {
                  "type": "decimal",
                  "decimalPlace": 1
                }
              ]
            },
            {
              "label": "LDL mmol/L:",
              "id": "ldl_test",
              "type": "obs",
              "questionOptions": {
                "concept": "a898e74c-1350-11df-a1f1-0026b9348838",
                "answers": [],
                "rendering": "decimal",
                "max": "75.00",
                "min": "0.00",
                "showDate": "true",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(ldl_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(ldl_test)"
                  }
                }
              },
              "validators": [
                {
                  "type": "decimal",
                  "decimalPlace": 1
                }
              ]
            },
            {
              "label": "HDL mmol/L:",
              "id": "hdl_test",
              "type": "obs",
              "questionOptions": {
                "concept": "a898e602-1350-11df-a1f1-0026b9348838",
                "answers": [],
                "rendering": "decimal",
                "max": "15.00",
                "min": "0.00",
                "showDate": "true",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(hdl_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(hdl_test)"
                  }
                }
              },
              "validators": [
                {
                  "type": "decimal",
                  "decimalPlace": 1
                }
              ]
            },
            {
              "label": "TG mmol/L:",
              "id": "tg_test",
              "type": "obs",
              "questionOptions": {
                "concept": "a898e8a0-1350-11df-a1f1-0026b9348838",
                "answers": [],
                "rendering": "decimal",
                "max": "55.00",
                "min": "0.00",
                "showDate": "true",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(tg_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(tg_test)"
                  }
                }
              },
              "validators": [
                {
                  "type": "decimal",
                  "decimalPlace": 1
                }
              ]
            },
            {
              "label": "Cholesterol mmol/L:",
              "id": "chol_test",
              "type": "obs",
              "questionOptions": {
                "concept": "a898e4b8-1350-11df-a1f1-0026b9348838",
                "answers": [],
                "rendering": "decimal",
                "max": "100.00",
                "min": "0.00",
                "showDate": "true",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(chol_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(chol_test)"
                  }
                }
              },
              "validators": [
                {
                  "type": "decimal",
                  "decimalPlace": 1
                }
              ]
            },
            {
              "label": "Microalbumin test, urine mg/L:",
              "id": "microAlb_test",
              "type": "obs",
              "questionOptions": {
                "concept": "7129af13-e39a-43b0-9923-6d1de22c9c5e",
                "answers": [],
                "rendering": "decimal",
                "max": "300.00",
                "min": "30.00",
                "showDate": "true",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(microAlb_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(microAlb_test)"
                  }
                }
              },
              "validators": [
                {
                  "type": "decimal",
                  "decimalPlace": 1
                }
              ]
            },
            {
              "label": "Urea mmol/L:",
              "id": "urea_test",
              "type": "obs",
              "questionOptions": {
                "concept": "a8982550-1350-11df-a1f1-0026b9348838",
                "answers": [],
                "rendering": "decimal",
                "max": "330.00",
                "min": "0.00",
                "showDate": "true",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(urea_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(urea_test)"
                  }
                }
              },
              "validators": [
                {
                  "type": "decimal",
                  "decimalPlace": 1
                }
              ]
            }
          ]
        },
        {
          "label": "CBC",
          "questions": [
            {
              "label": "Hgb g/dL:",
              "id": "hgbgdl_test",
              "questionOptions": {
                "concept": "a8908a16-1350-11df-a1f1-0026b9348838",
                "max": "50.00",
                "min": "0.00",
                "showDate": "true",
                "rendering": "decimal",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(hgbgdl_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(hgbgdl_test)"
                  }
                }
              },
              "type": "obs",
              "validators": [
                {
                  "type": "decimal",
                  "decimalPlace": 1
                }
              ]
            },
            {
              "label": "WBC/mm3:",
              "id": "testWBCmm",
              "questionOptions": {
                "concept": "a896dea2-1350-11df-a1f1-0026b9348838",
                "max": "500.00",
                "min": "0.00",
                "showDate": "true",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(testWBCmm) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(testWBCmm)"
                  }
                },
                "rendering": "decimal"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "decimal",
                  "decimalPlace": 1
                }
              ]
            },
            {
              "type": "obs",
              "label": "Platelets:",
              "id": "platelets_test",
              "questionOptions": {
                "concept": "a8970954-1350-11df-a1f1-0026b9348838",
                "rendering": "decimal",
                "max": "450000.00",
                "min": "0.00",
                "showDate": "true",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(platelets_test) && isEmpty(myValue)",
                      "message": "Date result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(platelets_test)"
                  }
                }
              },
              "validators": [
                {
                  "type": "decimal",
                  "decimalPlace": 1
                }
              ]
            },
            {
              "label": "ALC/ mm3:",
              "id": "alcmm_test",
              "questionOptions": {
                "concept": "a898b20e-1350-11df-a1f1-0026b9348838",
                "max": "500.00",
                "min": "0.00",
                "showDate": "true",
                "rendering": "decimal",
                "shownDateOptions": {
                  "historicalExpression": "HD.getObject('prevEnc').getValue('a8afdb8c-1350-11df-a1f1-0026b9348838.a898b20e-1350-11df-a1f1-0026b9348838')",
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(alcmm_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(alcmm_test)"
                  }
                }
              },
              "type": "obs",
              "validators": [
                {
                  "type": "decimal",
                  "decimalPlace": 1
                }
              ]
            },
            {
              "label": "MCV:",
              "id": "mcv_test",
              "questionOptions": {
                "concept": "a898201e-1350-11df-a1f1-0026b9348838",
                "max": "500.00",
                "min": "0.00",
                "showDate": "true",
                "rendering": "decimal",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(mcv_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(mcv_test)"
                  }
                }
              },
              "type": "obs",
              "validators": [
                {
                  "type": "decimal",
                  "decimalPlace": 1
                }
              ]
            },
            {
              "label": "eGFR:",
              "id": "egfr",
              "questionOptions": {
                "concept": "23bc7e2f-ab06-45ca-a55d-d4fb058a671a",
                "showDate": "true",
                "rendering": "decimal",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(egfr) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(egfr)"
                  }
                }
              },
              "type": "obs",
              "validators": [
                {
                  "type": "decimal",
                  "decimalPlace": 1
                }
              ]
            }
          ]
        },
        {
          "label": "CD4",
          "questions": [
            {
              "type": "obs",
              "id": "cd4_test",
              "questionOptions": {
                "concept": "a8a8bb18-1350-11df-a1f1-0026b9348838",
                "showDate": "true",
                "rendering": "decimal",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(cd4_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(cd4_test)"
                  }
                }
              },
              "label": "CD4 Count:",
              "validators": [
                {
                  "type": "decimal",
                  "decimalPlace": 1
                }
              ]
            },
            {
              "type": "obs",
              "id": "cd4Qualitative",
              "questionOptions": {
                "concept": "17c84b86-294a-4902-9044-18d9143a278a",
                "showDate": "true",
                "rendering": "select",
                "answers": [
                  {
                    "concept": "a89cd668-1350-11df-a1f1-0026b9348838",
                    "label": "CD4 count less than 200 (<200)"
                  },
                  {
                    "concept": "a89b7426-1350-11df-a1f1-0026b9348838",
                    "label": "CD4 count greater than 200 (>200)"
                  }
                ],
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(cd4Qualitative) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(cd4Qualitative)"
                  }
                }
              },
              "label": "CD4 test qualitative (VISITECT):",
              "validators": []
            },
            {
              "type": "obs",
              "label": "CD4 %:",
              "id": "cd4percent_test",
              "questionOptions": {
                "rendering": "decimal",
                "max": "100.00",
                "min": "0.00",
                "showDate": "true",
                "concept": "a8970a26-1350-11df-a1f1-0026b9348838",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(cd4percent_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(cd4percent_test)"
                  }
                }
              },
              "validators": [
                {
                  "type": "decimal",
                  "decimalPlace": 1
                }
              ]
            }
          ]
        },
        {
          "label": "Viral Load",
          "questions": [
            {
              "type": "obs",
              "label": "Viral load:",
              "id": "viralLoad_test",
              "questionOptions": {
                "concept": "a8982474-1350-11df-a1f1-0026b9348838",
                "rendering": "number",
                "max": "10000000",
                "min": "0",
                "showDate": "true",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(viralLoad_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(viralLoad_test)"
                  }
                }
              },
              "validators": []
            }
          ]
        },
        {
          "label": "HIV Test",
          "questions": [
            {
              "label": "Rapid HIV:",
              "type": "obs",
              "id": "hivRapid",
              "questionOptions": {
                "concept": "a8999dfe-1350-11df-a1f1-0026b9348838",
                "rendering": "select",
                "answers": [
                  {
                    "concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
                    "label": "Positive"
                  },
                  {
                    "concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
                    "label": "Negative"
                  },
                  {
                    "concept": "a89a7ae4-1350-11df-a1f1-0026b9348838",
                    "label": "Indeterminate"
                  },
                  {
                    "concept": "a89c3d8e-1350-11df-a1f1-0026b9348838",
                    "label": "Poor sample quality"
                  },
                  {
                    "concept": "a899b50a-1350-11df-a1f1-0026b9348838",
                    "label": "Unknown"
                  },
                  {
                    "concept": "a899ea48-1350-11df-a1f1-0026b9348838",
                    "label": "Not done"
                  }
                ],
                "showDate": "true",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(hivRapid) && isEmpty(myValue)",
                      "message": "Date result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(hivRapid)"
                  }
                }
              },
              "validators": []
            },
            {
              "label": "HIV Long Eliza:",
              "type": "obs",
              "questionOptions": {
                "id": "longEliza",
                "concept": "a8999fb6-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
                    "label": "Positive"
                  },
                  {
                    "concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
                    "label": "Negative"
                  },
                  {
                    "concept": "a89a7ae4-1350-11df-a1f1-0026b9348838",
                    "label": "Indeterminate"
                  },
                  {
                    "concept": "a89c3d8e-1350-11df-a1f1-0026b9348838",
                    "label": "Poor sample quality"
                  },
                  {
                    "concept": "a899b50a-1350-11df-a1f1-0026b9348838",
                    "label": "Unknown"
                  },
                  {
                    "concept": "a899ea48-1350-11df-a1f1-0026b9348838",
                    "label": "Not done"
                  }
                ],
                "showDate": "true",
                "rendering": "select",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(longEliza) && isEmpty(myValue)",
                      "message": "Date result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(longEliza)"
                  }
                }
              },
              "validators": [],
              "id": "__HLo3rGrF1"
            },
            {
              "label": "HIV DNA PCR:",
              "type": "obs",
              "questionOptions": {
                "id": "hivPcr",
                "concept": "a898fe80-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
                    "label": "Positive"
                  },
                  {
                    "concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
                    "label": "Negative"
                  },
                  {
                    "concept": "a89a7ae4-1350-11df-a1f1-0026b9348838",
                    "label": "Indeterminate"
                  },
                  {
                    "concept": "a89c3d8e-1350-11df-a1f1-0026b9348838",
                    "label": "Poor sample quality"
                  },
                  {
                    "concept": "a899ea48-1350-11df-a1f1-0026b9348838",
                    "label": "Not done"
                  }
                ],
                "showDate": "true",
                "rendering": "select",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(hivPcr) && isEmpty(myValue)",
                      "message": "Date result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(hivPcr)"
                  }
                }
              },
              "validators": [],
              "id": "__GHCFK6xF6"
            }
          ]
        },
        {
          "label": "Urinalysis",
          "questions": [
            {
              "label": "Urinalysis:",
              "type": "obsGroup",
              "questionOptions": {
                "id": "urinalysis",
                "concept": "a8a0aa9a-1350-11df-a1f1-0026b9348838",
                "rendering": "group"
              },
              "questions": [
                {
                  "label": "Pus cells:",
                  "id": "puscells_test",
                  "type": "obs",
                  "questionOptions": {
                    "concept": "a8a0a91e-1350-11df-a1f1-0026b9348838",
                    "rendering": "select",
                    "answers": [
                      {
                        "concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
                        "label": "Negative"
                      },
                      {
                        "concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
                        "label": "Positive (+)"
                      },
                      {
                        "concept": "a8a18fdc-1350-11df-a1f1-0026b9348838",
                        "label": "Strong positive (++)"
                      },
                      {
                        "concept": "a8a1909a-1350-11df-a1f1-0026b9348838",
                        "label": "Stronger positive (+++)"
                      }
                    ]
                  },
                  "hide": {
                    "hideWhenExpression": "visitTypeUuid !== '02e3ce61-fa24-445e-a1f0-6e3299142966'"
                  }
                },
                {
                  "label": "Protein:",
                  "type": "obs",
                  "id": "protein_test",
                  "questionOptions": {
                    "concept": "a8a47ca6-1350-11df-a1f1-0026b9348838",
                    "rendering": "select",
                    "answers": [
                      {
                        "concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
                        "label": "Negative"
                      },
                      {
                        "concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
                        "label": "Positive (+)"
                      },
                      {
                        "concept": "a8a18fdc-1350-11df-a1f1-0026b9348838",
                        "label": "Strong positive (++)"
                      },
                      {
                        "concept": "a8a1909a-1350-11df-a1f1-0026b9348838",
                        "label": "Stronger positive (+++)"
                      }
                    ]
                  },
                  "hide": {
                    "hideWhenExpression": "visitTypeUuid !== '02e3ce61-fa24-445e-a1f0-6e3299142966'"
                  }
                },
                {
                  "label": "Leucocytes:",
                  "type": "obs",
                  "id": "leucocytes_test",
                  "questionOptions": {
                    "concept": "a8b0f3e6-1350-11df-a1f1-0026b9348838",
                    "rendering": "select",
                    "answers": [
                      {
                        "concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
                        "label": "Negative"
                      },
                      {
                        "concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
                        "label": "Positive (+)"
                      },
                      {
                        "concept": "a8a18fdc-1350-11df-a1f1-0026b9348838",
                        "label": "Strong positive (++)"
                      },
                      {
                        "concept": "a8a1909a-1350-11df-a1f1-0026b9348838",
                        "label": "Stronger positive (+++)"
                      }
                    ]
                  },
                  "hide": {
                    "hideWhenExpression": "visitTypeUuid !== '02e3ce61-fa24-445e-a1f0-6e3299142966'"
                  }
                },
                {
                  "label": "Ketone:",
                  "type": "obs",
                  "id": "ketone_test",
                  "questionOptions": {
                    "concept": "b72fa772-19a9-4386-8185-6491ab97e97e",
                    "rendering": "select",
                    "answers": [
                      {
                        "concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
                        "label": "Negative"
                      },
                      {
                        "concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
                        "label": "Positive (+)"
                      },
                      {
                        "concept": "a8a18fdc-1350-11df-a1f1-0026b9348838",
                        "label": "Strong positive (++)"
                      },
                      {
                        "concept": "a8a1909a-1350-11df-a1f1-0026b9348838",
                        "label": "Stronger positive (+++)"
                      }
                    ]
                  },
                  "hide": {
                    "hideWhenExpression": "visitTypeUuid !== '02e3ce61-fa24-445e-a1f0-6e3299142966'"
                  }
                },
                {
                  "label": "Glucose:",
                  "id": "sugar_test",
                  "type": "obs",
                  "questionOptions": {
                    "concept": "a8a47d5a-1350-11df-a1f1-0026b9348838",
                    "rendering": "select",
                    "answers": [
                      {
                        "concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
                        "label": "Negative"
                      },
                      {
                        "concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
                        "label": "Positive (+)"
                      },
                      {
                        "concept": "a8a18fdc-1350-11df-a1f1-0026b9348838",
                        "label": "Strong positive (++)"
                      },
                      {
                        "concept": "a8a1909a-1350-11df-a1f1-0026b9348838",
                        "label": "Stronger positive (+++)"
                      }
                    ]
                  },
                  "hide": {
                    "hideWhenExpression": "visitTypeUuid !== '02e3ce61-fa24-445e-a1f0-6e3299142966'"
                  }
                },
                {
                  "label": "Nitrites:",
                  "id": "nitrites_test",
                  "type": "obs",
                  "questionOptions": {
                    "concept": "6ab44394-80a5-40cd-9649-32f1839e94cd",
                    "rendering": "select",
                    "answers": [
                      {
                        "concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
                        "label": "Negative"
                      },
                      {
                        "concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
                        "label": "Positive (+)"
                      },
                      {
                        "concept": "a8a18fdc-1350-11df-a1f1-0026b9348838",
                        "label": "Strong positive (++)"
                      },
                      {
                        "concept": "a8a1909a-1350-11df-a1f1-0026b9348838",
                        "label": "Stronger positive (+++)"
                      }
                    ]
                  },
                  "hide": {
                    "hideWhenExpression": "visitTypeUuid !== '02e3ce61-fa24-445e-a1f0-6e3299142966'"
                  }
                }
              ],
              "id": "__vppMIosJK"
            }
          ]
        },
        {
          "label": "Blood Grouping",
          "questions": [
            {
              "label": "Blood type:",
              "id": "bloodGroup_test",
              "questionOptions": {
                "concept": "a8945754-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a896e8c0-1350-11df-a1f1-0026b9348838",
                    "label": "A positive"
                  },
                  {
                    "concept": "a896ea6e-1350-11df-a1f1-0026b9348838",
                    "label": "A negative"
                  },
                  {
                    "concept": "a896ec1c-1350-11df-a1f1-0026b9348838",
                    "label": "B positive"
                  },
                  {
                    "concept": "a896edca-1350-11df-a1f1-0026b9348838",
                    "label": "B negative"
                  },
                  {
                    "concept": "a896f04a-1350-11df-a1f1-0026b9348838",
                    "label": "O positive"
                  },
                  {
                    "concept": "a896f1f8-1350-11df-a1f1-0026b9348838",
                    "label": "O negative"
                  },
                  {
                    "concept": "a89b47a8-1350-11df-a1f1-0026b9348838",
                    "label": "AB positive"
                  },
                  {
                    "concept": "a89b48de-1350-11df-a1f1-0026b9348838",
                    "label": "AB negative"
                  },
                  {
                    "concept": "33bc1cf5-4ae5-49ba-9afd-bcbb9f7b09e5",
                    "label": "A"
                  },
                  {
                    "concept": "01e7f790-a8fc-40e9-968f-c9d79924eb6d",
                    "label": "B"
                  },
                  {
                    "concept": "0feab44f-6777-4c4b-a3ed-a3502f996fcb",
                    "label": "AB"
                  },
                  {
                    "concept": "bf9a31dc-5db4-49c2-aad2-30ec16315b24",
                    "label": "O"
                  }
                ],
                "showDate": "true",
                "rendering": "select",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(bloodGroup_test) && isEmpty(myValue)",
                      "message": "Date result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(bloodGroup_test)"
                  }
                }
              },
              "type": "obs",
              "validators": []
            }
          ]
        },
        {
          "label": "TB Test",
          "questions": [
            {
              "label": "Genexpert test (Upload image of the result):",
              "id": "genexpert_test",
              "questionOptions": {
                "concept": "6fa355eb-9321-4850-884c-12594194862a",
                "showDate": "true",
                "rendering": "file",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(genexpert_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(genexpert_test)"
                  }
                }
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "Sputum gene xpert MTB:",
              "id": "sputumgene_test",
              "questionOptions": {
                "concept": "741517cf-8bac-4755-b289-8dd2a2df7962",
                "answers": [
                  {
                    "concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
                    "label": "Positive"
                  },
                  {
                    "concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
                    "label": "Negative"
                  },
                  {
                    "concept": "a89a7ae4-1350-11df-a1f1-0026b9348838",
                    "label": "Indeterminate"
                  },
                  {
                    "concept": "a89c3d8e-1350-11df-a1f1-0026b9348838",
                    "label": "Poor sample quality"
                  }
                ],
                "showDate": "true",
                "rendering": "select",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(sputumgene_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(sputumgene_test)"
                  }
                }
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "Sputum AFB smear:",
              "id": "sputumafp_test",
              "questionOptions": {
                "concept": "a8945d4e-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a8a45ab4-1350-11df-a1f1-0026b9348838",
                    "label": "1+"
                  },
                  {
                    "concept": "a8a45bd6-1350-11df-a1f1-0026b9348838",
                    "label": "2+"
                  },
                  {
                    "concept": "a8a45ca8-1350-11df-a1f1-0026b9348838",
                    "label": "3+"
                  },
                  {
                    "concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
                    "label": "Positive"
                  },
                  {
                    "concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
                    "label": "Negative"
                  },
                  {
                    "concept": "a89a7ae4-1350-11df-a1f1-0026b9348838",
                    "label": "Indeterminate"
                  },
                  {
                    "concept": "a89c3d8e-1350-11df-a1f1-0026b9348838",
                    "label": "Poor sample quality"
                  }
                ],
                "showDate": "true",
                "rendering": "select",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(sputumafp_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(sputumafp_test)"
                  }
                }
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "Sputum culture:",
              "id": "sputumculture_test",
              "questionOptions": {
                "concept": "a8a462a2-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
                    "label": "Positive"
                  },
                  {
                    "concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
                    "label": "Negative"
                  },
                  {
                    "concept": "a89c3d8e-1350-11df-a1f1-0026b9348838",
                    "label": "Poor sample quality"
                  },
                  {
                    "concept": "0b4e9aa1-e470-46d1-9d2d-0d8a475561b9",
                    "label": "Mycobacterium tuberculosis"
                  },
                  {
                    "concept": "a01149c4-7f0e-4d27-8f42-dc019e3330ec",
                    "label": "Non tuberculosis mycobacteria"
                  }
                ],
                "showDate": "true",
                "rendering": "select",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(sputumculture_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(sputumculture_test)"
                  }
                }
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "TST (Mantoux test):",
              "id": "tst_test",
              "questionOptions": {
                "concept": "a89d278a-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
                    "label": "Positive"
                  },
                  {
                    "concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
                    "label": "Negative"
                  },
                  {
                    "concept": "a89d2852-1350-11df-a1f1-0026b9348838",
                    "label": "Strongly positive"
                  }
                ],
                "showDate": "true",
                "rendering": "select",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(tst_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(tst_test)"
                  }
                }
              },
              "type": "obs",
              "validators": []
            }
          ]
        },
        {
          "label": "Chest Xray",
          "questions": [
            {
              "label": "CXR code:",
              "id": "cxrcode_test",
              "questionOptions": {
                "concept": "a8908192-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
                    "label": "Normal"
                  },
                  {
                    "concept": "a8a6aa3a-1350-11df-a1f1-0026b9348838",
                    "label": "Cardiomegaly"
                  },
                  {
                    "concept": "a8ae8c1e-1350-11df-a1f1-0026b9348838",
                    "label": "Cavitary"
                  },
                  {
                    "concept": "a8ae8a66-1350-11df-a1f1-0026b9348838",
                    "label": "Diffuse abn/non-miliary"
                  },
                  {
                    "concept": "a8ae8980-1350-11df-a1f1-0026b9348838",
                    "label": "Infiltrate"
                  },
                  {
                    "concept": "a89a77ce-1350-11df-a1f1-0026b9348838",
                    "label": "Miliary"
                  },
                  {
                    "concept": "a89a76fc-1350-11df-a1f1-0026b9348838",
                    "label": "PI effusion"
                  },
                  {
                    "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                    "label": "Other"
                  }
                ],
                "showDate": "true",
                "rendering": "select",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(cxrcode_test) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(cxrcode_test)"
                  }
                }
              },
              "type": "obs",
              "validators": []
            }
          ]
        },
        {
          "label": "Other Lab Tests",
          "questions": [
            {
              "type": "obsGroup",
              "label": "Test result, detailed",
              "questionOptions": {
                "concept": "a8a00e1e-1350-11df-a1f1-0026b9348838",
                "rendering": "group"
              },
              "questions": [
                {
                  "type": "obs",
                  "label": "Other test results, specify:",
                  "id": "otherTestResult",
                  "questionOptions": {
                    "concept": "6f5207f4-6785-433b-943e-c2d03e7d3ea7",
                    "rendering": "text"
                  },
                  "validators": []
                }
              ],
              "id": "__Kvwzs24HE"
            }
          ]
        }
      ]
    },
    {
      "label": "Assessment",
      "sections": [
        {
          "label": "Adult WHO Staging",
          "isExpanded": "true",
          "questions": [
            {
              "label": "If you are assigning a new WHO stage to patient today, select new WHO stage:",
              "type": "obs",
              "id": "adultWhoStage",
              "questionOptions": {
                "concept": "a8a8331e-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a89b2606-1350-11df-a1f1-0026b9348838",
                    "label": "1"
                  },
                  {
                    "concept": "a89b26d8-1350-11df-a1f1-0026b9348838",
                    "label": "2"
                  },
                  {
                    "concept": "a89b27be-1350-11df-a1f1-0026b9348838",
                    "label": "3"
                  },
                  {
                    "concept": "a89b289a-1350-11df-a1f1-0026b9348838",
                    "label": "4"
                  }
                ],
                "rendering": "select"
              },
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && arrayContains (['33d13ffb-5f0e-427e-ab80-637491fb6526'], visitTypeUuid)",
                  "message": "Required."
                }
              ]
            },
            {
              "label": "Select criteria for new WHO stage:",
              "type": "obs",
              "questionOptions": {
                "concept": "a8ae88a4-1350-11df-a1f1-0026b9348838",
                "rendering": "select-concept-answers"
              },
              "required": {
                "type": "conditionalRequired",
                "message": "Patient marked as receiving new WHO stage. Please select stage.",
                "referenceQuestionId": "adultWhoStage",
                "referenceQuestionAnswers": [
                  "a89b2606-1350-11df-a1f1-0026b9348838, a89b26d8-1350-11df-a1f1-0026b9348838, a89b27be-1350-11df-a1f1-0026b9348838, a89b289a-1350-11df-a1f1-0026b9348838"
                ]
              },
              "validators": [],
              "id": "__sq5ELJr7p"
            }
          ]
        },
        {
          "label": "Patient Categorization",
          "isExpanded": "true",
          "questions": [
            {
              "label": "New patient categorization:",
              "required": "true",
              "questionOptions": {
                "concept": "99558d35-5046-4dcf-9735-21eba1e38cef",
                "answers": [
                  {
                    "concept": "81033c9e-80d4-445a-9899-3a6a9c9520ee",
                    "label": "Well"
                  },
                  {
                    "concept": "367d7fd9-2216-450a-a586-29d25602157e",
                    "label": "AHD"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [],
              "id": "patientCategorization"
            }
          ]
        },
        {
          "label": "Clinical Notes",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Please enter the clinical notes below:",
              "type": "obs",
              "id": "assNote",
              "default": "",
              "questionOptions": {
                "concept": "23f710cc-7f9c-4255-9b6b-c3e240215dba",
                "rendering": "textarea",
                "rows": 5
              }
            }
          ]
        }
      ]
    },
    {
      "label": "Medication Plan",
      "sections": [
        {
          "label": "ART Plan",
          "isExpanded": "true",
          "questions": [
            {
              "required": "true",
              "id": "arvPlan",
              "label": "ART plan:",
              "questionOptions": {
                "concept": "a89b75d4-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a89b7908-1350-11df-a1f1-0026b9348838",
                    "label": "Continue regimen"
                  },
                  {
                    "concept": "a898c938-1350-11df-a1f1-0026b9348838",
                    "label": "Change dose"
                  },
                  {
                    "concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
                    "label": "Change regimen"
                  },
                  {
                    "concept": "a89b7ae8-1350-11df-a1f1-0026b9348838",
                    "label": "Change formulation"
                  },
                  {
                    "concept": "a8a00158-1350-11df-a1f1-0026b9348838",
                    "label": "Drug substitution"
                  },
                  {
                    "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                    "label": "Not on ARVS"
                  },
                  {
                    "concept": "a8a00220-1350-11df-a1f1-0026b9348838",
                    "label": "Restart"
                  },
                  {
                    "concept": "a89b77aa-1350-11df-a1f1-0026b9348838",
                    "label": "Start ARVs"
                  },
                  {
                    "concept": "a89b7d36-1350-11df-a1f1-0026b9348838",
                    "label": "Stop all"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(onArt) && onArt === 'a899b35c-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], myValue)",
                  "message": "Patient marked as on ART in ART History section. Therefore plan can only be drug substitution, continue regimen, change dose, chage regimen, change"
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(onArt) && onArt === 'a899b42e-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && !arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], myValue)",
                  "message": "Patient marked as not on ART in ART History section. Therefore plan can only be None,Start"
                }
              ]
            },
            {
              "label": "Reason to start ART:",
              "id": "arvStartReason",
              "questionOptions": {
                "concept": "a89b6ce2-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "c9778159-958b-4f59-9053-a6171074726f",
                    "label": "CD4 less than 500"
                  },
                  {
                    "concept": "a8af49d8-1350-11df-a1f1-0026b9348838",
                    "label": "Discordant couple"
                  },
                  {
                    "concept": "a89b27be-1350-11df-a1f1-0026b9348838",
                    "label": "WHO stage 3"
                  },
                  {
                    "concept": "a89b289a-1350-11df-a1f1-0026b9348838",
                    "label": "WHO stage 4"
                  },
                  {
                    "concept": "a89fbedc-1350-11df-a1f1-0026b9348838",
                    "label": "PMTCT"
                  },
                  {
                    "concept": "a8909060-1350-11df-a1f1-0026b9348838",
                    "label": "Hepatitis"
                  },
                  {
                    "concept": "7fa72118-ef2a-4694-993a-014440024bbc",
                    "label": "Test and treat"
                  },
                  {
                    "concept": "67f1f202-477a-4469-a2f9-769b339f682f",
                    "label": "Adherence counselling completed"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(arvPlan) && isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], arvPlan)",
                  "message": "You indicated patient is (re)starting ART. Please provide reason."
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(arvPlan) && !isEmpty(myValue) && !arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], arvPlan)",
                  "message": "You indicated patient is not (re)starting ART, therefore no reason for starting should be selected."
                }
              ],
              "hide": {
                "hideWhenExpression": "!arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], arvPlan)"
              }
            },
            {
              "type": "obsGroup",
              "label": "ART change reason",
              "questionOptions": {
                "concept": "a8a07688-1350-11df-a1f1-0026b9348838",
                "rendering": "group"
              },
              "questions": [
                {
                  "id": "arvChangeReason",
                  "label": "Reason for stopping/change/substitution/interruption:",
                  "questionOptions": {
                    "concept": "a89b7110-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a89ce50e-1350-11df-a1f1-0026b9348838",
                        "label": "Adherence concerns"
                      },
                      {
                        "concept": "a8981934-1350-11df-a1f1-0026b9348838",
                        "label": "Clinical treatment failure"
                      },
                      {
                        "concept": "c0c9eab3-46f6-453c-b29d-dc1c242317c5",
                        "label": "Drug out of stock"
                      },
                      {
                        "concept": "a890a96a-1350-11df-a1f1-0026b9348838",
                        "label": "Due to new TB"
                      },
                      {
                        "concept": "057dae68-3d6f-4d79-926c-ed75a0ce7fd5",
                        "label": "Illness/hospitalization"
                      },
                      {
                        "concept": "c6537e06-9fc2-47da-b679-e2a32824407f",
                        "label": "Immunologic failure"
                      },
                      {
                        "concept": "a8a6f56c-1350-11df-a1f1-0026b9348838",
                        "label": "Lost to follow-up"
                      },
                      {
                        "concept": "a8a07b10-1350-11df-a1f1-0026b9348838",
                        "label": "New drug available"
                      },
                      {
                        "concept": "a8b03af0-1350-11df-a1f1-0026b9348838",
                        "label": "Patient lacks finances"
                      },
                      {
                        "concept": "abe0cbb6-8d08-487a-b18e-7af873945fcc",
                        "label": "Planned Rx interruption"
                      },
                      {
                        "concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
                        "label": "Pill burden"
                      },
                      {
                        "concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
                        "label": "Changing to adult regimen"
                      },
                      {
                        "concept": "a8909e8e-1350-11df-a1f1-0026b9348838",
                        "label": "Pregnancy"
                      },
                      {
                        "concept": "e38b3e51-8a27-4bf6-b0c8-e0b285e4bb2f",
                        "label": "Risk of pregnancy"
                      },
                      {
                        "concept": "a89d25fa-1350-11df-a1f1-0026b9348838",
                        "label": "Other patient desicion"
                      },
                      {
                        "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                        "label": "Other"
                      },
                      {
                        "concept": "4ee08cb4-fc93-44a0-a330-4e3fb45ca625",
                        "label": "Optimization"
                      },
                      {
                        "concept": "a890d1ba-1350-11df-a1f1-0026b9348838",
                        "label": "Toxicity"
                      },
                      {
                        "concept": "93fe19e8-fec4-4e4b-85f1-239e1fabd761",
                        "label": "Virologic failure"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(arvPlan) && isEmpty(myValue) && arrayContains(['a898c938-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838','a89b7ae8-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838'], arvPlan)",
                      "message": "You indicated patient is changing/changing dose/substituting/stopping arvs, reason for changing should be selected."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "!arrayContains(['a898c938-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838','a89b7ae8-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838'], arvPlan)"
                  }
                },
                {
                  "id": "arvToxicityCause",
                  "label": "If toxicity, please provide cause:",
                  "questionOptions": {
                    "concept": "a8a032fe-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a877c7f6-1350-11df-a1f1-0026b9348838",
                        "label": "Anaemia"
                      },
                      {
                        "concept": "a8909060-1350-11df-a1f1-0026b9348838",
                        "label": "Hepatitis"
                      },
                      {
                        "concept": "a89d0c0a-1350-11df-a1f1-0026b9348838",
                        "label": "IRIS"
                      },
                      {
                        "concept": "a8a01dfa-1350-11df-a1f1-0026b9348838",
                        "label": "Lactic acidosis"
                      },
                      {
                        "concept": "a89cee50-1350-11df-a1f1-0026b9348838",
                        "label": "Lipo-dystrophy"
                      },
                      {
                        "concept": "a897fe86-1350-11df-a1f1-0026b9348838",
                        "label": "Neuropathy"
                      },
                      {
                        "concept": "a8ad239c-1350-11df-a1f1-0026b9348838",
                        "label": "Persistent vomiting"
                      },
                      {
                        "concept": "a895776a-1350-11df-a1f1-0026b9348838",
                        "label": "Rash"
                      },
                      {
                        "concept": "a8a16d0e-1350-11df-a1f1-0026b9348838",
                        "label": "Steven-Johnson syndrome"
                      },
                      {
                        "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                        "label": "Other"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(arvChangeReason)&&isEmpty(myValue) && (arvChangeReason==='a890d1ba-1350-11df-a1f1-0026b9348838')",
                      "message": "You indicated patient is changing /changing dose/substituting/stopping arvs due to toxicity, cause should be selected."
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(arvChangeReason) && !isEmpty(myValue) && (arvChangeReason!=='a890d1ba-1350-11df-a1f1-0026b9348838')",
                      "message": "You indicated patient is not changing/dose/substituting/stopping arvs due to toxicity, cause should be selected."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "arvChangeReason!=='a890d1ba-1350-11df-a1f1-0026b9348838'"
                  }
                },
                {
                  "label": "If toxicity: Other (specify):",
                  "id": "arvToxOther",
                  "type": "obs",
                  "questionOptions": {
                    "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
                    "rendering": "text"
                  },
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(arvToxicityCause) && isEmpty(myValue) && (arvToxicityCause==='a8aaf3e2-1350-11df-a1f1-0026b9348838')",
                      "message": "You indicated patient is changing /changing dose/substituting/stopping arvs due to other toxicity, indicate the other cause."
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(arvToxicityCause) && !isEmpty(myValue) && (arvToxicityCause!=='a8aaf3e2-1350-11df-a1f1-0026b9348838')",
                      "message": "You indicated patient is not changing /changing dose/substituting/stopping arvs due to other toxicity, other cause is not required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "arvToxicityCause!=='a8aaf3e2-1350-11df-a1f1-0026b9348838'"
                  }
                }
              ],
              "id": "__wMun7yLIH"
            },
            {
              "type": "obsGroup",
              "label": "Eligible for ART",
              "questionOptions": {
                "concept": "a8a17a7e-1350-11df-a1f1-0026b9348838",
                "rendering": "group"
              },
              "questions": [
                {
                  "label": "Eligible for ART but not started:",
                  "id": "artEligibleNotStarted",
                  "questionOptions": {
                    "concept": "a89d26cc-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a89ce50e-1350-11df-a1f1-0026b9348838",
                        "label": "Adherence concerns"
                      },
                      {
                        "concept": "a8a8b26c-1350-11df-a1f1-0026b9348838",
                        "label": "On TB treatment"
                      },
                      {
                        "concept": "268a14fa-1eab-4cc2-84bc-5583cdedca66",
                        "label": "Patient is on cryptococcal meningitis treatment"
                      },
                      {
                        "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                        "label": "Other"
                      },
                      {
                        "concept": "a89d25fa-1350-11df-a1f1-0026b9348838",
                        "label": "Patient refused"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "arvPlan !== 'a899e0ac-1350-11df-a1f1-0026b9348838'"
                  }
                },
                {
                  "label": "Eligible for ART but not started: Other (specify):",
                  "questionOptions": {
                    "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
                    "rendering": "text"
                  },
                  "type": "obs",
                  "id": "eligibleOther",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "artEligibleNotStarted !== 'a8aaf3e2-1350-11df-a1f1-0026b9348838'"
                  }
                }
              ],
              "id": "__uDrr0Fu55"
            },
            {
              "label": "Plan treatment categories:",
              "type": "obs",
              "id": "planCate",
              "questionOptions": {
                "concept": "74e3b23f-b94f-49d9-a237-6baaee73f163",
                "answers": [
                  {
                    "concept": "034047bd-3fa1-4b2a-b0f0-2787e9b9f7b3",
                    "label": "First line regimen"
                  },
                  {
                    "concept": "8f8a715d-e49a-4b2c-aa3a-83fa9d7a4254",
                    "label": "Second line regimen"
                  },
                  {
                    "concept": "a90ebdd2-351f-485a-b850-4938fcca2729",
                    "label": "Third line regimen"
                  }
                ],
                "rendering": "select"
              },
              "hide": {
                "hideWhenExpression": "!arrayContains(['a89b7ae8-1350-11df-a1f1-0026b9348838', 'a898c938-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838', 'a8a00220-1350-11df-a1f1-0026b9348838'],arvPlan)"
              }
            },
            {
              "label": "ART regimen started, adult:",
              "id": "artStartedAdult",
              "questionOptions": {
                "concept": "a89b6a62-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "18e86e1f-92b8-40cd-8266-0df0ab0a4a50",
                    "label": "DTG50mg/3TC300mg/TDF300mg"
                  },
                  {
                    "concept": "1c4a75d0-cc91-4752-b0a5-4b833326ff7a",
                    "label": "TDF300mg/3TC300mg/EFV600mg"
                  },
                  {
                    "concept": "ea501f4e-cbc5-4942-b9c8-0ac415929f08",
                    "label": "TDF300mg/3TC300mg/EFV400mg"
                  },
                  {
                    "concept": "e78843da-fdb6-446d-8e99-873c278b3540",
                    "label": "ABC600mg/3TC300mg"
                  },
                  {
                    "concept": "6a73f32d-1870-4527-af6e-74443251ded2",
                    "label": "NVP200/ZDV300/3TC150"
                  },
                  {
                    "concept": "a89cc876-1350-11df-a1f1-0026b9348838",
                    "label": "3TC300mg/TDF300mg"
                  },
                  {
                    "concept": "a896758e-1350-11df-a1f1-0026b9348838",
                    "label": "3TC150mg/ZDV300mg"
                  },
                  {
                    "concept": "a8afcf84-1350-11df-a1f1-0026b9348838",
                    "label": "Emtri200mg/TDF300(Truvada)"
                  },
                  {
                    "concept": "a897e7c0-1350-11df-a1f1-0026b9348838",
                    "label": "Aluvia(Kaletra)200mg/LPV50mg"
                  },
                  {
                    "concept": "a8afc066-1350-11df-a1f1-0026b9348838",
                    "label": "Atazanavir300/Ritonavir100"
                  },
                  {
                    "concept": "dabf36cb-dd9a-4542-a8ef-874c1ee5be4a",
                    "label": "FTC200mg/RPV25mg/TDF245mg(Eviplera)"
                  },
                  {
                    "concept": "51669635-73b7-41fe-b215-33eefc9105f3",
                    "label": "Cabotegravir 600mg/Rilpivirine 900mg IM"
                  },
                  {
                    "concept": "98b0baf6-0b73-4429-9264-6233684b0969",
                    "label": "Dolutegravir 50mg"
                  },
                  {
                    "concept": "a897f8a0-1350-11df-a1f1-0026b9348838",
                    "label": "Abacavir300mg"
                  },
                  {
                    "concept": "db3c194b-3e1b-4001-9a1c-a5df1728fc28",
                    "label": "Efavirenz 200mg"
                  },
                  {
                    "concept": "a89673f4-1350-11df-a1f1-0026b9348838",
                    "label": "Lamivudine150mg"
                  },
                  {
                    "concept": "a8afbd64-1350-11df-a1f1-0026b9348838",
                    "label": "Raltegravir 400mg"
                  },
                  {
                    "concept": "a897ea4a-1350-11df-a1f1-0026b9348838",
                    "label": "Zidovudine300mg"
                  },
                  {
                    "concept": "68a0a5dd-1e91-43a2-8dce-c6e84a14de04",
                    "label": "Darunavir 600mg"
                  },
                  {
                    "concept": "1baf254e-1429-4fd9-8db1-edf6523cea13",
                    "label": " Ritonavir 100mg"
                  },
                  {
                    "concept": "42ef7c4d-d6fb-49c0-a46e-019c42dea203",
                    "label": " Ritonavir 80mg"
                  },
                  {
                    "concept": "38fbba9c-4b26-412d-9659-8dd649514d66",
                    "label": "Etravirine 100mg"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(arvPlan) && isEmpty(myValue) && arrayContains(['a89b7ae8-1350-11df-a1f1-0026b9348838', 'a898c938-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838', 'a8a00220-1350-11df-a1f1-0026b9348838'], arvPlan)",
                  "message": "Based on the plan selected, you must choose a regimen."
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(myValue) && !arrayContains(['a89b7ae8-1350-11df-a1f1-0026b9348838', 'a898c938-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838', 'a8a00220-1350-11df-a1f1-0026b9348838'], arvPlan)",
                  "message": "Based on the plan selected, you may not choose a regimen."
                }
              ],
              "hide": {
                "hideWhenExpression": "!arrayContains(['a89b7ae8-1350-11df-a1f1-0026b9348838', 'a898c938-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838', 'a8a00220-1350-11df-a1f1-0026b9348838'],arvPlan)"
              }
            },
            {
              "label": "Indication for DTG based ART:",
              "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('3c54aae1-8b94-49b5-9961-b6aa7cacc03b')) ? undefined : HD.getObject('prevEnc').getValue('3c54aae1-8b94-49b5-9961-b6aa7cacc03b')",
              "id": "dtgIndication",
              "type": "obs",
              "questionOptions": {
                "rendering": "select",
                "concept": "3c54aae1-8b94-49b5-9961-b6aa7cacc03b",
                "answers": [
                  {
                    "concept": "971e804e-89f1-41a2-9cfc-82922eed3db2",
                    "label": "ART intiation"
                  },
                  {
                    "concept": "c9072a63-0075-4f5a-81af-1439d803a510",
                    "label": "Substitution for EFV intolerance/toxicity"
                  },
                  {
                    "concept": "c3bfde9d-6f9c-4a92-ba74-bbf3af8c7061",
                    "label": "Substitution for NVP"
                  },
                  {
                    "concept": "a90ebdd2-351f-485a-b850-4938fcca2729",
                    "label": "Third line regimen"
                  },
                  {
                    "concept": "24d5c8f6-e92c-47fb-becb-9cfac89939c5",
                    "label": "Substitution for ATV/r in PWID"
                  },
                  {
                    "concept": "30c754b8-e20a-470b-a2cf-b6f1f92c733d",
                    "label": "Substitution for PI/r in 2nd line with TB disease"
                  },
                  {
                    "concept": "9af59394-f330-4616-b361-86642659808a",
                    "label": "Alternative for virally suppressed 1st line PI/r based regimen"
                  },
                  {
                    "concept": "0df1b558-9598-4ca4-9678-7a1caae6265f",
                    "label": "Alternative regimen for pregnant/postpartum women"
                  },
                  {
                    "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                    "label": "Other"
                  }
                ]
              },
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "isEmpty(myValue) && !isEmpty(artStartedAdult) && arrayContains(artStartedAdult, '98b0baf6-0b73-4429-9264-6233684b0969')",
                  "message": "DTG indication is required."
                }
              ],
              "hide": {
                "hideWhenExpression": "isEmpty(artStartedAdult) || !arrayContains(artStartedAdult, '98b0baf6-0b73-4429-9264-6233684b0969')"
              }
            },
            {
              "label": "Other (specify):",
              "id": "otherDtgIndications",
              "type": "obs",
              "questionOptions": {
                "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
                "rendering": "text"
              },
              "validators": [],
              "hide": {
                "hideWhenExpression": "dtgIndication !== 'a8aaf3e2-1350-11df-a1f1-0026b9348838'"
              }
            }
          ]
        },
        {
          "label": "PCP Prophylaxis Plan",
          "isExpanded": "true",
          "questions": [
            {
              "required": "true",
              "id": "pcpProphylaxisPlan",
              "label": "PCP prophylaxis plan:",
              "questionOptions": {
                "concept": "a89b7e12-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a89b7908-1350-11df-a1f1-0026b9348838",
                    "label": "Continue"
                  },
                  {
                    "concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
                    "label": "Change regimen"
                  },
                  {
                    "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                    "label": "Not on PCP prophylaxis"
                  },
                  {
                    "concept": "a89b77aa-1350-11df-a1f1-0026b9348838",
                    "label": "Start"
                  },
                  {
                    "concept": "a89b7d36-1350-11df-a1f1-0026b9348838",
                    "label": "Stop"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(pcpProphylaxisCurrent) && !isEmpty(myValue) && !arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838'],myValue)&&(pcpProphylaxisCurrent==='a899e0ac-1350-11df-a1f1-0026b9348838')",
                  "message": "Patient marked as not on PCP prophylaxis. Therefore plan can only be none or start."
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(pcpProphylaxisCurrent) && !isEmpty(myValue) && arrayContains(['a8989396-1350-11df-a1f1-0026b9348838','a890c9e0-1350-11df-a1f1-0026b9348838'],pcpProphylaxisCurrent)&&!(arrayContains(['a89b7c50-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838','a89b7908-1350-11df-a1f1-0026b9348838'], myValue))",
                  "message": "Patient marked as on PCP Prophylaxis. Therefore plan can only be change regimen,continue or stop."
                }
              ]
            },
            {
              "type": "obsGroup",
              "label": "PCP prophylaxis change reason",
              "questionOptions": {
                "concept": "a8a07750-1350-11df-a1f1-0026b9348838",
                "rendering": "group"
              },
              "questions": [
                {
                  "label": "If change/stop, reason:",
                  "id": "pcpProphylaxisChangeReason",
                  "questionOptions": {
                    "concept": "a89b7eee-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a890d1ba-1350-11df-a1f1-0026b9348838",
                        "label": "Toxicity"
                      },
                      {
                        "concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
                        "label": "Pill burden"
                      },
                      {
                        "concept": "c0c9eab3-46f6-453c-b29d-dc1c242317c5",
                        "label": "Drug out of stock"
                      },
                      {
                        "concept": "69db9a47-21c5-4398-89f7-1c03a1392240",
                        "label": "Not elligible"
                      },
                      {
                        "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                        "label": "Other"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(pcpProphylaxisPlan) && isEmpty(myValue) && arrayContains(['a89b7c50-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838'], pcpProphylaxisPlan)",
                      "message": "Patient changed drugs, please select reason."
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(pcpProphylaxisPlan) && !isEmpty(myValue) && (!arrayContains(['a89b7c50-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838'], pcpProphylaxisPlan))",
                      "message": "Patient has not changed drugs, please do not select a reason."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "!arrayContains(['a89b7c50-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838'], pcpProphylaxisPlan)"
                  }
                }
              ],
              "id": "__DsuIHpwuz"
            },
            {
              "id": "pcpToxicityCause",
              "label": "If toxicity, please provide cause:",
              "questionOptions": {
                "concept": "a8a032fe-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a877c7f6-1350-11df-a1f1-0026b9348838",
                    "label": "Anaemia"
                  },
                  {
                    "concept": "a8909060-1350-11df-a1f1-0026b9348838",
                    "label": "Hepatitis"
                  },
                  {
                    "concept": "a89d0c0a-1350-11df-a1f1-0026b9348838",
                    "label": "IRIS"
                  },
                  {
                    "concept": "a8a01dfa-1350-11df-a1f1-0026b9348838",
                    "label": "Lactic acidosis"
                  },
                  {
                    "concept": "a89cee50-1350-11df-a1f1-0026b9348838",
                    "label": "Lipo-dystrophy"
                  },
                  {
                    "concept": "a897fe86-1350-11df-a1f1-0026b9348838",
                    "label": "Neuropathy"
                  },
                  {
                    "concept": "a8ad239c-1350-11df-a1f1-0026b9348838",
                    "label": "Persistent vomiting"
                  },
                  {
                    "concept": "a895776a-1350-11df-a1f1-0026b9348838",
                    "label": "Rash"
                  },
                  {
                    "concept": "a8a16d0e-1350-11df-a1f1-0026b9348838",
                    "label": "Steven-johnson syndrome"
                  },
                  {
                    "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                    "label": "Other"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(pcpProphylaxisChangeReason) && isEmpty(myValue) && (pcpProphylaxisChangeReason==='a890d1ba-1350-11df-a1f1-0026b9348838')",
                  "message": "You indicated patient is changing /changing dose/substituting/stopping PCP due to toxicity, cause should be selected."
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(pcpProphylaxisChangeReason) && !isEmpty(myValue) && (pcpProphylaxisChangeReason!=='a890d1ba-1350-11df-a1f1-0026b9348838')",
                  "message": "You indicated patient is not changing/dose/substituting/stopping PCP due to toxicity, cause should not be selected."
                }
              ],
              "hide": {
                "hideWhenExpression": "pcpProphylaxisChangeReason !== 'a890d1ba-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "label": "If toxicity, please provide cause: Other (specify):",
              "id": "q25OtherToxicity",
              "questionOptions": {
                "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
                "rendering": "text"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(pcpToxicityCause) && isEmpty(myValue) && pcpToxicityCause==='a8aaf3e2-1350-11df-a1f1-0026b9348838'",
                  "message": "You indicated patient is changing /changing dose/substituting/stopping PCP due to other toxicity, indicate the other cause."
                }
              ],
              "hide": {
                "hideWhenExpression": "pcpToxicityCause !== 'a8aaf3e2-1350-11df-a1f1-0026b9348838'"
              }
            },
            {
              "label": "If Start/Change, regimen:",
              "id": "pcpPlanMedication",
              "questionOptions": {
                "concept": "a89b82cc-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a8989396-1350-11df-a1f1-0026b9348838",
                    "label": "Septrin"
                  },
                  {
                    "concept": "a890c9e0-1350-11df-a1f1-0026b9348838",
                    "label": "Dapsone 100mg"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(pcpProphylaxisPlan) && isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838', 'a89b7c50-1350-11df-a1f1-0026b9348838'], pcpProphylaxisPlan)",
                  "message": "You indicated patient is starting/continuing/changing PCP regimen. Please select regimen."
                }
              ],
              "hide": {
                "hideWhenExpression": "!arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838', 'a89b7c50-1350-11df-a1f1-0026b9348838'], pcpProphylaxisPlan)"
              }
            }
          ]
        },
        {
          "label": "TB Prophylaxis Plan",
          "isExpanded": "true",
          "questions": [
            {
              "label": "TB prophylaxis plan:",
              "required": "true",
              "id": "tbpropplan",
              "questionOptions": {
                "concept": "a89c1cfa-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                    "label": "Not on TB prophylaxis"
                  },
                  {
                    "concept": "a89b7908-1350-11df-a1f1-0026b9348838",
                    "label": "Continue"
                  },
                  {
                    "concept": "a89b77aa-1350-11df-a1f1-0026b9348838",
                    "label": "Start"
                  },
                  {
                    "concept": "a8a00220-1350-11df-a1f1-0026b9348838",
                    "label": "Restart"
                  },
                  {
                    "concept": "a89b7d36-1350-11df-a1f1-0026b9348838",
                    "label": "Stop"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(onTbProphylaxis) && onTbProphylaxis === 'a899b35c-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838'], myValue)",
                  "message": "Patient marked as on TB prophylaxis in History section. Therefore plan can only be continue ,stop"
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(onTbProphylaxis) && onTbProphylaxis === 'a899b42e-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && !arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], myValue)",
                  "message": "Patient marked as not on TB prophylaxis in History section. Therefore plan can only be None,Start,Restart"
                }
              ]
            },
            {
              "type": "obsGroup",
              "label": "stopping reason",
              "questionOptions": {
                "concept": "a8a0780e-1350-11df-a1f1-0026b9348838",
                "rendering": "group"
              },
              "questions": [
                {
                  "label": "If stopping, reason:",
                  "required": "true",
                  "id": "tbpropreasonstop",
                  "questionOptions": {
                    "concept": "a89c1e12-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a890a96a-1350-11df-a1f1-0026b9348838",
                        "label": "Active TB"
                      },
                      {
                        "concept": "a89c1ef8-1350-11df-a1f1-0026b9348838",
                        "label": "Completed"
                      },
                      {
                        "concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
                        "label": "Pill burden"
                      },
                      {
                        "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                        "label": "Other"
                      },
                      {
                        "concept": "a890d1ba-1350-11df-a1f1-0026b9348838",
                        "label": "Toxicity"
                      },
                      {
                        "concept": "a89eb744-1350-11df-a1f1-0026b9348838",
                        "label": "Lack of drugs"
                      },
                      {
                        "concept": "a89ce50e-1350-11df-a1f1-0026b9348838",
                        "label": "Poor adherence"
                      },
                      {
                        "concept": "a89eb8c0-1350-11df-a1f1-0026b9348838",
                        "label": "Side effects (Adverse drug reaction)"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "tbpropplan !== 'a89b7d36-1350-11df-a1f1-0026b9348838'"
                  }
                },
                {
                  "label": "If toxicity, please provide cause:",
                  "id": "toxCause",
                  "questionOptions": {
                    "concept": "a8a032fe-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a877c7f6-1350-11df-a1f1-0026b9348838",
                        "label": "Anaemia"
                      },
                      {
                        "concept": "a8909060-1350-11df-a1f1-0026b9348838",
                        "label": "Hepatitis"
                      },
                      {
                        "concept": "a89d0c0a-1350-11df-a1f1-0026b9348838",
                        "label": "IRIS"
                      },
                      {
                        "concept": "a8a01dfa-1350-11df-a1f1-0026b9348838",
                        "label": "Lactic Acidosis"
                      },
                      {
                        "concept": "a89cee50-1350-11df-a1f1-0026b9348838",
                        "label": "Lipo-dystrophy"
                      },
                      {
                        "concept": "a897fe86-1350-11df-a1f1-0026b9348838",
                        "label": "Neuropathy"
                      },
                      {
                        "concept": "a8ad239c-1350-11df-a1f1-0026b9348838",
                        "label": "Persistent vomiting"
                      },
                      {
                        "concept": "a895776a-1350-11df-a1f1-0026b9348838",
                        "label": "Rash"
                      },
                      {
                        "concept": "a8a16d0e-1350-11df-a1f1-0026b9348838",
                        "label": "Steven-Johnson syndrome"
                      },
                      {
                        "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                        "label": "Other"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "tbpropreasonstop !== 'a890d1ba-1350-11df-a1f1-0026b9348838'"
                  }
                },
                {
                  "label": "If toxicity, please provide cause: Other (specify):",
                  "id": "toxcauseOther",
                  "questionOptions": {
                    "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
                    "rendering": "text"
                  },
                  "type": "obs",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "toxCause !== 'a8aaf3e2-1350-11df-a1f1-0026b9348838'"
                  }
                }
              ],
              "id": "__JoJHtGqyK"
            },
            {
              "label": "TB prophylaxis regimen started:",
              "questionOptions": {
                "concept": "a89b83bc-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "162724df-5a66-4ae3-bbf6-5dc6dbba4ebb",
                    "label": "Isoniazid 100mg (6H)"
                  },
                  {
                    "concept": "b150ccdc-e7ec-4f99-b592-6f3fa73b3aea",
                    "label": "Isoniazid 300mg (6H)"
                  },
                  {
                    "concept": "aeaed1af-5b0d-401e-a32a-e96cf4072ab5",
                    "label": "Isoniazid 300mg and Rifapentine 300mg (3HP)"
                  },
                  {
                    "concept": "177635d0-793b-4a66-8324-976c46f795af",
                    "label": "Rifampicin 150mg and Isonaizid 75mg (3RH)"
                  },
                  {
                    "concept": "e5e24e6d-e6b0-4c81-8f7b-0e366df29426",
                    "label": "Rifampicin 70mg and Isonaizid 50mg (3RH)"
                  }
                ],
                "rendering": "select"
              },
              "id": "prophyReg",
              "type": "obs",
              "validators": [],
              "hide": {
                "hideWhenExpression": "!arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], tbpropplan)"
              }
            }
          ]
        },
        {
          "label": "TB Treatment Plan",
          "isExpanded": "true",
          "questions": [
            {
              "label": "TB Treatment Started, detailed",
              "type": "obsGroup",
              "questionOptions": {
                "concept": "a89fe6f0-1350-11df-a1f1-0026b9348838",
                "rendering": "group"
              },
              "questions": [
                {
                  "label": "TB Treatment plan:",
                  "id": "tbTreatmentPlan",
                  "required": "true",
                  "questionOptions": {
                    "concept": "a89c1fd4-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                        "label": "Not on TB treatment"
                      },
                      {
                        "concept": "a89b7908-1350-11df-a1f1-0026b9348838",
                        "label": "Continue regimen"
                      },
                      {
                        "concept": "a89b77aa-1350-11df-a1f1-0026b9348838",
                        "label": "Start induction"
                      },
                      {
                        "concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
                        "label": "Change to continuation"
                      },
                      {
                        "concept": "a898c938-1350-11df-a1f1-0026b9348838",
                        "label": "Re-dose"
                      },
                      {
                        "concept": "a8a00158-1350-11df-a1f1-0026b9348838",
                        "label": "Substitution"
                      },
                      {
                        "concept": "a8a00220-1350-11df-a1f1-0026b9348838",
                        "label": "Restart"
                      },
                      {
                        "concept": "a89b7d36-1350-11df-a1f1-0026b9348838",
                        "label": "Stop"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(onTbTreatment) && onTbTreatment === 'a899b35c-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], myValue)",
                      "message": "Patient marked as on TB in TB History section. Therefore plan can only be drug substitution, continue regimen, change dose, change regimen"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(onTbTreatment) && onTbTreatment === 'a899b42e-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && !arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], myValue)",
                      "message": "Patient marked as not on TB in TB History section. Therefore plan can only be None, start"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(tbstatus) && tbstatus === 'a8af9046-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && !arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838'], myValue)",
                      "message": "Patient marked as confirmed for TB in TB Screening section. Therefore plan can only start"
                    }
                  ]
                }
              ],
              "id": "__LyswquKKz"
            },
            {
              "type": "obsGroup",
              "label": "TB Plan Change Reason",
              "questionOptions": {
                "concept": "a8a078cc-1350-11df-a1f1-0026b9348838",
                "rendering": "group"
              },
              "questions": [
                {
                  "label": "If plan is to stop/change/re-dose/substitute, reason:",
                  "id": "tbPlanChangeReason",
                  "questionOptions": {
                    "concept": "a89c1fd4-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a89c1ef8-1350-11df-a1f1-0026b9348838",
                        "label": "Completed"
                      },
                      {
                        "concept": "c0c9eab3-46f6-453c-b29d-dc1c242317c5",
                        "label": "Drug out of stock"
                      },
                      {
                        "concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
                        "label": "Pill burden"
                      },
                      {
                        "concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
                        "label": "Changing to adult regimen"
                      },
                      {
                        "concept": "a8909e8e-1350-11df-a1f1-0026b9348838",
                        "label": "Pregnancy"
                      },
                      {
                        "concept": "e38b3e51-8a27-4bf6-b0c8-e0b285e4bb2f",
                        "label": "Risk of pregnancy"
                      },
                      {
                        "concept": "a890d1ba-1350-11df-a1f1-0026b9348838",
                        "label": "Toxicity"
                      },
                      {
                        "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                        "label": "Other"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(tbTreatmentPlan) && isEmpty(myValue) && arrayContains(['a898c938-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838','a89b7ae8-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838'], tbTreatmentPlan)",
                      "message": "You indicated patient is changing/changing dose/substituting/stopping TB, reason for changing should be selected."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "!arrayContains(['a898c938-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838','a89b7ae8-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838'], tbTreatmentPlan)"
                  }
                },
                {
                  "label": "If toxicity, please provide cause:",
                  "id": "tbToxicityCause",
                  "questionOptions": {
                    "concept": "a8a032fe-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a877c7f6-1350-11df-a1f1-0026b9348838",
                        "label": "Anaemia"
                      },
                      {
                        "concept": "a8909060-1350-11df-a1f1-0026b9348838",
                        "label": "Hepatitis"
                      },
                      {
                        "concept": "a89d0c0a-1350-11df-a1f1-0026b9348838",
                        "label": "IRIS"
                      },
                      {
                        "concept": "a8a01dfa-1350-11df-a1f1-0026b9348838",
                        "label": "Lactic acidosis"
                      },
                      {
                        "concept": "a89cee50-1350-11df-a1f1-0026b9348838",
                        "label": "Lipo-dystrophy"
                      },
                      {
                        "concept": "a897fe86-1350-11df-a1f1-0026b9348838",
                        "label": "Neuropathy"
                      },
                      {
                        "concept": "a8ad239c-1350-11df-a1f1-0026b9348838",
                        "label": "Persistent vomiting"
                      },
                      {
                        "concept": "a895776a-1350-11df-a1f1-0026b9348838",
                        "label": "Rash"
                      },
                      {
                        "concept": "a8a16d0e-1350-11df-a1f1-0026b9348838",
                        "label": "Steven-Johnson syndrome"
                      },
                      {
                        "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                        "label": "Other"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(tbPlanChangeReason)&&isEmpty(myValue) && (tbPlanChangeReason==='a890d1ba-1350-11df-a1f1-0026b9348838')",
                      "message": "You indicated patient is changing /changing dose/substituting/stopping arvs due to toxicity, cause should be selected."
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(tbPlanChangeReason) && !isEmpty(myValue) && (tbPlanChangeReason!=='a890d1ba-1350-11df-a1f1-0026b9348838')",
                      "message": "You indicated patient is not changing/dose/substituting/stopping arvs due to toxicity, cause should be selected."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "tbPlanChangeReason !== 'a890d1ba-1350-11df-a1f1-0026b9348838'"
                  }
                },
                {
                  "label": "If restarting, reason:",
                  "id": "tbRestart",
                  "type": "obs",
                  "questionOptions": {
                    "concept": "749d07cb-4994-4ce9-a39c-8a655a487fdd",
                    "answers": [
                      {
                        "concept": "15316528-adb9-4c33-b21f-2817f0cad769",
                        "label": "Defaulted"
                      },
                      {
                        "concept": "f6951199-560d-414a-bb5b-1150f07fcea7",
                        "label": "Failure"
                      },
                      {
                        "concept": "a8a3243c-1350-11df-a1f1-0026b9348838",
                        "label": "MDR TB regimen"
                      },
                      {
                        "concept": "769822b2-1f1f-4cbb-8371-0e3949e060cc",
                        "label": "New treatment"
                      },
                      {
                        "concept": "18ac99bf-0805-4929-8d0b-924455850a00",
                        "label": "Relapse/re-infection"
                      }
                    ],
                    "rendering": "select"
                  },
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(tbTreatmentPlan) && arrayContains(['a8a00220-1350-11df-a1f1-0026b9348838'], tbTreatmentPlan) && isEmpty(myValue)",
                      "message": "You indicated patient is restarting tb medication, therefore reason should be selected."
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "(isEmpty(tbTreatmentPlan) || !arrayContains(['a8a00220-1350-11df-a1f1-0026b9348838'], tbTreatmentPlan)) && !isEmpty(myValue)",
                      "message": "You did not indicate restart tb medication, therefore reason should not be selected."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "!arrayContains(['a8a00220-1350-11df-a1f1-0026b9348838'], tbTreatmentPlan)"
                  }
                }
              ],
              "id": "__n7tGLyrxp"
            },
            {
              "type": "obsGroup",
              "label": "tbMedPickupSite",
              "questionOptions": {
                "concept": "b55a6d42-3189-4d4c-97bf-772dfe17b887",
                "rendering": "group"
              },
              "questions": [
                {
                  "label": "Site of TB meds pick-up:",
                  "id": "tbMedPickupSite",
                  "questionOptions": {
                    "concept": "16db21cd-10cb-4c31-bb5a-b7619bfbea66",
                    "answers": [
                      {
                        "concept": "a89c2f42-1350-11df-a1f1-0026b9348838",
                        "label": "This AMPATH site"
                      },
                      {
                        "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                        "label": "Other"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "!arrayContains(['a89b7908-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838', 'a898c938-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], tbTreatmentPlan)"
                  }
                },
                {
                  "label": "Other Specify:",
                  "id": "medspickOther",
                  "questionOptions": {
                    "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
                    "rendering": "text"
                  },
                  "type": "obs",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "tbMedPickupSite !== 'a8aaf3e2-1350-11df-a1f1-0026b9348838'"
                  }
                }
              ],
              "id": "__CH7pI9KwH"
            },
            {
              "label": "TB Treatment Started, detailed",
              "type": "obsGroup",
              "questionOptions": {
                "concept": "a89fe6f0-1350-11df-a1f1-0026b9348838",
                "rendering": "repeating"
              },
              "questions": [
                {
                  "label": "TB regimen started:",
                  "questionOptions": {
                    "concept": "a89c218c-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a899f51a-1350-11df-a1f1-0026b9348838",
                        "label": "RHZE"
                      },
                      {
                        "concept": "a897d1a4-1350-11df-a1f1-0026b9348838",
                        "label": "RHZ"
                      },
                      {
                        "concept": "a8a382ba-1350-11df-a1f1-0026b9348838",
                        "label": "RHE"
                      },
                      {
                        "concept": "a89b1ca6-1350-11df-a1f1-0026b9348838",
                        "label": "RH"
                      },
                      {
                        "concept": "a899e19c-1350-11df-a1f1-0026b9348838",
                        "label": "EH"
                      },
                      {
                        "concept": "a8971c64-1350-11df-a1f1-0026b9348838",
                        "label": "Ethambutol"
                      },
                      {
                        "concept": "a8a3243c-1350-11df-a1f1-0026b9348838",
                        "label": "MDR drugs"
                      },
                      {
                        "concept": "a896cc00-1350-11df-a1f1-0026b9348838",
                        "label": "INH"
                      },
                      {
                        "concept": "a8ac5f2a-1350-11df-a1f1-0026b9348838",
                        "label": "Pyrazinamide"
                      },
                      {
                        "concept": "a8952e4a-1350-11df-a1f1-0026b9348838",
                        "label": "Streptomycin"
                      },
                      {
                        "concept": "b8aa06ca-93c6-40ea-b144-c74f841926f4",
                        "label": "Rifabutin"
                      },
                      {
                        "concept": "a897d0be-1350-11df-a1f1-0026b9348838",
                        "label": "Rifampicin"
                      },
                      {
                        "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                        "label": "Other"
                      }
                    ],
                    "rendering": "select"
                  },
                  "id": "q26f",
                  "type": "obs",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "!arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838', 'a898c938-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], tbTreatmentPlan)"
                  }
                },
                {
                  "label": "tabs/day:",
                  "questionOptions": {
                    "concept": "a8a07386-1350-11df-a1f1-0026b9348838",
                    "max": "30",
                    "min": "0",
                    "rendering": "number"
                  },
                  "type": "obs",
                  "hide": {
                    "field": "q26f",
                    "value": [
                      "a899f51a-1350-11df-a1f1-0026b9348838",
                      "a897d1a4-1350-11df-a1f1-0026b9348838",
                      "a8a382ba-1350-11df-a1f1-0026b9348838"
                    ]
                  },
                  "id": "__wzzqFwzrM"
                },
                {
                  "label": "mg:",
                  "questionOptions": {
                    "concept": "a8a063c8-1350-11df-a1f1-0026b9348838",
                    "max": "2000",
                    "min": "0",
                    "rendering": "number"
                  },
                  "type": "obs",
                  "hide": {
                    "field": "q26f",
                    "value": [
                      "a899e19c-1350-11df-a1f1-0026b9348838",
                      "a8ac5f2a-1350-11df-a1f1-0026b9348838",
                      "a8952e4a-1350-11df-a1f1-0026b9348838"
                    ]
                  },
                  "id": "__9sMvKt6tt"
                },
                {
                  "label": "mg/day:",
                  "questionOptions": {
                    "concept": "a8a0744e-1350-11df-a1f1-0026b9348838",
                    "max": "2000",
                    "min": "0",
                    "rendering": "number"
                  },
                  "type": "obs",
                  "hide": {
                    "field": "q26f",
                    "value": [
                      "a896cc00-1350-11df-a1f1-0026b9348838",
                      "a8971c64-1350-11df-a1f1-0026b9348838"
                    ]
                  },
                  "id": "__ywtLptsIx"
                },
                {
                  "label": "tabs:",
                  "questionOptions": {
                    "concept": "a8a0630a-1350-11df-a1f1-0026b9348838",
                    "max": "180",
                    "min": "0",
                    "rendering": "number"
                  },
                  "type": "obs",
                  "hide": {
                    "field": "q26f",
                    "value": [
                      "b8aa06ca-93c6-40ea-b144-c74f841926f4"
                    ]
                  },
                  "id": "__J4CIztyHK"
                }
              ],
              "id": "__nLqpFrL47"
            }
          ]
        },
        {
          "label": "Advanced HIV Disease Treatment Plan",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Crag test:",
              "id": "cragTest",
              "questionOptions": {
                "concept": "7243bed9-0bc7-4702-af28-a06ab1981e19",
                "answers": [
                  {
                    "concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
                    "label": "Positive"
                  },
                  {
                    "concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
                    "label": "Negative"
                  },
                  {
                    "concept": "a89c3d8e-1350-11df-a1f1-0026b9348838",
                    "label": "Poor sample quality"
                  }
                ],
                "showDate": "true",
                "rendering": "select",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(cragTest) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(cragTest)"
                  }
                }
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "TB LAM:",
              "id": "tblam",
              "questionOptions": {
                "concept": "a4e85034-2b3e-4b4b-b8ea-4f00f3e99b10",
                "answers": [
                  {
                    "concept": "a8a4bd42-1350-11df-a1f1-0026b9348838",
                    "label": "Present"
                  },
                  {
                    "concept": "a8a4bc84-1350-11df-a1f1-0026b9348838",
                    "label": "Absent"
                  }
                ],
                "showDate": "true",
                "rendering": "select",
                "shownDateOptions": {
                  "validators": [
                    {
                      "type": "date"
                    },
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "!isEmpty(tblam) && isEmpty(myValue)",
                      "message": "Date is result is required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(tblam)"
                  }
                }
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "Cryptococcal meningitis treatment plan:",
              "type": "obs",
              "required": "true",
              "questionOptions": {
                "concept": "a89c2790-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a89b7908-1350-11df-a1f1-0026b9348838",
                    "label": "Continue current"
                  },
                  {
                    "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                    "label": "None"
                  },
                  {
                    "concept": "a89b77aa-1350-11df-a1f1-0026b9348838",
                    "label": "Start induction"
                  },
                  {
                    "concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
                    "label": "Change to consolidation"
                  },
                  {
                    "concept": "c65f52d4-e37c-413e-98ea-33f969896b0f",
                    "label": "Change to maintanance"
                  },
                  {
                    "concept": "a89b7d36-1350-11df-a1f1-0026b9348838",
                    "label": "Stop"
                  }
                ],
                "rendering": "select"
              },
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(cryptCurrent) && !isEmpty(myValue) && !arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838'],myValue)&&(cryptCurrent==='a899e0ac-1350-11df-a1f1-0026b9348838')",
                  "message": "Patient marked as not on Cryptococcus Treatment. Therefore plan can only be none or start."
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(cryptCurrent) && cryptCurrent === 'a8971e12-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838'], myValue)",
                  "message": "Patient marked as on crypto in history section. Therefore plan can only be continue regimen and stop."
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(cragTest) && !isEmpty(myValue) && !arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a89b7908-1350-11df-a1f1-0026b9348838'],myValue)&&(cragTest==='a896f3a6-1350-11df-a1f1-0026b9348838')",
                  "message": "Crag test is positive. Therefore patient should be on crypto."
                }
              ],
              "id": "cryptoPlan"
            },
            {
              "label": "Reason for stopping:",
              "id": "stopCryptoReason",
              "questionOptions": {
                "concept": "a663409c-602b-466a-922b-326a5557ca81",
                "answers": [
                  {
                    "concept": "a89c1ef8-1350-11df-a1f1-0026b9348838",
                    "label": "Completed"
                  },
                  {
                    "concept": "a890d1ba-1350-11df-a1f1-0026b9348838",
                    "label": "Toxicity"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(cryptoPlan) && isEmpty(myValue) && arrayContains(['a89b7d36-1350-11df-a1f1-0026b9348838'], cryptoPlan)",
                  "message": "You indicated patient is stopping crypto, reason for stopping."
                }
              ],
              "hide": {
                "hideWhenExpression": "!arrayContains(['a89b7d36-1350-11df-a1f1-0026b9348838'], cryptoPlan)"
              }
            },
            {
              "label": "Pneumocystic carinii pneumonia (PCP) treatment plan:",
              "type": "obs",
              "required": "true",
              "questionOptions": {
                "concept": "51fff29b-7c60-4c23-96a3-d8535c45c54e",
                "answers": [
                  {
                    "concept": "a89b7908-1350-11df-a1f1-0026b9348838",
                    "label": "Continue"
                  },
                  {
                    "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                    "label": "None"
                  },
                  {
                    "concept": "a89b77aa-1350-11df-a1f1-0026b9348838",
                    "label": "Start"
                  },
                  {
                    "concept": "a89b7d36-1350-11df-a1f1-0026b9348838",
                    "label": "Stop"
                  }
                ],
                "rendering": "select"
              },
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(pcpCurrent) && !isEmpty(myValue) && !arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838'],myValue) && (pcpCurrent==='a899e0ac-1350-11df-a1f1-0026b9348838')",
                  "message": "Patient marked as not on treatment. Therefore plan can only be none or start."
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(pcpCurrent) && pcpCurrent !== 'a899e0ac-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838'], myValue)",
                  "message": "Patient marked as on pcp in history section. Therefore plan can only be continue regimen and stop."
                }
              ],
              "id": "pcpPlan"
            },
            {
              "label": "Toxoplasmosis treatment plan:",
              "type": "obs",
              "required": "true",
              "questionOptions": {
                "concept": "4ae39f1e-a41e-488b-bdaf-1bd28aa944c2",
                "answers": [
                  {
                    "concept": "a89b7908-1350-11df-a1f1-0026b9348838",
                    "label": "Continue"
                  },
                  {
                    "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                    "label": "None"
                  },
                  {
                    "concept": "a89b77aa-1350-11df-a1f1-0026b9348838",
                    "label": "Start"
                  },
                  {
                    "concept": "a89b7d36-1350-11df-a1f1-0026b9348838",
                    "label": "Stop"
                  }
                ],
                "rendering": "select"
              },
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(toxoCurrent) && !isEmpty(myValue) && !arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838'],myValue) && (arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838'],toxoCurrent))",
                  "message": "Patient marked as not on treatment. Therefore plan can only be none or start."
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(toxoCurrent) && !arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838'],toxoCurrent) && !isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838'], myValue)",
                  "message": "Patient marked as on toxo in history section. Therefore plan can only be continue regimen and stop."
                }
              ],
              "id": "toxoPlan"
            },
            {
              "label": "Kaposis sarcoma treatment plan:",
              "type": "obs",
              "required": "true",
              "questionOptions": {
                "concept": "8c53ffb7-de82-4aff-ac0e-319bebfa0272",
                "answers": [
                  {
                    "concept": "a89b7908-1350-11df-a1f1-0026b9348838",
                    "label": "Continue"
                  },
                  {
                    "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                    "label": "None"
                  },
                  {
                    "concept": "a89b77aa-1350-11df-a1f1-0026b9348838",
                    "label": "Start"
                  },
                  {
                    "concept": "a89b7d36-1350-11df-a1f1-0026b9348838",
                    "label": "Stop"
                  }
                ],
                "rendering": "select"
              },
              "validators": [
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(kaposiCurrent) && !isEmpty(myValue) && !arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838'],myValue) && (arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838'],kaposiCurrent))",
                  "message": "Patient marked as not on treatment. Therefore plan can only be none or start."
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "!isEmpty(kaposiCurrent) && !arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838'],kaposiCurrent) && !isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838'], myValue)",
                  "message": "Patient marked as on kaposi sarcoma in history section. Therefore plan can only be continue regimen and stop."
                }
              ],
              "id": "kaposiPlan"
            }
          ]
        },
        {
          "label": "Comorbidities And Additional Medication Orders",
          "questions": [
            {
              "label": "Comorbid illness:",
              "required": "true",
              "id": "comorbidIllness",
              "questionOptions": {
                "concept": "0ac4af8a-1b8e-4404-b445-c0471d6f7576",
                "answers": [
                  {
                    "concept": "a8935f0c-1350-11df-a1f1-0026b9348838",
                    "label": "Convulsive disease"
                  },
                  {
                    "concept": "a890b810-1350-11df-a1f1-0026b9348838",
                    "label": "Mental health disorders"
                  },
                  {
                    "concept": "a893436e-1350-11df-a1f1-0026b9348838",
                    "label": "Diabetes"
                  },
                  {
                    "concept": "a8ad5254-1350-11df-a1f1-0026b9348838",
                    "label": "Renal disease"
                  },
                  {
                    "concept": "a8ad516e-1350-11df-a1f1-0026b9348838",
                    "label": "Liver disease"
                  },
                  {
                    "concept": "a8986880-1350-11df-a1f1-0026b9348838",
                    "label": "Hypertention"
                  },
                  {
                    "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                    "label": "None"
                  },
                  {
                    "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                    "label": "Other"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "type": "obs",
              "validators": []
            },
            {
              "label": "Hypertension treatment:",
              "id": "antiHypertensive",
              "questionOptions": {
                "concept": "7c4a06ce-11eb-496f-b4db-516ab8d78aa8",
                "answers": [
                  {
                    "concept": "a8a43c96-1350-11df-a1f1-0026b9348838",
                    "label": "Amlodipine"
                  },
                  {
                    "concept": "22857905-ef07-4702-b576-bdb02677e301",
                    "label": "Amlodipine/Losartan"
                  },
                  {
                    "concept": "a8a438cc-1350-11df-a1f1-0026b9348838",
                    "label": "Atenolol"
                  },
                  {
                    "concept": "a8a43f98-1350-11df-a1f1-0026b9348838",
                    "label": "Atorvastatin"
                  },
                  {
                    "concept": "a8a43994-1350-11df-a1f1-0026b9348838",
                    "label": "Carvedilol"
                  },
                  {
                    "concept": "f8e835b8-419d-409f-be0d-2ec43dfa3aaf",
                    "label": "Clopidogrel"
                  },
                  {
                    "concept": "4039fb88-2e77-41b6-b36f-7937fb9c5b8a",
                    "label": "Digoxin"
                  },
                  {
                    "concept": "a89b5cf2-1350-11df-a1f1-0026b9348838",
                    "label": "Enalapril"
                  },
                  {
                    "concept": "1739a6d9-9436-4eeb-acc1-ea3f74a63e16",
                    "label": "Enoxaparin"
                  },
                  {
                    "concept": "49e26010-8e72-4cdb-baf7-fcbc1aab2de3",
                    "label": "Felodipine"
                  },
                  {
                    "concept": "b0e484db-ab3c-4851-9cb6-56bfaf2348a5",
                    "label": "Frusemide"
                  },
                  {
                    "concept": "a89b5dd8-1350-11df-a1f1-0026b9348838",
                    "label": "HCTZ"
                  },
                  {
                    "concept": "4ef71275-29e3-4b5a-940c-267473ab61b6",
                    "label": "Lisinopril 20mg/HCTZ 12.5mg"
                  },
                  {
                    "concept": "a8a43750-1350-11df-a1f1-0026b9348838",
                    "label": "Losartan"
                  },
                  {
                    "concept": "e476d21f-911d-4d2e-8c37-1ce76e48930f",
                    "label": "Losartan 50mg/Hydrochlorothiazide 12.5mg"
                  },
                  {
                    "concept": "d6dd4ede-2a46-4eb1-99b7-360fb4e329e5",
                    "label": "Metropolol"
                  },
                  {
                    "concept": "a8938aa4-1350-11df-a1f1-0026b9348838",
                    "label": "Nifedipine"
                  },
                  {
                    "concept": "a8939044-1350-11df-a1f1-0026b9348838",
                    "label": "Propranolol"
                  },
                  {
                    "concept": "c06c7786-0657-41db-babc-a16c350d35da",
                    "label": "Rosuvastatin"
                  },
                  {
                    "concept": "a8a43a52-1350-11df-a1f1-0026b9348838",
                    "label": "Spironolactone"
                  },
                  {
                    "concept": "c72e00e5-4944-412a-8bff-2e24bb7e5f2b",
                    "label": "Telmisartan"
                  },
                  {
                    "concept": "59611435-e869-4a8d-8e58-649b7630e471",
                    "label": "Junior ASA"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "type": "obs",
              "validators": [],
              "hide": {
                "hideWhenExpression": "isEmpty(comorbidIllness) || !arrayContainsAny(['a8986880-1350-11df-a1f1-0026b9348838'], comorbidIllness)"
              }
            },
            {
              "label": "Diabetes treatment:",
              "id": "antiDiabetics",
              "questionOptions": {
                "concept": "78809200-7f7f-4d6f-b515-31088765d442",
                "answers": [
                  {
                    "concept": "a8a4320a-1350-11df-a1f1-0026b9348838",
                    "label": "Gliclazide"
                  },
                  {
                    "concept": "a8a4314c-1350-11df-a1f1-0026b9348838",
                    "label": "Glibenclamide"
                  },
                  {
                    "concept": "a8a43386-1350-11df-a1f1-0026b9348838",
                    "label": "Glimepiride"
                  },
                  {
                    "concept": "a8a42ecc-1350-11df-a1f1-0026b9348838",
                    "label": "Insulin 70/30"
                  },
                  {
                    "concept": "a8a42fbc-1350-11df-a1f1-0026b9348838",
                    "label": "Insulin NPH"
                  },
                  {
                    "concept": "0ea94c19-1e35-4aaa-9dd8-07bc48048145",
                    "label": "Insulin humalogue"
                  },
                  {
                    "concept": "01983012-5416-448d-b9c7-c9ec9c2062b4",
                    "label": "Insulin glargine"
                  },
                  {
                    "concept": "a8a4344e-1350-11df-a1f1-0026b9348838",
                    "label": "Metformin"
                  },
                  {
                    "concept": "a8a43b1a-1350-11df-a1f1-0026b9348838",
                    "label": "Pioglitazone"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "type": "obs",
              "validators": [],
              "hide": {
                "hideWhenExpression": "isEmpty(comorbidIllness) || !arrayContainsAny(['a893436e-1350-11df-a1f1-0026b9348838'], comorbidIllness)"
              }
            },
            {
              "label": "Mental health treatment:",
              "id": "mhealth",
              "questionOptions": {
                "concept": "c72425eb-d829-4774-87f3-f3fd90dd7258",
                "answers": [
                  {
                    "concept": "a8a444fc-1350-11df-a1f1-0026b9348838",
                    "label": "Haloperidol"
                  },
                  {
                    "concept": "a89891de-1350-11df-a1f1-0026b9348838",
                    "label": "Chlorpromazine"
                  },
                  {
                    "concept": "a8a4442a-1350-11df-a1f1-0026b9348838",
                    "label": "Olanzapine"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "type": "obs",
              "validators": [],
              "hide": {
                "hideWhenExpression": "isEmpty(comorbidIllness) || !arrayContainsAny(['a890b810-1350-11df-a1f1-0026b9348838'], comorbidIllness)"
              }
            },
            {
              "type": "obsGroup",
              "label": "Additional medication orders",
              "questionOptions": {
                "rendering": "repeating",
                "concept": "a8a0654e-1350-11df-a1f1-0026b9348838"
              },
              "questions": [
                {
                  "label": "Drug",
                  "questionOptions": {
                    "concept": "a8a060c6-1350-11df-a1f1-0026b9348838",
                    "rendering": "drug"
                  },
                  "type": "obs",
                  "validators": [],
                  "id": "__9uCnvzyoI"
                },
                {
                  "label": "Frequency",
                  "questionOptions": {
                    "concept": "a8a06184-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "label": "Once a day",
                        "concept": "a8a05dc4-1350-11df-a1f1-0026b9348838"
                      },
                      {
                        "label": "Twice a day",
                        "concept": "a8a05aea-1350-11df-a1f1-0026b9348838"
                      },
                      {
                        "label": "Three times a day",
                        "concept": "a8a05b9e-1350-11df-a1f1-0026b9348838"
                      },
                      {
                        "label": "Four times a day",
                        "concept": "a8a05cfc-1350-11df-a1f1-0026b9348838"
                      },
                      {
                        "label": "As needed",
                        "concept": "9c1dcb23-dc0c-46b2-a755-875ab6d78fc2"
                      },
                      {
                        "label": "Other",
                        "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": [],
                  "id": "__sLw5HpwE0"
                },
                {
                  "label": "If tabs, number",
                  "questionOptions": {
                    "concept": "a8a0630a-1350-11df-a1f1-0026b9348838",
                    "rendering": "number"
                  },
                  "type": "obs",
                  "id": "__LL5nztFEJ"
                },
                {
                  "label": "If caps, number",
                  "questionOptions": {
                    "concept": "ea404923-fe2b-4812-aec5-3be7fbe712f7",
                    "rendering": "number"
                  },
                  "type": "obs",
                  "id": "__2GxGLDLxv"
                },
                {
                  "label": "If mg, number",
                  "questionOptions": {
                    "concept": "a8a063c8-1350-11df-a1f1-0026b9348838",
                    "rendering": "number"
                  },
                  "type": "obs",
                  "id": "__sFEtorKyz"
                },
                {
                  "label": "If ml, number",
                  "questionOptions": {
                    "concept": "a8a08286-1350-11df-a1f1-0026b9348838",
                    "rendering": "number"
                  },
                  "type": "obs",
                  "id": "__2v0LKvvoD"
                }
              ],
              "id": "__uKyEKyzLv"
            }
          ]
        }
      ]
    },
    {
      "label": "Lab Orders",
      "sections": [
        {
          "label": "Test Orders",
          "isExpanded": "true",
          "questions": [
            {
              "type": "obsGroup",
              "label": "Test orders",
              "questionOptions": {
                "concept": "af46861e-597a-48a3-b3d4-a134d0b1c5fa",
                "rendering": "group"
              },
              "questions": [
                {
                  "label": "Tests Ordered",
                  "id": "order1",
                  "type": "testOrder",
                  "questionOptions": {
                    "rendering": "repeating",
                    "orderSettingUuid": "6f0c9a92-6f24-11e3-af88-005056821db0",
                    "orderType": "testorder",
                    "selectableOrders": [
                      {
                        "concept": "a8982474-1350-11df-a1f1-0026b9348838",
                        "label": "Viral load"
                      },
                      {
                        "concept": "a896cce6-1350-11df-a1f1-0026b9348838",
                        "label": "CD4"
                      },
                      {
                        "concept": "7243bed9-0bc7-4702-af28-a06ab1981e19",
                        "label": "Crag test"
                      },
                      {
                        "concept": "57677735-4310-4841-8902-dae4bac24d20",
                        "label": "DST"
                      },
                      {
                        "concept": "a898fe80-1350-11df-a1f1-0026b9348838",
                        "label": "HIV DNA PCR "
                      },
                      {
                        "concept": "a8908192-1350-11df-a1f1-0026b9348838",
                        "label": "CXR"
                      },
                      {
                        "concept": "a8945d4e-1350-11df-a1f1-0026b9348838",
                        "label": "Sputum AFB"
                      },
                      {
                        "concept": "a897e450-1350-11df-a1f1-0026b9348838",
                        "label": "Creatinine"
                      },
                      {
                        "concept": "a898f50c-1350-11df-a1f1-0026b9348838",
                        "label": "CBC"
                      },
                      {
                        "concept": "a896ca48-1350-11df-a1f1-0026b9348838",
                        "label": "SGPT(ALT)"
                      },
                      {
                        "concept": "a896c8ae-1350-11df-a1f1-0026b9348838",
                        "label": "AST"
                      },
                      {
                        "concept": "a8970a26-1350-11df-a1f1-0026b9348838",
                        "label": " CD4 %"
                      },
                      {
                        "concept": "a8999fb6-1350-11df-a1f1-0026b9348838",
                        "label": "Elisa"
                      },
                      {
                        "concept": "a8999dfe-1350-11df-a1f1-0026b9348838",
                        "label": "Rapid HIV "
                      },
                      {
                        "concept": "a8a47094-1350-11df-a1f1-0026b9348838",
                        "label": "TB PCR "
                      },
                      {
                        "concept": "741517cf-8bac-4755-b289-8dd2a2df7962",
                        "label": "Gene Xpert"
                      },
                      {
                        "concept": "a8908a16-1350-11df-a1f1-0026b9348838",
                        "label": "Hgb"
                      },
                      {
                        "concept": "a8a462a2-1350-11df-a1f1-0026b9348838",
                        "label": "TB Culture"
                      },
                      {
                        "concept": "a8945678-1350-11df-a1f1-0026b9348838",
                        "label": "VDRL"
                      },
                      {
                        "concept": "a894590c-1350-11df-a1f1-0026b9348838",
                        "label": "Urinalysis"
                      },
                      {
                        "concept": "a8af7520-1350-11df-a1f1-0026b9348838",
                        "label": "HbA1C"
                      },
                      {
                        "concept": "7129af13-e39a-43b0-9923-6d1de22c9c5e",
                        "label": "Microalbumin"
                      },
                      {
                        "concept": "a89a7418-1350-11df-a1f1-0026b9348838",
                        "label": "Potassium"
                      },
                      {
                        "concept": "a899f5ec-1350-11df-a1f1-0026b9348838",
                        "label": "Sodium"
                      },
                      {
                        "concept": "a8af843e-1350-11df-a1f1-0026b9348838",
                        "label": "Serum Uric acid"
                      },
                      {
                        "concept": "a89dda72-1350-11df-a1f1-0026b9348838",
                        "label": "ECGn"
                      },
                      {
                        "concept": "a89dd9aa-1350-11df-a1f1-0026b9348838",
                        "label": "Echo"
                      }
                    ]
                  }
                },
                {
                  "label": "Test ordered: Other (specify):",
                  "questionOptions": {
                    "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
                    "rendering": "text"
                  },
                  "type": "obs",
                  "validators": [],
                  "id": "__xD0H17y8M"
                },
                {
                  "label": "CD4 justification:",
                  "type": "obs",
                  "id": "cd4just",
                  "questionOptions": {
                    "concept": "7300e4a0-5ce3-44bc-8d28-b7f13019524a",
                    "rendering": "select",
                    "answers": [
                      {
                        "concept": "13e72035-c017-489e-815b-31dd528c084a",
                        "label": "Baseline"
                      },
                      {
                        "concept": "5aee795e-db90-4af7-9d27-79d7275e61de",
                        "label": "New OI"
                      },
                      {
                        "concept": "31962167-5c45-4ce6-b7fb-6dd2bed1b6fd",
                        "label": "Returned clients who were IITs (>= 3months)"
                      },
                      {
                        "concept": "e43ddeb6-3984-499c-a280-3bade1039608",
                        "label": "Confirmation of treatment failure"
                      }
                    ]
                  },
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "isEmpty(myValue) && !(isEmpty(order1) || !arrayContains(order1, 'a896cce6-1350-11df-a1f1-0026b9348838'))",
                      "message": "Justification required required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(order1) || !arrayContains(order1, 'a896cce6-1350-11df-a1f1-0026b9348838')"
                  }
                },
                {
                  "label": "Viral load justification:",
                  "type": "obs",
                  "id": "vljust",
                  "questionOptions": {
                    "concept": "0a98f01f-57f1-44b7-aacf-e1121650a967",
                    "rendering": "select",
                    "answers": [
                      {
                        "concept": "d7a8dd98-d5de-4774-823a-a8ab06134d63",
                        "label": "First VL"
                      },
                      {
                        "concept": "5931c4d4-4406-4d71-b75d-2205d905cc24",
                        "label": "Follow up VL"
                      },
                      {
                        "concept": "a8a00158-1350-11df-a1f1-0026b9348838",
                        "label": "Single drug substitution"
                      },
                      {
                        "concept": "92a2818f-662c-4dbc-aa20-d9f4edec2654",
                        "label": "Recency"
                      },
                      {
                        "concept": "635f446c-bab9-428a-9930-ae4f46363c0c",
                        "label": "PMTCT new positives"
                      },
                      {
                        "concept": "e883376e-80cb-4ec7-a958-f0fbc0a0bad3",
                        "label": "PMTCT known positives"
                      }
                    ]
                  },
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "isEmpty(myValue) && !(isEmpty(order1) || !arrayContains(order1, 'a8982474-1350-11df-a1f1-0026b9348838'))",
                      "message": "Viral load required."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(order1) || !arrayContains(order1, 'a8982474-1350-11df-a1f1-0026b9348838')"
                  }
                },
                {
                  "label": "First VL justification category:",
                  "type": "obs",
                  "id": "firstvlCategory",
                  "questionOptions": {
                    "concept": "f06c293e-5991-4a06-bc3c-723eee2c4237",
                    "rendering": "select",
                    "answers": [
                      {
                        "concept": "3966e139-ca69-47c6-aad3-ebd41bb45e28",
                        "label": "Baseline VL for infants"
                      },
                      {
                        "concept": "1a5f76c2-e08f-4090-bb8e-9222d86794b0",
                        "label": "VL after ART initiation"
                      }
                    ]
                  },
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "isEmpty(myValue) && !isEmpty(vljust) && arrayContains(['d7a8dd98-d5de-4774-823a-a8ab06134d63'],vljust)",
                      "message": "Please indicate reason for ordering VL."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(vljust) || !arrayContains(['d7a8dd98-d5de-4774-823a-a8ab06134d63'],vljust)"
                  }
                },
                {
                  "label": "Follow up justification category:",
                  "type": "obs",
                  "id": "followupCategory",
                  "questionOptions": {
                    "concept": "d19945a5-4c8e-4a3d-b160-e77dad2a30ad",
                    "rendering": "select",
                    "answers": [
                      {
                        "concept": "a8a4812e-1350-11df-a1f1-0026b9348838",
                        "label": "Routine VL"
                      },
                      {
                        "concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
                        "label": "Regimen change"
                      },
                      {
                        "concept": "42cdefa2-c306-4d10-a819-c04131c4934e",
                        "label": "Confirmation of persistent low level viremia (PLLV)"
                      },
                      {
                        "concept": "e43ddeb6-3984-499c-a280-3bade1039608",
                        "label": "Confirmation of treatment failure"
                      }
                    ]
                  },
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "isEmpty(myValue) && !isEmpty(vljust) && arrayContains(['5931c4d4-4406-4d71-b75d-2205d905cc24'],vljust)",
                      "message": "Please indicate reason for ordering VL."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(vljust) || !arrayContains(['5931c4d4-4406-4d71-b75d-2205d905cc24'],vljust)"
                  }
                },
                {
                  "label": "PMTCT justification category:",
                  "type": "obs",
                  "id": "patCategory1",
                  "questionOptions": {
                    "concept": "a89eea66-1350-11df-a1f1-0026b9348838",
                    "rendering": "select",
                    "answers": [
                      {
                        "concept": "a89d109c-1350-11df-a1f1-0026b9348838",
                        "label": "Pregnant"
                      },
                      {
                        "concept": "a8a18208-1350-11df-a1f1-0026b9348838",
                        "label": "Breastfeeding"
                      },
                      {
                        "concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
                        "label": "Not applicable"
                      }
                    ]
                  },
                  "validators": [
                    {
                      "type": "js_expression",
                      "failsWhenExpression": "isEmpty(myValue) && !isEmpty(vljust) && arrayContains(['635f446c-bab9-428a-9930-ae4f46363c0c','e883376e-80cb-4ec7-a958-f0fbc0a0bad3'],vljust)",
                      "message": "Please indicate reason for ordering VL."
                    }
                  ],
                  "hide": {
                    "hideWhenExpression": "isEmpty(vljust) || !arrayContains(['635f446c-bab9-428a-9930-ae4f46363c0c','e883376e-80cb-4ec7-a958-f0fbc0a0bad3'],vljust)"
                  }
                }
              ],
              "id": "__tJxMGHDLz"
            }
          ]
        }
      ]
    },
    {
      "label": "PHDP",
      "sections": [
        {
          "label": "Positive Health Diginity & Prevention Services",
          "isExpanded": "true",
          "questions": [
            {
              "label": "PHDP:",
              "required": "true",
              "questionOptions": {
                "concept": "e7819751-a5b0-485d-a2bc-9d4aa69aa1e4",
                "answers": [
                  {
                    "concept": "a8a8b352-1350-11df-a1f1-0026b9348838",
                    "label": "Adherence counselling"
                  },
                  {
                    "concept": "b76021d2-38c7-42ff-b2eb-0bd558396ef7",
                    "label": "STI screening"
                  },
                  {
                    "concept": "a2c49302-edb4-4baa-8440-2448eafd0ec1",
                    "label": "Substance use"
                  },
                  {
                    "concept": "a89accc4-1350-11df-a1f1-0026b9348838",
                    "label": "Disclosure to sex partner"
                  },
                  {
                    "concept": "a8a4636a-1350-11df-a1f1-0026b9348838",
                    "label": "Partner testing"
                  },
                  {
                    "concept": "f0a280e8-eb88-41a8-837a-f9949ed1b9cd",
                    "label": "Condom distribution"
                  },
                  {
                    "concept": "91f43249-73c7-427c-8300-2038fc0d6be8",
                    "label": "Needle exchange"
                  },
                  {
                    "concept": "05656545-86be-4605-9527-34fb580534b1",
                    "label": "Targeted risk reduction"
                  },
                  {
                    "concept": "4b2bb2ce-4160-4e44-b310-5ceeb761ec38",
                    "label": "Treatment of GBV injuries"
                  },
                  {
                    "concept": "717c50e1-48da-4148-aeee-c49fdd957b64",
                    "label": "First line support (LIVES)"
                  },
                  {
                    "concept": "b75702a6-908d-491b-9399-6495712c81cc",
                    "label": "Emergency contraceptives"
                  },
                  {
                    "concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
                    "label": "N/A"
                  }
                ],
                "rendering": "multiCheckbox"
              },
              "type": "obs",
              "validators": [],
              "hide": {
                "hideWhenExpression": " !arrayContains(['d164c76c-cc91-4ac2-89e9-ab7c29152ee0','824cf3e6-dd16-4767-ba41-2e04dede349e'], visitType.uuid)"
              },
              "id": "__FtH3trErD"
            }
          ]
        }
      ]
    },
    {
      "label": "Referral Orders",
      "sections": [
        {
          "label": "Referrals",
          "questions": [
            {
              "type": "obsGroup",
              "label": "Referrals",
              "questionOptions": {
                "concept": "a8a07c8c-1350-11df-a1f1-0026b9348838",
                "rendering": "group"
              },
              "questions": [
                {
                  "label": "Referrals made to the patient:",
                  "id": "referrals",
                  "questionOptions": {
                    "concept": "a89c2344-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                        "label": "None"
                      },
                      {
                        "concept": "a89fbb12-1350-11df-a1f1-0026b9348838",
                        "label": "OVC"
                      },
                      {
                        "concept": "a8a066ca-1350-11df-a1f1-0026b9348838",
                        "label": "ENT"
                      },
                      {
                        "concept": "a8a8b352-1350-11df-a1f1-0026b9348838",
                        "label": "Adherence counselling"
                      },
                      {
                        "concept": "a2187952-59e0-449b-895f-5102b7aed49c",
                        "label": "Cardiology"
                      },
                      {
                        "concept": "0fa18f9a-95c8-4ab3-81ed-a1bac69063fa",
                        "label": "Diabetes"
                      },
                      {
                        "concept": "a89accc4-1350-11df-a1f1-0026b9348838",
                        "label": "Disclosure counselling"
                      },
                      {
                        "concept": "057dae68-3d6f-4d79-926c-ed75a0ce7fd5",
                        "label": "Hospitalization"
                      },
                      {
                        "concept": "073ea366-834b-49bd-b4db-ce4e6c61bbc3",
                        "label": "Oncology"
                      },
                      {
                        "concept": "a8a8b42e-1350-11df-a1f1-0026b9348838",
                        "label": "Mental health services"
                      },
                      {
                        "concept": "a8a8afd8-1350-11df-a1f1-0026b9348838",
                        "label": "Nutritional support"
                      },
                      {
                        "concept": "a89e2df6-1350-11df-a1f1-0026b9348838",
                        "label": "Psychosocial support"
                      },
                      {
                        "concept": "a8a8b26c-1350-11df-a1f1-0026b9348838",
                        "label": "TB/DOT program"
                      },
                      {
                        "concept": "c65fcd72-1f3f-4450-b93f-90a87ae64d55",
                        "label": "Surgery"
                      },
                      {
                        "concept": "0d516ea7-218f-43d4-b5c0-58d126529271",
                        "label": "Dermatology"
                      },
                      {
                        "concept": "a89e2d1a-1350-11df-a1f1-0026b9348838",
                        "label": "Social work"
                      },
                      {
                        "concept": "7c6f0599-3e3e-4f42-87a2-2ce66f1e96d0",
                        "label": "Differentiated care program"
                      },
                      {
                        "concept": "a8a06788-1350-11df-a1f1-0026b9348838",
                        "label": "Ophthalmology "
                      },
                      {
                        "concept": "a8a002e8-1350-11df-a1f1-0026b9348838",
                        "label": "Reproductive health "
                      },
                      {
                        "concept": "a9431295-9862-405b-b694-534f093ca0ad",
                        "label": "MDT Program"
                      },
                      {
                        "concept": "7c941f38-ede1-4a94-938f-6c4083339673",
                        "label": "Resistant clinic"
                      },
                      {
                        "concept": "355b199f-c9c7-4e91-831f-2be17d2c67bd",
                        "label": "Legal counsel"
                      },
                      {
                        "concept": "5fc2555b-cae1-4bb8-9cd8-e19c2c04fc37",
                        "label": "Police department"
                      },
                      {
                        "concept": "5a089407-22df-4242-99d8-0b4d4da56b75",
                        "label": "Child protection services"
                      },
                      {
                        "concept": "a8b02e16-1350-11df-a1f1-0026b9348838",
                        "label": "Emergency shelter"
                      },
                      {
                        "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                        "label": "Other"
                      }
                    ],
                    "rendering": "multiCheckbox"
                  },
                  "type": "obs",
                  "validators": []
                },
                {
                  "label": "Referrals made to the patient: Other (specify):",
                  "questionOptions": {
                    "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
                    "rendering": "text"
                  },
                  "type": "obs",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "referrals !== 'a8aaf3e2-1350-11df-a1f1-0026b9348838'"
                  },
                  "id": "__HoKrrpMFL"
                }
              ],
              "id": "otherRefer"
            },
            {
              "label": "If referred for hospitalization, choose location:",
              "questionOptions": {
                "concept": "a89c2420-1350-11df-a1f1-0026b9348838",
                "answers": [
                  {
                    "concept": "a89c25d8-1350-11df-a1f1-0026b9348838",
                    "label": "Local health centre/hospital"
                  },
                  {
                    "concept": "a89c24fc-1350-11df-a1f1-0026b9348838",
                    "label": "MTRH"
                  },
                  {
                    "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                    "label": "Other"
                  }
                ],
                "rendering": "select"
              },
              "type": "obs",
              "validators": [],
              "hide": {
                "hideWhenExpression": "isEmpty(referrals) || !arrayContains(referrals, '057dae68-3d6f-4d79-926c-ed75a0ce7fd5')"
              },
              "id": "locationRefer"
            },
            {
              "label": "Reason  for hospitalization",
              "type": "obsGroup",
              "questionOptions": {
                "concept": "a8a07c8c-1350-11df-a1f1-0026b9348838",
                "rendering": "repeating"
              },
              "questions": [
                {
                  "label": "Reason for hospitalization:",
                  "questionOptions": {
                    "concept": "a8a07a48-1350-11df-a1f1-0026b9348838",
                    "rendering": "problem"
                  },
                  "type": "obs",
                  "validators": [],
                  "hide": {
                    "hideWhenExpression": "isEmpty(referrals) || !arrayContains(referrals, '057dae68-3d6f-4d79-926c-ed75a0ce7fd5')"
                  },
                  "id": "reasonHosp"
                }
              ],
              "id": "hospDetailed"
            }
          ]
        },
        {
          "label": "Transfer Out",
          "questions": [
            {
              "type": "obsGroup",
              "label": "Transfer care to other centre",
              "questionOptions": {
                "concept": "a8a170e2-1350-11df-a1f1-0026b9348838",
                "rendering": "group"
              },
              "questions": [
                {
                  "label": "Transfer care to other centre:",
                  "id": "transferOut",
                  "questionOptions": {
                    "concept": "a89c2e5c-1350-11df-a1f1-0026b9348838",
                    "answers": [
                      {
                        "concept": "a89c2f42-1350-11df-a1f1-0026b9348838",
                        "label": "AMPATH"
                      },
                      {
                        "concept": "a89c301e-1350-11df-a1f1-0026b9348838",
                        "label": "Non-AMPATH"
                      },
                      {
                        "concept": "a8a17d80-1350-11df-a1f1-0026b9348838",
                        "label": "MCH"
                      }
                    ],
                    "rendering": "select"
                  },
                  "type": "obs",
                  "validators": []
                },
                {
                  "type": "personAttribute",
                  "label": "Specify name of AMPATH clinic to which patient is being referred:",
                  "id": "transfered_out_to_ampath",
                  "required": "false",
                  "questionOptions": {
                    "rendering": "ui-select-extended",
                    "attributeType": "8d87236c-c2cc-11de-8d13-0010c6dffd0f"
                  },
                  "hide": {
                    "hideWhenExpression": "transferOut !== 'a89c2f42-1350-11df-a1f1-0026b9348838'"
                  }
                },
                {
                  "type": "obs",
                  "label": "If Non-AMPATH specify where the patient is being referred:",
                  "id": "transfered_out_to_non_ampath",
                  "required": "false",
                  "default": "",
                  "questionOptions": {
                    "rendering": "text",
                    "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838"
                  },
                  "hide": {
                    "hideWhenExpression": "transferOut !== 'a89c301e-1350-11df-a1f1-0026b9348838'"
                  }
                }
              ],
              "id": "transferDetailed"
            }
          ]
        }
      ]
    },
    {
      "label": "Next Appointment",
      "sections": [
        {
          "label": "Next Appointment",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Return to clinic date:",
              "type": "obs",
              "required": "true",
              "questionOptions": {
                "concept": "a8a666ba-1350-11df-a1f1-0026b9348838",
                "rendering": "date",
                "weeksList": [
                  15,
                  30,
                  45,
                  60,
                  90,
                  120,
                  180
                ]
              },
              "validators": [
                {
                  "type": "date",
                  "allowFutureDates": "true"
                },
                {
                  "type": "js_expression",
                  "failsWhenExpression": "(new moment(encDate)).isAfter((new moment(myValue)), 'day') || (new moment(encDate)).isSame((new moment(myValue)), 'day')",
                  "message": "Return to clinic date should be greater than the encounter date."
                }
              ],
              "id": "tca"
            }
          ]
        }
      ]
    }
  ]
}