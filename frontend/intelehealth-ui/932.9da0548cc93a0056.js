"use strict";(self.webpackChunkintelehealth_ui=self.webpackChunkintelehealth_ui||[]).push([[932],{5932:(Rt,S,c)=>{c.r(S),c.d(S,{SessionModule:()=>Dt});var d=c(6895),f=c(4476),s=c(4006),p=c(7266),t=c(4650),b=c(7185),_=c(6601),O=c(1567),C=c(3274),h=c(9383);function k(n,r){1&n&&(t.TgZ(0,"small",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Please enter username")))}function L(n,r){1&n&&(t.TgZ(0,"small",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Please enter valid username")))}function U(n,r){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,k,3,3,"small",14),t.YNc(2,L,3,3,"small",14),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.username.errors.required),t.xp6(1),t.Q6J("ngIf",e.f.username.errors.usernameExists)}}let F=(()=>{class n{constructor(e,o,i,a){this.toastr=e,this.router=o,this.authService=i,this.translationService=a,this.submitted=!1,this.forgotPasswordForm=new s.cw({username:new s.NI("",s.kI.required)})}ngOnInit(){this.translationService.getSelectedLanguage()}get f(){return this.forgotPasswordForm.controls}forgotPassword(){this.submitted=!0,this.forgotPasswordForm.invalid||this.authService.requestOtp({otpFor:p.On.PASSWORD,username:this.forgotPasswordForm.value.username}).subscribe(o=>{o.success?(this.translationService.getTranslation("OTP sent on your mobile number/email successfully!","OTP Sent",!0),this.router.navigate(["/session/verify-otp"],{state:{verificationFor:"forgot-password",via:"username",val:this.forgotPasswordForm.value.username,id:o?.data?.userUuid}})):this.translationService.getTranslation(`${o.message}`,"Error",!1)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b._W),t.Y36(f.F0),t.Y36(_.e),t.Y36(O.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-forgot-password"]],decls:27,vars:20,consts:[[1,"container"],[1,"row"],[1,"col-md-12","p-0","section-title"],[1,"col-md-12","px-0","py-4"],["data-test-id","form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],[1,"link"],["routerLink","/session/forgot-username","data-test-id","linkForgotUsername"],["type","text","formControlName","username","data-test-id","etUsername",1,"form-control",3,"placeholder"],[4,"ngIf"],[1,"form-group","mt-5"],["type","submit","data-test-id","btnSubmit",1,"btn","btn-block","next-btn"],["src","assets/svgs/right-arrow.svg","alt","",1,"btn-icon"],["class","error-msg",4,"ngIf"],[1,"error-msg"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h6"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"div",3)(10,"form",4),t.NdJ("ngSubmit",function(){return o.forgotPassword()}),t.TgZ(11,"div",5)(12,"label",6),t._uU(13),t.ALo(14,"translate"),t.TgZ(15,"span",7)(16,"a",8),t._uU(17),t.ALo(18,"translate"),t.qZA()()(),t._UZ(19,"input",9),t.ALo(20,"translate"),t.YNc(21,U,3,2,"div",10),t.qZA(),t.TgZ(22,"div",11)(23,"button",12),t._uU(24),t.ALo(25,"translate"),t._UZ(26,"img",13),t.qZA()()()()()()),2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,8,"Forgot Password")),t.xp6(3),t.hij(" ",t.lcZ(8,10,"No worries, enter your username and we will send you the OTP to reset your password.")," "),t.xp6(3),t.Q6J("formGroup",o.forgotPasswordForm),t.xp6(3),t.hij(" ",t.lcZ(14,12,"Username")," "),t.xp6(4),t.hij("",t.lcZ(18,14,"Forgot Username")," ?"),t.xp6(2),t.s9C("placeholder",t.lcZ(20,16,"Enter username")),t.xp6(2),t.Q6J("ngIf",o.submitted&&o.f.username.errors),t.xp6(3),t.hij(" ",t.lcZ(25,18,"Next")," "))},dependencies:[d.O5,f.yS,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,C.z,h.X$],styles:[".section-title[_ngcontent-%COMP%]{font-family:DM Sans}.section-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;font-size:32px;line-height:150%;color:var(--color-darkBlue)}.section-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:16px;color:var(--color-gray);line-height:150%}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:var(--color-darkestBlue);font-weight:700;display:flex;flex-direction:row;justify-content:space-between}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;font-size:14px;color:var(--color-gray);font-weight:400}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]{height:56px;background:var(--color-darkBlue);border-radius:8px;font-size:18px;color:var(--color-white);position:relative}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);width:20px;height:20px}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]:focus{box-shadow:none}.form-group[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{color:var(--color-red);padding:10px 0}.form-group[_ngcontent-%COMP%]   .password-field[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .email-id-field[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .phone-field[_ngcontent-%COMP%]{position:relative}.form-group[_ngcontent-%COMP%]   .password-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .email-id-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .phone-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;right:2px;bottom:6px;background-color:var(--color-offWhite)}.form-group[_ngcontent-%COMP%]   .password-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .email-id-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .phone-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:none}.form-control[_ngcontent-%COMP%]{padding:14px 16px;background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2);border-radius:8px;height:48px;font-size:16px;color:var(--color-darkestBlue)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none}"]}),n})();var u=c(4465),m=c(7664),P=c(8563);function E(n,r){1&n&&(t.TgZ(0,"small",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Please enter mobile number")))}function q(n,r){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,E,3,3,"small",22),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.f.phone.errors.required)}}function V(n,r){1&n&&(t.TgZ(0,"div")(1,"small",23),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Please enter valid mobile number")))}const z=function(){return{initialCountry:"in",separateDialCode:!0}};function J(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"form",11),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.forgotUsername())}),t.TgZ(1,"div",12)(2,"label",13),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",14)(6,"input",15),t.NdJ("hasError",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.hasError(i))})("ng2TelOutput",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.getNumber(i))})("intlTelInputObject",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.telInputObject(i))})("countryChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.onCountryChange(i))}),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",16),t._UZ(9,"img",17),t.qZA()(),t.YNc(10,q,2,1,"div",18),t.YNc(11,V,4,3,"div",18),t.qZA(),t.TgZ(12,"div",19)(13,"button",20),t._uU(14),t.ALo(15,"translate"),t._UZ(16,"img",21),t.qZA()()()}if(2&n){const e=t.oxw();t.Q6J("formGroup",e.forgotUsernameForm),t.xp6(3),t.hij(" ",t.lcZ(4,7,"Mobile number")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(7,9,"Enter Mobile Number")),t.Q6J("ng2TelInputOptions",t.DdM(13,z)),t.xp6(4),t.Q6J("ngIf",e.submitted&&e.f.phone.errors),t.xp6(1),t.Q6J("ngIf",e.submitted&&!e.phoneIsValid&&!e.f.phone.errors),t.xp6(3),t.hij(" ",t.lcZ(15,11,"Next")," ")}}function Y(n,r){1&n&&(t.TgZ(0,"small",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Please enter email")))}function j(n,r){1&n&&(t.TgZ(0,"small",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Please enter valid email")))}function D(n,r){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Y,3,3,"small",22),t.YNc(2,j,3,3,"small",22),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.f.email.errors.required),t.xp6(1),t.Q6J("ngIf",e.f.email.errors.pattern)}}function R(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"form",24),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.forgotUsername())}),t.TgZ(1,"div",12)(2,"label",25),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",26),t._UZ(6,"input",27),t.ALo(7,"translate"),t.TgZ(8,"button",16),t._UZ(9,"img",28),t.qZA()(),t.YNc(10,D,3,2,"div",18),t.qZA(),t.TgZ(11,"div",19)(12,"button",29),t._uU(13),t.ALo(14,"translate"),t._UZ(15,"img",21),t.qZA()()()}if(2&n){const e=t.oxw();t.Q6J("formGroup",e.forgotUsernameForm),t.xp6(3),t.hij(" ",t.lcZ(4,5,"EMAIL")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(7,7,"Enter Email ID")),t.xp6(4),t.Q6J("ngIf",e.submitted&&e.f.email.errors),t.xp6(3),t.hij(" ",t.lcZ(14,9,"Next")," ")}}let G=(()=>{class n{constructor(e,o,i,a){this.toastr=e,this.router=o,this.authService=i,this.translate=a,this.active="phone",this.submitted=!1,this.phoneIsValid=!1,this.maxTelLegth=10,this.forgotUsernameForm=new s.cw({phone:new s.NI("",[s.kI.required]),email:new s.NI("",s.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")),countryCode:new s.NI("91",s.kI.required)})}ngOnInit(){this.translate.use((0,u.TL)(!1,p.Mj.SELECTED_LANGUAGE)),this.subscription=this.forgotUsernameForm.get("phone").valueChanges.subscribe(e=>{e.length>this.maxTelLegth&&this.forgotUsernameForm.get("phone").setValue(e.substring(0,this.maxTelLegth))})}get f(){return this.forgotUsernameForm.controls}reset(){"phone"==this.active?(this.forgotUsernameForm.get("phone").setValidators([s.kI.required]),this.forgotUsernameForm.get("phone").updateValueAndValidity(),this.forgotUsernameForm.get("email").clearValidators(),this.forgotUsernameForm.get("email").updateValueAndValidity()):(this.forgotUsernameForm.get("email").setValidators([s.kI.required,s.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),this.forgotUsernameForm.get("email").updateValueAndValidity(),this.forgotUsernameForm.get("phone").clearValidators(),this.forgotUsernameForm.get("phone").updateValueAndValidity()),this.submitted=!1,this.phoneIsValid=!1,this.forgotUsernameForm.patchValue({phone:"",countryCode:"91",email:""})}forgotUsername(){if(this.submitted=!0,this.forgotUsernameForm.invalid||"phone"==this.active&&!this.phoneIsValid)return;let e={otpFor:"username"};"phone"==this.active?(e.phoneNumber=this.forgotUsernameForm.value.phone,e.countryCode=this.forgotUsernameForm.value.countryCode):e.email=this.forgotUsernameForm.value.email,this.authService.requestOtp(e).subscribe(o=>{o.success?(this.toastr.success(`${this.translate.instant("OTP sent on")} ${this.replaceWithStar("phone"==this.active?this.phoneNumber:this.forgotUsernameForm.value.email)} ${this.translate.instant("successfully")}!`,`${this.translate.instant("OTP Sent")}`),this.router.navigate(["/session/verify-otp"],{state:{verificationFor:"forgot-username",via:this.active,val:"phone"==this.active?`${this.forgotUsernameForm.value.countryCode}||${this.forgotUsernameForm.value.phone}`:this.forgotUsernameForm.value.email}})):this.toastr.error(`${this.translate.instant(o.message)}`,`${this.translate.instant("Error")}`)})}replaceWithStar(e){let o=e.length;return e.replace(e.substring(5,"phone"==this.active?o-2:o-4),"*****")}hasError(e){this.phoneIsValid=e}getNumber(e){this.phoneNumber=e,this.phoneIsValid=!0}telInputObject(e){this.telObject=e}onCountryChange(e){this.telObject.setCountry(e.iso2),this.forgotUsernameForm.patchValue({countryCode:e.dialCode}),this.maxTelLegth=this.authService.getInternationalMaskByCountryCode(e.iso2.toUpperCase(),!1).filter(o=>" "!=o).length}ngOnDestroy(){this.subscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b._W),t.Y36(f.F0),t.Y36(_.e),t.Y36(h.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-forgot-username"]],decls:23,vars:16,consts:[[1,"container"],[1,"row"],[1,"col-md-12","p-0","section-title"],[1,"col-md-12","px-0","py-4"],["id","navTabs","ngbNav","",1,"nav-tabs","nav-fill",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink","","data-test-id","navMobile"],["ngbNavContent",""],["ngbNavLink","","data-test-id","navEmail"],[1,"mt-5",3,"ngbNavOutlet"],["id","forgotUsernameByPhone",3,"formGroup","ngSubmit"],[1,"form-group"],["for","phone"],[1,"phone-field"],["type","text","data-test-id","etMobile","ng2TelInput","","formControlName","phone","onkeypress","return (event.charCode !=8 && event.charCode ==0 || (event.charCode >= 48 && event.charCode <= 57))",1,"form-control",3,"ng2TelInputOptions","placeholder","hasError","ng2TelOutput","intlTelInputObject","countryChange"],["type","button",1,"btn","toggle-password-btn"],["src","assets/svgs/mobile.svg","alt",""],[4,"ngIf"],[1,"form-group","mt-5"],["type","submit","data-test-id","btnSubmitMobile",1,"btn","btn-block","next-btn"],["src","assets/svgs/right-arrow.svg","alt","",1,"btn-icon"],["class","error-msg",4,"ngIf"],[1,"error-msg"],["id","forgotUsernameByEmail",3,"formGroup","ngSubmit"],["for","email"],[1,"email-id-field"],["type","email","formControlName","email","data-test-id","etEmail",1,"form-control",3,"placeholder"],["src","assets/svgs/email.svg","alt",""],["type","submit","data-test-id","btnSubmitEmail",1,"btn","btn-block","next-btn"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h6"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"div",3)(10,"ul",4,5),t.NdJ("activeIdChange",function(a){return o.active=a})("activeIdChange",function(){return o.reset()}),t.TgZ(12,"li",6)(13,"a",7),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.YNc(16,J,17,14,"ng-template",8),t.qZA(),t.TgZ(17,"li",6)(18,"a",9),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.YNc(21,R,16,11,"ng-template",8),t.qZA()(),t._UZ(22,"div",10),t.qZA()()()),2&e){const i=t.MAs(11);t.xp6(4),t.Oqu(t.lcZ(5,8,"Forgot Username")),t.xp6(3),t.hij(" ",t.lcZ(8,10,"No worries, enter your Mobile number or Email ID and we will send you the OTP to retrive your username.")," "),t.xp6(3),t.Q6J("activeId",o.active),t.xp6(2),t.Q6J("ngbNavItem","phone"),t.xp6(2),t.Oqu(t.lcZ(15,12,"Mobile number")),t.xp6(3),t.Q6J("ngbNavItem","email"),t.xp6(2),t.Oqu(t.lcZ(20,14,"EMAIL")),t.xp6(3),t.Q6J("ngbNavOutlet",i)}},dependencies:[d.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,m.uN,m.Pz,m.nv,m.Vx,m.tO,P._,C.z,h.X$],styles:[".section-title[_ngcontent-%COMP%]{font-family:DM Sans}.section-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;font-size:32px;line-height:150%;color:var(--color-darkBlue)}.section-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:16px;color:var(--color-gray);line-height:150%}.nav[_ngcontent-%COMP%]{padding:8px 12px;background:var(--color-lightGray);border-radius:8px}.nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{height:48px;color:var(--color-darkBlue);font-size:16px;font-weight:700;display:flex;align-items:center;justify-content:center;border:none}.nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background:var(--color-white);box-shadow:0 2px 6px #1b163a14;border-radius:8px}.nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{border:none}  .iti{width:100%}  .iti .iti__country-list{top:48px;left:0;border-radius:8px}  .iti .iti__selected-flag{background-color:transparent}  .iti .iti__flag-container,   .iti .iti--separate-dial-code .iti__flag-container{height:48px;background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2);border-radius:8px;padding:14px 16px}  .iti .iti__flag-container:hover .iti__selected-flag{background-color:transparent}  .iti input,   .iti .iti input[type=text]{margin-left:auto!important;width:calc(100% - 120px);padding-left:16px!important}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:var(--color-darkestBlue);font-weight:700;display:flex;flex-direction:row;justify-content:space-between}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;font-size:14px;color:var(--color-gray);font-weight:400}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]{height:56px;background:var(--color-darkBlue);border-radius:8px;font-size:18px;color:var(--color-white);position:relative}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);width:20px;height:20px}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]:focus{box-shadow:none}.form-group[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{color:var(--color-red);padding:10px 0}.form-group[_ngcontent-%COMP%]   .password-field[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .email-id-field[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .phone-field[_ngcontent-%COMP%]{position:relative}.form-group[_ngcontent-%COMP%]   .password-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .email-id-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .phone-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;right:2px;bottom:6px;background-color:var(--color-offWhite)}.form-group[_ngcontent-%COMP%]   .password-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .email-id-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .phone-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:none}.form-control[_ngcontent-%COMP%]{padding:14px 16px;background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2);border-radius:8px;height:48px;font-size:16px;color:var(--color-darkestBlue)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none}"]}),n})();var M=c(2340),y=c(1061);const Q=["captchaWrapperElem"];let x=(()=>{class n{constructor(e){this.zone=e,this.scriptElemId="ngx-catpcha-script",this.windowGrecaptcha="grecaptcha",this.windowGrecaptchaEnterprise="enterprise",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.windowOnLoadEnterpriseCallbackProperty="ngx_captcha_onload_enterprise_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com",this.enterpriseApi="enterprise.js",this.defaultApi="api.js"}registerCaptchaScript(e,o,i,a){if(this.grecaptchaScriptLoaded(e.useEnterprise))return void this.zone.run(e.useEnterprise?()=>{i(window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])}:()=>{i(window[this.windowGrecaptcha])});e.useEnterprise?window[this.getCallbackName(!0)]=()=>this.zone.run(i.bind(this,window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])):window[this.getCallbackName(!1)]=()=>this.zone.run(i.bind(this,window[this.windowGrecaptcha]));const l=document.createElement("script");l.id=this.scriptElemId,l.innerHTML="",l.src=this.getCaptchaScriptUrl(e,o,a),l.async=!0,l.defer=!0,document.getElementsByTagName("head")[0].appendChild(l)}cleanup(){const e=document.getElementById(this.scriptElemId);e&&e.remove(),window[this.getCallbackName()]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(e){return!!(window[this.getCallbackName(e)]&&window[this.windowGrecaptcha]&&(e&&window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise]||window[this.windowGrecaptcha].execute))}getCallbackName(e){return e?this.windowOnLoadEnterpriseCallbackProperty:this.windowOnLoadCallbackProperty}getLanguageParam(e){return e?`&hl=${e}`:""}getCaptchaScriptUrl(e,o,i){return`https://www.${e.useGlobalDomain?this.globalDomain:this.defaultDomain}/recaptcha/${e.useEnterprise?this.enterpriseApi:this.defaultApi}?onload=${this.getCallbackName(e.useEnterprise)}&render=${o}${this.getLanguageParam(i)}`}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.R0b))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),B=(()=>{class n{constructor(e,o,i,a){this.renderer=e,this.zone=o,this.injector=i,this.scriptService=a,this.captchaElemPrefix="ngx_captcha_id_",this.setupCaptcha=!0,this.useGlobalDomain=!1,this.useEnterprise=!1,this.type="image",this.tabIndex=0,this.success=new t.vpe,this.load=new t.vpe,this.reset=new t.vpe,this.ready=new t.vpe,this.error=new t.vpe,this.expire=new t.vpe,this.setupAfterLoad=!1,this.resetCaptchaAfterSuccess=!1,this.isLoaded=!1}ngAfterViewInit(){this.control=this.injector.get(s.a5,void 0,t.XFs.Optional)?.control}ngAfterViewChecked(){this.setupCaptcha&&(this.setupCaptcha=!1,this.setupComponent())}ngOnChanges(e){e&&e.hl&&!e.hl.firstChange&&e.hl.currentValue!==e.hl.previousValue&&this.scriptService.cleanup(),e&&e.useGlobalDomain&&!e.useGlobalDomain.firstChange&&e.useGlobalDomain.currentValue!==e.useGlobalDomain.previousValue&&this.scriptService.cleanup(),this.setupCaptcha=!0}getResponse(){return this.reCaptchaApi.getResponse(this.captchaId)}getCaptchaId(){return this.captchaId}resetCaptcha(){this.zone.run(()=>{this.reCaptchaApi.reset(),this.onChange(void 0),this.onTouched(void 0),this.reset.next()})}getCurrentResponse(){return this.currentResponse}reloadCaptcha(){this.setupComponent()}ensureCaptchaElem(e){const o=document.getElementById(e);if(!o)throw Error(`Captcha element with id '${e}' was not found`);this.captchaElem=o}renderReCaptcha(){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.captchaId=this.reCaptchaApi.render(this.captchaElemId,this.getCaptchaProperties()),this.ready.next()},0)})}handleCallback(e){this.currentResponse=e,this.success.next(e),this.zone.run(()=>{this.onChange(e),this.onTouched(e)}),this.resetCaptchaAfterSuccess&&this.resetCaptcha()}getPseudoUniqueNumber(){return(new Date).getUTCMilliseconds()+Math.floor(9999*Math.random())}setupComponent(){this.captchaSpecificSetup(),this.createAndSetCaptchaElem(),this.scriptService.registerCaptchaScript({useGlobalDomain:this.useGlobalDomain,useEnterprise:this.useEnterprise},"explicit",e=>{this.onloadCallback(e)},this.hl)}onloadCallback(e){if(this.reCaptchaApi=e,!this.reCaptchaApi)throw Error("ReCaptcha Api was not initialized correctly");this.isLoaded=!0,this.load.next(),this.renderReCaptcha(),this.setupAfterLoad&&(this.setupAfterLoad=!1,this.setupComponent())}generateNewElemId(){return this.captchaElemPrefix+this.getPseudoUniqueNumber()}createAndSetCaptchaElem(){if(this.captchaElemId=this.generateNewElemId(),!this.captchaElemId)throw Error("Captcha elem Id is not set");if(!this.captchaWrapperElem)throw Error("Captcha DOM element is not initialized");this.captchaWrapperElem.nativeElement.innerHTML="";const e=this.renderer.createElement("div");e.id=this.captchaElemId,this.renderer.appendChild(this.captchaWrapperElem.nativeElement,e),setTimeout(()=>{this.captchaElemId&&this.ensureCaptchaElem(this.captchaElemId)},0)}writeValue(e){}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}handleErrorCallback(){this.zone.run(()=>{this.onChange(void 0),this.onTouched(void 0)}),this.error.next()}handleExpireCallback(){this.expire.next(),this.resetCaptcha()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Qsj),t.Y36(t.R0b),t.Y36(t.zs3),t.Y36(x))},n.\u0275dir=t.lG2({type:n,inputs:{siteKey:"siteKey",useGlobalDomain:"useGlobalDomain",useEnterprise:"useEnterprise",type:"type",hl:"hl",tabIndex:"tabIndex"},outputs:{success:"success",load:"load",reset:"reset",ready:"ready",error:"error",expire:"expire"},features:[t.TTD]}),n})();var w=(()=>{return(n=w||(w={}))[n.InvisibleReCaptcha=0]="InvisibleReCaptcha",n[n.ReCaptcha2=1]="ReCaptcha2",w;var n})();let K=(()=>{class n extends B{constructor(e,o,i,a){super(e,o,i,a),this.renderer=e,this.zone=o,this.injector=i,this.scriptService=a,this.windowOnErrorCallbackProperty="ngx_captcha_error_callback",this.windowOnExpireCallbackProperty="ngx_captcha_expire_callback",this.theme="light",this.size="normal",this.recaptchaType=w.ReCaptcha2}ngOnChanges(e){super.ngOnChanges(e)}ngOnDestroy(){window[this.windowOnErrorCallbackProperty]={},window[this.windowOnExpireCallbackProperty]={}}captchaSpecificSetup(){this.registerCallbacks()}getCaptchaProperties(){return{sitekey:this.siteKey,callback:e=>this.zone.run(()=>this.handleCallback(e)),"expired-callback":()=>this.zone.run(()=>this.handleExpireCallback()),"error-callback":()=>this.zone.run(()=>this.handleErrorCallback()),theme:this.theme,type:this.type,size:this.size,tabindex:this.tabIndex}}registerCallbacks(){window[this.windowOnErrorCallbackProperty]=super.handleErrorCallback.bind(this),window[this.windowOnExpireCallbackProperty]=super.handleExpireCallback.bind(this)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Qsj),t.Y36(t.R0b),t.Y36(t.zs3),t.Y36(x))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngx-recaptcha2"]],viewQuery:function(e,o){if(1&e&&t.Gf(Q,5),2&e){let i;t.iGM(i=t.CRH())&&(o.captchaWrapperElem=i.first)}},inputs:{theme:"theme",size:"size",hl:"hl"},features:[t._Bn([{provide:s.JU,useExisting:(0,t.Gpc)(()=>n),multi:!0}]),t.qOj,t.TTD],decls:2,vars:0,consts:[["captchaWrapperElem",""]],template:function(e,o){1&e&&t._UZ(0,"div",null,0)},encapsulation:2}),n})(),W=(()=>{class n{constructor(e,o){this.scriptService=e,this.zone=o}execute(e,o,i,a,l){this.executeAsPromise(e,o,a).then(i).catch(g=>l?l(g):console.error(g))}executeAsPromise(e,o,i){return new Promise((a,l)=>{this.scriptService.registerCaptchaScript(i||{},e,A=>{this.zone.runOutsideAngular(()=>{try{A.execute(e,{action:o}).then(I=>this.zone.run(()=>a(I)))}catch(I){l(I)}})})})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(x),t.LFG(t.R0b))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[x,W],imports:[d.ez]}),n})();function H(n,r){1&n&&(t.TgZ(0,"small",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Please enter username")))}function X(n,r){1&n&&(t.TgZ(0,"small",27),t._uU(1,"Couldn\u2019t find you, please enter valid username"),t.qZA())}function tt(n,r){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,H,3,3,"small",26),t.YNc(2,X,2,0,"small",26),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.username.errors.required),t.xp6(1),t.Q6J("ngIf",e.f.username.errors.usernameExists)}}function et(n,r){1&n&&(t.TgZ(0,"small",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Please enter password")))}function nt(n,r){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,et,3,3,"small",26),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.password.errors.required)}}function ot(n,r){if(1&n&&(t.TgZ(0,"div",5)(1,"label",28),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"ngx-recaptcha2",29,30),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,4,"Before logging in, please confirm you are not a robot")),t.xp6(2),t.Q6J("siteKey",e.siteKey)("hl",e.selectedLanguage)("useGlobalDomain",!1)}}let it=(()=>{class n{constructor(e,o,i,a,l){this.authService=e,this.router=o,this.rolesService=i,this.translate=a,this.translationService=l,this.siteKey=M.N.siteKey,this.submitted=!1,this.visible=!1,this.rememberMe=!1,this.loginAttempt=0,this.selectedLanguage="en",this.showCaptcha=M.N.showCaptcha,this.loginForm=new s.cw({username:new s.NI("",s.kI.required),password:new s.NI("",s.kI.required),recaptcha:new s.NI("")}),this.showCaptcha&&(this.loginForm.get("recaptcha").setValidators([s.kI.required]),this.loginForm.get("recaptcha").updateValueAndValidity())}get f(){return this.loginForm.controls}ngOnInit(){if((0,u.TL)(!1,p.Mj.SELECTED_LANGUAGE))this.translate.setDefaultLang((0,u.TL)(!1,p.Mj.SELECTED_LANGUAGE)),this.translate.use((0,u.TL)(!1,p.Mj.SELECTED_LANGUAGE));else{const e=this.translate.getBrowserLang();this.translate.setDefaultLang(e),(0,u.pY)(p.Mj.SELECTED_LANGUAGE,e)}this.selectedLanguage=(0,u.TL)(!1,p.Mj.SELECTED_LANGUAGE)}login(){if(this.loginAttempt++,this.submitted=!0,this.loginForm.invalid)return;const e=this.loginForm.value,i=btoa(`${e.username}:${e.password}`);this.authService.login(i).subscribe(a=>{a.authenticated&&!a.verified?this.authService.getAuthToken(e.username,e.password).subscribe(l=>{this.authService.getProvider(a.user.uuid).subscribe(g=>{g.results.length?((0,u.pY)(p.On.PROVIDER,JSON.stringify(g.results[0])),(0,u.pY)(p.On.DOCTOR_NAME,g.results[0].person.display),this.loginSuccess()):this.translationService.getTranslation("Couldn't find provider.","Login Failed!",!1)})}):this.translationService.getTranslation("Couldn't find you, credentials provided are wrong.","Login Failed!",!1)},a=>{this.loginAttempt<3&&this.login()})}loginSuccess(){this.authService.updateVerificationStatus(),this.translationService.getTranslation("You have sucessfully logged in.","Login Successful",!0);const e=this.rolesService.getRole("ORGANIZATIONAL: SYSTEM ADMINISTRATOR"),o=this.rolesService.getRole("ORGANIZATIONAL: NURSE");this.router.navigate(e?["/admin"]:o?["/dashboard/hw-profile"]:["/dashboard"])}checkSession(){this.authService.checkSession().subscribe({next:e=>{this.rememberMe=e.rememberme,this.authService.rememberMe=!!this.rememberMe}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.e),t.Y36(f.F0),t.Y36(y.cM),t.Y36(h.sK),t.Y36(O.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:52,vars:37,consts:[[1,"container"],[1,"row"],[1,"col-md-12","p-0","section-title"],[1,"col-md-12","px-0","py-4"],["id","loginForm","data-test-id","form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],[1,"link"],["routerLink","/session/forgot-username","data-test-id","linkForgotUsername"],["type","text","formControlName","username","placeholder","Enter username","data-test-id","etUsername",1,"form-control"],[4,"ngIf"],["for","password"],["routerLink","/session/forgot-password","data-test-id","linkForgotPassword"],[1,"password-field"],["formControlName","password","placeholder","Enter password","data-test-id","etPassword",1,"form-control"],["type","button","data-test-id","btnTogglePassword",1,"btn","toggle-password-btn",3,"click"],["src","assets/svgs/icon-eye.svg","alt","",3,"hidden"],["src","assets/svgs/icon-eye-closed.svg","alt","",3,"hidden"],["class","form-group",4,"ngIf"],[1,"form-group","mt-3"],["type","submit","data-test-id","btnSubmit",1,"btn","btn-block","next-btn"],["src","assets/svgs/right-arrow.svg","alt","",1,"btn-icon"],[1,"col-md-12"],[1,"section-terms-conditions"],["data-test-id","linkTermsAndConditions","href","https://intelehealth.org/terms-of-use","target","_blank"],["data-test-id","linkPrivacyPolicy","href","https://intelehealth.org/privacy-policy","target","_blank"],["class","error-msg",4,"ngIf"],[1,"error-msg"],["for","capcha"],["formControlName","recaptcha",3,"siteKey","hl","useGlobalDomain"],["captchaElem",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h6"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"div",3)(10,"form",4),t.NdJ("ngSubmit",function(){return o.login()}),t.TgZ(11,"div",5)(12,"label",6),t._uU(13),t.ALo(14,"translate"),t.TgZ(15,"span",7)(16,"a",8),t._uU(17),t.ALo(18,"translate"),t.qZA()()(),t._UZ(19,"input",9),t.YNc(20,tt,3,2,"div",10),t.qZA(),t.TgZ(21,"div",5)(22,"label",11),t._uU(23),t.ALo(24,"translate"),t.TgZ(25,"span",7)(26,"a",12),t._uU(27),t.ALo(28,"translate"),t.qZA()()(),t.TgZ(29,"div",13),t._UZ(30,"input",14),t.TgZ(31,"button",15),t.NdJ("click",function(){return o.visible=!o.visible}),t._UZ(32,"img",16)(33,"img",17),t.qZA()(),t.YNc(34,nt,2,1,"div",10),t.qZA(),t.YNc(35,ot,6,6,"div",18),t.TgZ(36,"div",19)(37,"button",20),t._uU(38),t.ALo(39,"translate"),t._UZ(40,"img",21),t.qZA()()()(),t.TgZ(41,"div",22)(42,"p",23),t._uU(43," Intelehealth "),t.TgZ(44,"a",24),t._uU(45),t.ALo(46,"translate"),t.qZA(),t._uU(47),t.ALo(48,"translate"),t.TgZ(49,"a",25),t._uU(50),t.ALo(51,"translate"),t.qZA()()()()()),2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,17,"LOGIN")),t.xp6(3),t.hij(" ",t.lcZ(8,19,"Login with your provided username and password then you can choose the verification method.")," "),t.xp6(3),t.Q6J("formGroup",o.loginForm),t.xp6(3),t.hij(" ",t.lcZ(14,21,"Username")," "),t.xp6(4),t.hij("",t.lcZ(18,23,"Forgot Username")," ?"),t.xp6(3),t.Q6J("ngIf",o.submitted&&o.f.username.errors),t.xp6(3),t.hij(" ",t.lcZ(24,25,"Password")," "),t.xp6(4),t.hij("",t.lcZ(28,27,"Forgot Password")," ?"),t.xp6(3),t.uIk("type",o.visible?"text":"password"),t.xp6(2),t.Q6J("hidden",o.visible),t.xp6(1),t.Q6J("hidden",!o.visible),t.xp6(1),t.Q6J("ngIf",o.submitted&&o.f.password.errors),t.xp6(1),t.Q6J("ngIf",o.showCaptcha),t.xp6(3),t.hij(" ",t.lcZ(39,29,"Next")," "),t.xp6(7),t.Oqu(t.lcZ(46,31,"Terms & Conditions")),t.xp6(2),t.hij(" ",t.lcZ(48,33,"AND")," "),t.xp6(3),t.Oqu(t.lcZ(51,35,"Privacy Policy")))},dependencies:[d.O5,f.yS,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,K,C.z,h.X$],styles:[".section-title[_ngcontent-%COMP%]{font-family:DM Sans}.section-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;font-size:32px;line-height:150%;color:var(--color-darkBlue)}.section-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:16px;color:var(--color-gray);line-height:150%}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:var(--color-darkestBlue);font-weight:700;display:flex;flex-direction:row;justify-content:space-between}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;font-size:14px;color:var(--color-gray);font-weight:400}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]{height:56px;background:var(--color-darkBlue);border-radius:8px;font-size:18px;color:var(--color-white);position:relative}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);width:20px;height:20px}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]:focus{box-shadow:none}.form-group[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{color:var(--color-red)}.form-group[_ngcontent-%COMP%]   .password-field[_ngcontent-%COMP%]{position:relative}.form-group[_ngcontent-%COMP%]   .password-field[_ngcontent-%COMP%]   .toggle-password-btn[_ngcontent-%COMP%]{position:absolute;right:2px;bottom:6px}.form-group[_ngcontent-%COMP%]   .password-field[_ngcontent-%COMP%]   .toggle-password-btn[_ngcontent-%COMP%]:focus{box-shadow:none}.form-control[_ngcontent-%COMP%]{padding:14px 16px;background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2);border-radius:8px;height:48px;font-size:16px;color:var(--color-darkestBlue)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none}.section-terms-conditions[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:var(--color-gray)}.section-terms-conditions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;color:var(--color-darkBlue);font-weight:700}.pretty.p-image[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:none}"]}),n})();var rt=c(8723),st=c(9581);function at(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"input",3,4),t.NdJ("paste",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.handlePaste(i))})("keyup",function(i){const l=t.CHM(e).index,g=t.oxw(2);return t.KtG(g.onKeyUp(i,l))})("input",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onInput(i))})("keydown",function(i){const l=t.CHM(e).index,g=t.oxw(2);return t.KtG(g.onKeyDown(i,l))}),t.qZA()}if(2&n){const e=r.$implicit,o=r.index,i=t.oxw(2);t.Gre("otp-input ",i.config.inputClass,""),t.Q6J("pattern",i.config.allowNumbersOnly?"\\d*":"")("type",i.inputType)("placeholder",(null==i.config?null:i.config.placeholder)||"")("ngStyle",i.config.inputStyles)("formControl",i.otpForm.controls[e])("id",i.getBoxId(o))}}function lt(n,r){if(1&n&&(t.TgZ(0,"div",1),t.YNc(1,at,2,9,"input",2),t.ALo(2,"keys"),t.qZA()),2&n){const e=t.oxw();t.Gre("ng-otp-input-wrapper wrapper ",e.config.containerClass,""),t.MGl("id","c_",e.componentKey,""),t.Q6J("ngStyle",e.config.containerStyles),t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,6,null==e.otpForm?null:e.otpForm.controls))}}class v{static ifTab(r){return this.ifKey(r,"Tab")}static ifDelete(r){return this.ifKey(r,"Delete;Del")}static ifBackspace(r){return this.ifKey(r,"Backspace")}static ifRightArrow(r){return this.ifKey(r,"ArrowRight;Right")}static ifLeftArrow(r){return this.ifKey(r,"ArrowLeft;Left")}static ifSpacebar(r){return this.ifKey(r,"Spacebar; ")}static ifKey(r,e){return e.split(";").some(i=>i===r.key)}}let Z=(()=>{class n{transform(e){return Object.keys(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"keys",type:n,pure:!0}),n})(),ct=(()=>{class n{constructor(e,o){this.keysPipe=e,this.document=o,this.config={length:4},this.onInputChange=new t.vpe,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36)}get inputType(){return this.config?.isPasswordInput?"password":this.config?.allowNumbersOnly?"tel":"text"}ngOnInit(){this.otpForm=new s.cw({});for(let e=0;e<this.config.length;e++)this.otpForm.addControl(this.getControlName(e),new s.NI);this.otpForm.valueChanges.subscribe(e=>{this.keysPipe.transform(this.otpForm.controls).forEach(o=>{var i=this.otpForm.controls[o].value;i&&i.length>1&&(i.length>=this.config.length?this.setValue(i):this.rebuildValue())})})}ngAfterViewInit(){if(!this.config.disableAutoFocus){const e=this.document.getElementById(`c_${this.componentKey}`);if(e){const o=e.getElementsByClassName("otp-input")[0];o&&o.focus&&o.focus()}}}getControlName(e){return`ctrl_${e}`}onKeyDown(e,o){const i=this.getBoxId(o-1),a=this.getBoxId(o);return v.ifSpacebar(e)?(e.preventDefault(),!1):v.ifBackspace(e)?(e.target.value?this.clearInput(a,o):(this.clearInput(i,o-1),this.setSelected(i)),void this.rebuildValue()):void 0}onInput(e){if(this.config.allowNumbersOnly&&!this.validateNumber(this.currentVal?`${this.currentVal}${e.target.value}`:e.target.value))return e.target.value="",e.stopPropagation(),void e.preventDefault()}onKeyUp(e,o){v.ifTab(e)&&(o-=1);const i=this.getBoxId(o+1),a=this.getBoxId(o-1),l=this.getBoxId(o);return v.ifRightArrow(e)?(e.preventDefault(),void this.setSelected(i)):v.ifLeftArrow(e)?(e.preventDefault(),void this.setSelected(a)):v.ifDelete(e)?(e.target.value?this.clearInput(l,o):(this.clearInput(a,o-1),this.setSelected(a)),void this.rebuildValue()):void(!e.target.value||(this.ifValidKeyCode(e)&&this.setSelected(i),this.rebuildValue()))}validateNumber(e){return e&&/^[0-9]+$/.test(e)}getBoxId(e){return`otp_${e}_${this.componentKey}`}clearInput(e,o){let i=this.getControlName(o);this.otpForm.controls[i]?.setValue(null);const a=this.document.getElementById(e);a&&a instanceof HTMLInputElement&&(a.value=null)}setSelected(e){this.focusTo(e);const o=this.document.getElementById(e);o&&o.setSelectionRange&&setTimeout(()=>{o.setSelectionRange(0,1)},0)}ifValidKeyCode(e){const o=e.key;return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(o)}focusTo(e){const o=this.document.getElementById(e);o&&o.focus()}setValue(e){if(!this.config.allowNumbersOnly||!isNaN(e)){if(this.otpForm.reset(),!e)return void this.rebuildValue();if(e=e.toString().replace(/\s/g,""),Array.from(e).forEach((i,a)=>{this.otpForm.get(this.getControlName(a))&&this.otpForm.get(this.getControlName(a)).setValue(i)}),!this.config.disableAutoFocus){const i=this.document.getElementById(`c_${this.componentKey}`);var o=e.length<this.config.length?e.length:this.config.length-1;let a=i.getElementsByClassName("otp-input")[o];a&&a.focus&&a.focus()}this.rebuildValue()}}rebuildValue(){let e="";this.keysPipe.transform(this.otpForm.controls).forEach(o=>{if(this.otpForm.controls[o].value){let i=this.otpForm.controls[o].value,a=i.length>1,l=!this.config.allowNumbersOnly&&this.config.letterCase&&("upper"==this.config.letterCase.toLocaleLowerCase()||"lower"==this.config.letterCase.toLocaleLowerCase());i=i[0];let g=l?"upper"==this.config.letterCase.toLocaleLowerCase()?i.toUpperCase():i.toLowerCase():i;l&&g==i?l=!1:i=g,e+=i,(a||l)&&this.otpForm.controls[o].setValue(i)}}),this.formCtrl?.setValue&&this.formCtrl.setValue(e),this.onInputChange.emit(e),this.currentVal=e}handlePaste(e){let o=e.clipboardData||window.clipboardData;if(o)var i=o.getData("Text");e.stopPropagation(),e.preventDefault(),i&&(!this.config.allowNumbersOnly||this.validateNumber(i))&&this.setValue(i)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Z),t.Y36(d.K0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-otp-input"]],inputs:{config:"config",formCtrl:"formCtrl"},outputs:{onInputChange:"onInputChange"},decls:1,vars:1,consts:[[3,"class","id","ngStyle",4,"ngIf"],[3,"id","ngStyle"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","class","formControl","id","paste","keyup","input","keydown",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","formControl","id","paste","keyup","input","keydown"],["inp",""]],template:function(e,o){1&e&&t.YNc(0,lt,3,8,"div",0),2&e&&t.Q6J("ngIf",null==o.otpForm?null:o.otpForm.controls)},dependencies:[d.O5,d.PC,d.sg,s.Fj,s.c5,s.JJ,s.oH,Z],styles:[".otp-input[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:4px;border:solid 1px #c5c5c5;text-align:center;font-size:32px}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}@media screen and (max-width: 767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width: 420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}"]}),n})(),pt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[Z],imports:[[d.ez,s.u5,s.UX]]}),n})();function gt(n,r){1&n&&(t.TgZ(0,"small",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Please enter otp")))}function ut(n,r){1&n&&(t.TgZ(0,"small",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Please enter valid otp")))}function dt(n,r){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,gt,3,3,"small",14),t.YNc(2,ut,3,3,"small",14),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.fCtrl.errors.required),t.xp6(1),t.Q6J("ngIf",e.fCtrl.errors.minlength||e.fCtrl.errors.maxlength)}}function ht(n,r){if(1&n&&(t.TgZ(0,"a",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.AsE("",t.lcZ(2,2,"Resend in")," ",e.resendIn,"")}}function mt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",17),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.resendOtp())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Resend")))}const ft=function(){return{length:6,placeholder:"_",inputClass:"otp-input-box",allowNumbersOnly:!0}};let _t=(()=>{class n{constructor(e,o,i,a,l,g,T,A){this.toastr=e,this.router=o,this.route=i,this.authService=a,this.linkSvc=l,this.rolesService=g,this.translationService=T,this.translate=A,this.submitted=!1,this.counter=60,this.tick=1e3,this.resendIn="01:00",this.otpVerificationForm=new s.cw({otp:new s.NI("",[s.kI.required,s.kI.minLength(6),s.kI.maxLength(6)])})}ngOnInit(){this.countDown=(0,rt.H)(0,this.tick).subscribe(()=>{const g=Math.floor(this.counter/60);this.resendIn=("00"+g).slice(-2)+":"+("00"+Math.floor(this.counter-60*g)).slice(-2),this.counter>0&&--this.counter});const{verificationFor:e,via:o,val:i,id:a,visitId:l}=window.history.state;this.verificationFor=e,this.via=o,this.cred=i,this.userUuid=a,this.visitId=l,!e&&!o&&!i&&this.router.navigate(["/session/login"]),this.hash=this.route.snapshot.queryParamMap.get("hash")}get fCtrl(){return this.otpVerificationForm.get("otp")}verify(){if(this.submitted=!0,!this.otpVerificationForm.invalid)switch(this.verificationFor){case"login":this.verifyLogin();break;case"forgot-username":this.verifyForgetUsername();break;case"forgot-password":this.verifyForgetPassword();break;case"presctiption-verification":this.verifyPrescription()}}verifyLogin(){let e={verifyFor:"verification"};if(e.username=(0,u.TL)(!0,p.On.USER).username?(0,u.TL)(!0,p.On.USER).username:(0,u.TL)(!0,p.On.USER).systemId,"phone"==this.via){let o=this.cred.split("||");e.countryCode=o[0],e.phoneNumber=o[1]}else e.email=this.cred;e.otp=this.otpVerificationForm.value.otp,this.authService.verifyOtp(e).subscribe(o=>{if(o.success){this.authService.updateVerificationStatus(),this.translationService.getTranslation("You have sucessfully logged in.","Login Successful",!0);let i=this.rolesService.getRole("ORGANIZATIONAL: SYSTEM ADMINISTRATOR"),a=this.rolesService.getRole("ORGANIZATIONAL: NURSE");this.authService.rememberMe&&this.authService.setRememberMe().subscribe(),this.router.navigate(i?["/admin"]:a?["/dashboard/hw-profile"]:["/dashboard"])}else this.translationService.getTranslation(o.message,"Error",!1)})}verifyForgetUsername(){let e={verifyFor:"username"},o="email";if("phone"==this.via){let i=this.cred.split("||");e.countryCode=i[0],e.phoneNumber=i[1],o="mobile number"}else e.email=this.cred;e.otp=this.otpVerificationForm.value.otp,this.authService.verifyOtp(e).subscribe(i=>{i.success?(this.translationService.getTranslation("Username has been successfully sent on your "+o,"Username Sent",!0),this.router.navigate(["/session/login"])):this.translationService.getTranslation(i.message,"Error",!1)})}verifyForgetPassword(){let e={};e.verifyFor=p.On.PASSWORD,e.username=this.cred,e.otp=this.otpVerificationForm.value.otp,this.authService.verifyOtp(e).subscribe(o=>{o.success?this.router.navigate(["/session/setup-password"],{state:{username:this.cred,id:this.userUuid}}):this.translationService.getTranslation(o.message,"Error",!1)})}verifyPrescription(){this.linkSvc.verifyPresctionOtp(this.hash,this.otpVerificationForm.value.otp).subscribe(e=>{e.success?this.router.navigate(["/i",this.hash],{state:{visitId:this.visitId,accessToken:btoa(this.otpVerificationForm.value.otp)}}):this.translationService.getTranslation(e.message,"Error",!1)})}resendOtp(){this.counter=60,this.resendIn="01:00";let e={};switch(this.verificationFor){case"login":e.otpFor="verification",e.username=(0,u.TL)(!0,p.On.USER).username,"phone"==this.via?(e.phoneNumber=this.cred.split("||")[1],e.countryCode=this.cred.split("||")[0]):e.email=this.cred,this.authService.requestOtp(e).subscribe(o=>{o.success?this.toastr.success(`${this.translate.instant("OTP sent on")} ${this.replaceWithStar("phone"==this.via?`+${this.cred.split("||")[0]}${this.cred.split("||")[1]}`:this.cred)} ${this.translate.instant("successfully")}!`,`${this.translate.instant("OTP Sent")}`):this.translationService.getTranslation(o.message,"Error",!1)});break;case"forgot-username":e.otpFor="username","phone"==this.via?(e.phoneNumber=this.cred.split("||")[1],e.countryCode=this.cred.split("||")[0]):e.email=this.cred,this.authService.requestOtp(e).subscribe(o=>{o.success?this.toastr.success(`${this.translate.instant("OTP sent on")} ${this.replaceWithStar("phone"==this.via?`+${this.cred.split("||")[0]}${this.cred.split("||")[1]}`:this.cred)} ${this.translate.instant("successfully")}!`,`${this.translate.instant("OTP Sent")}`):this.translationService.getTranslation(o.message,"Error",!1)});break;case"forgot-password":e={otpFor:p.On.PASSWORD,username:this.cred},this.authService.requestOtp(e).subscribe(o=>{o.success?this.translationService.getTranslation("OTP sent on your mobile number/email successfully!","OTP Sent",!0):this.translationService.getTranslation(o.message,"Error",!1)});break;case"presctiption-verification":this.router.navigate(["/i",this.hash])}}replaceWithStar(e){let o=e.length;return e.replace(e.substring(5,"phone"==this.via?o-2:o-4),"*****")}ngOnDestroy(){this.countDown?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b._W),t.Y36(f.F0),t.Y36(f.gz),t.Y36(_.e),t.Y36(st.M),t.Y36(y.cM),t.Y36(O.D),t.Y36(h.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-otp-verification"]],decls:26,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-md-12","p-0","section-title"],[1,"col-md-12","px-0","py-4"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["data-test-id","etOtpInput",3,"formCtrl","config"],[4,"ngIf"],[1,"resend-otp-text"],["href","javascript:void(0)","data-test-id","linkResendIn",4,"ngIf"],["href","javascript:void(0)","data-test-id","linkResend",3,"click",4,"ngIf"],[1,"form-group","mt-5"],["type","submit","data-test-id","btnSubmit",1,"btn","btn-block","next-btn"],["class","error-msg",4,"ngIf"],[1,"error-msg"],["href","javascript:void(0)","data-test-id","linkResendIn"],["href","javascript:void(0)","data-test-id","linkResend",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h6"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"div",3)(10,"form",4),t.NdJ("ngSubmit",function(){return o.verify()}),t.TgZ(11,"div",5)(12,"label",6),t._uU(13),t.ALo(14,"translate"),t.qZA(),t._UZ(15,"ng-otp-input",7),t.YNc(16,dt,3,2,"div",8),t.qZA(),t.TgZ(17,"div",9),t._uU(18),t.ALo(19,"translate"),t.YNc(20,ht,3,4,"a",10),t.YNc(21,mt,3,3,"a",11),t.qZA(),t.TgZ(22,"div",12)(23,"button",13),t._uU(24),t.ALo(25,"translate"),t.qZA()()()()()()),2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,13,"OTP verification")),t.xp6(3),t.lnq(" ",t.lcZ(8,15,"Please enter the verification code which is sent to your")," ","phone"==o.via?"mobile number":"email id"," ",o.replaceWithStar(o.cred)," "),t.xp6(3),t.Q6J("formGroup",o.otpVerificationForm),t.xp6(3),t.hij(" ",t.lcZ(14,17,"Enter OTP")," "),t.xp6(2),t.Q6J("formCtrl",o.fCtrl)("config",t.DdM(23,ft)),t.xp6(1),t.Q6J("ngIf",o.submitted&&o.fCtrl.errors),t.xp6(2),t.hij(" ",t.lcZ(19,19,"Didn\u2019t receive OTP ?")," "),t.xp6(2),t.Q6J("ngIf",o.counter>0),t.xp6(1),t.Q6J("ngIf",0==o.counter),t.xp6(3),t.hij(" ",t.lcZ(25,21,"Verify")," "))},dependencies:[d.O5,s._Y,s.JL,s.sg,ct,h.X$],styles:[".section-title[_ngcontent-%COMP%]{font-family:DM Sans}.section-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;font-size:32px;line-height:150%;color:var(--color-darkBlue)}.section-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:16px;color:var(--color-gray);line-height:150%}  .ng-otp-input-wrapper .otp-input-box{background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2)!important;border-radius:8px!important;outline:none;color:var(--color-darkestBlue)!important;font-size:16px!important}.resend-otp-text[_ngcontent-%COMP%]{font-size:16px;color:var(--color-gray);padding:8px 0}.resend-otp-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;color:var(--color-darkBlue)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:var(--color-darkestBlue);font-weight:700;display:flex;flex-direction:row;justify-content:space-between}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;font-size:14px;color:var(--color-gray);font-weight:400}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]{height:56px;background:var(--color-darkBlue);border-radius:8px;font-size:18px;color:var(--color-white);position:relative}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);width:20px;height:20px}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]:focus{box-shadow:none}.form-group[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{color:var(--color-red);padding:10px 0}.form-group[_ngcontent-%COMP%]   .password-field[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .email-id-field[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .phone-field[_ngcontent-%COMP%]{position:relative}.form-group[_ngcontent-%COMP%]   .password-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .email-id-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .phone-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;right:2px;bottom:6px;background-color:var(--color-offWhite)}.form-group[_ngcontent-%COMP%]   .password-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .email-id-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .phone-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:none}.form-control[_ngcontent-%COMP%]{padding:14px 16px;background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2);border-radius:8px;height:48px;font-size:16px;color:var(--color-darkestBlue)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none}"]}),n})(),Ct=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-page-not-found"]],decls:11,vars:6,consts:[[1,"pnf-container"],[1,"text-center","p-5"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1"),t._uU(3,"404"),t.qZA(),t.TgZ(4,"h6"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"hr"),t.TgZ(8,"p"),t._uU(9),t.ALo(10,"translate"),t.qZA()()()),2&e&&(t.xp6(5),t.Oqu(t.lcZ(6,2,"Ooops, page not found")),t.xp6(4),t.Oqu(t.lcZ(10,4,"Sorry, but the requested page is not found.")))},dependencies:[h.X$],styles:[".pnf-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;background:var(--color-white);color:var(--color-darkBlue)}.pnf-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px;font-weight:700}.pnf-container[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.pnf-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:700}"]}),n})();var N=c(8796);function vt(n,r){if(1&n&&(t.TgZ(0,"div",20),t._UZ(1,"img",21)(2,"img",22)(3,"img",23),t.qZA(),t.TgZ(4,"div",24)(5,"h3"),t._uU(6),t.ALo(7,"translate"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.heartbeat1,t.LSH),t.xp6(1),t.Q6J("src",e.img_url,t.LSH),t.xp6(1),t.Q6J("src",e.heartbeat2,t.LSH),t.xp6(3),t.Oqu(t.lcZ(7,4,e.title))}}function bt(n,r){1&n&&t.YNc(0,vt,8,6,"ng-template",19)}function xt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"img",25),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.location.back())}),t.qZA()}}let wt=(()=>{class n{constructor(e,o,i){this.translate=e,this.router=o,this.location=i,this.slides=[{img_url:"assets/svgs/slide-1.svg",title:"Deliver quality health care where there is no doctor",description:"",heartbeat1:"assets/images/login/right_red_heartbeat.png",heartbeat2:"assets/images/login/right_green_heartbeat.png"},{img_url:"assets/svgs/slide-2.svg",title:"2,75,000 population covered from 215 villages in 2 countries",description:"",heartbeat1:"assets/images/login/right_green_heartbeat.png",heartbeat2:"assets/images/login/right_red_heartbeat.png"},{img_url:"assets/svgs/slide-3.svg",title:"Take online consultations and send prescriptions to the patients virtually",description:"",heartbeat1:"assets/images/login/right_red_heartbeat.png",heartbeat2:"assets/images/login/right_green_heartbeat.png"}],this.selectedLanguage="en",this.languages=[{id:1,name:"English",code:"en"},{id:2,name:"Russian",code:"ru"}]}ngOnInit(){(0,u.TL)(!1,p.Mj.SELECTED_LANGUAGE)&&(this.selectedLanguage=(0,u.TL)(!1,p.Mj.SELECTED_LANGUAGE))}changeLanguage(){this.translate.use(this.selectedLanguage),(0,u.pY)(p.Mj.SELECTED_LANGUAGE,this.selectedLanguage),window.location.reload()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.sK),t.Y36(f.F0),t.Y36(d.Ye))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-session"]],decls:25,vars:12,consts:[[1,"container-fluid"],[1,"row","main-container-row"],[1,"col-md-6","p-0"],[1,"login-info-wrapper"],[1,"info-banner"],[1,"grid-icon"],["src","assets/svgs/grid-dots.svg","alt","grid-icon","width","100%"],["src","assets/images/Intelehealth-logo-white.png","alt","",1,"logo-icon"],[1,"carousel-container","flex-fill"],[3,"showNavigationArrows","showNavigationIndicators"],[4,"ngFor","ngForOf"],[1,"copy-right-footer","justify-self-end"],[1,"main-container"],[1,"container"],[1,"row"],[1,"col-sm-6","col-6","px-0","py-4"],["class","btn-icon web-back-btn click","src","assets/svgs/left-arrow-blue.svg","alt","",3,"click",4,"ngIf"],["src","assets/images/intelehealth-logo-reverse.png","alt","",1,"w-75","rounded","mobile-logo"],["data-test-id","selectLanguageSession","bindLabel","name","bindValue","code",1,"language-select-input","ml-auto",3,"items","searchable","clearable","multiple","ngModel","ngModelChange"],["ngbSlide",""],[1,"picsum-img-wrapper"],["alt","",1,"hb1",3,"src"],["alt","Random slide",1,"main",3,"src"],["alt","",1,"hb2",3,"src"],[1,"carousel-caption"],["src","assets/svgs/left-arrow-blue.svg","alt","",1,"btn-icon","web-back-btn","click",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._UZ(6,"img",6)(7,"img",7),t.qZA()(),t.TgZ(8,"div",8)(9,"ngb-carousel",9),t.YNc(10,bt,1,0,null,10),t.qZA()(),t.TgZ(11,"div",11)(12,"span"),t._uU(13),t.ALo(14,"translate"),t.qZA()()()(),t.TgZ(15,"div",2)(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15),t.YNc(20,xt,1,0,"img",16),t._UZ(21,"img",17),t.qZA(),t.TgZ(22,"div",15)(23,"ng-select",18),t.NdJ("ngModelChange",function(a){return o.selectedLanguage=a})("ngModelChange",function(){return o.changeLanguage()}),t.qZA()()()(),t._UZ(24,"router-outlet"),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("showNavigationArrows",!1)("showNavigationIndicators",!0),t.xp6(1),t.Q6J("ngForOf",o.slides),t.xp6(3),t.Oqu(t.lcZ(14,10,"Copyright \xa92023 Intelehealth, a 501 (c)(3) & Section 8 non-profit organisation")),t.xp6(7),t.Q6J("ngIf",!o.router.url.includes("/session/login")),t.xp6(3),t.Q6J("items",o.languages)("searchable",!1)("clearable",!1)("multiple",!1)("ngModel",o.selectedLanguage))},dependencies:[d.sg,d.O5,f.lC,m.uo,m.xl,N.w9,s.JJ,s.On,C.z,h.X$],styles:[".login-info-wrapper[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:var(--color-darkBlue);display:flex;flex-direction:column;font-family:DM Sans;font-style:normal}.login-info-wrapper[_ngcontent-%COMP%]   .info-banner[_ngcontent-%COMP%]{width:100%;padding:40px 40px 10px}.login-info-wrapper[_ngcontent-%COMP%]   .info-banner[_ngcontent-%COMP%]   .grid-icon[_ngcontent-%COMP%]{position:relative;width:100px;height:100px}.login-info-wrapper[_ngcontent-%COMP%]   .info-banner[_ngcontent-%COMP%]   .grid-icon[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:10%;transform:translateY(-50%);height:74px}.login-info-wrapper[_ngcontent-%COMP%]     .carousel-indicators li{width:10px;height:5px;border:none;border-radius:2.5px}.login-info-wrapper[_ngcontent-%COMP%]     .carousel-indicators li.active{width:30px}.login-info-wrapper[_ngcontent-%COMP%]   .carousel-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center}.login-info-wrapper[_ngcontent-%COMP%]   .carousel-container[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]{position:relative;left:0;right:0;bottom:auto;padding:20px 0}.login-info-wrapper[_ngcontent-%COMP%]   .carousel-container[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:28px;line-height:132%;color:var(--color-white);min-height:74px;text-align:center;padding:0 30px}.login-info-wrapper[_ngcontent-%COMP%]   .carousel-container[_ngcontent-%COMP%]   .picsum-img-wrapper[_ngcontent-%COMP%]{width:100%;position:relative;text-align:center;min-height:50vh}.login-info-wrapper[_ngcontent-%COMP%]   .carousel-container[_ngcontent-%COMP%]   .picsum-img-wrapper[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:100%;max-width:80%}.login-info-wrapper[_ngcontent-%COMP%]   .carousel-container[_ngcontent-%COMP%]   .picsum-img-wrapper[_ngcontent-%COMP%]   .hb1[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:25%;transform:rotateY(180deg)}.login-info-wrapper[_ngcontent-%COMP%]   .carousel-container[_ngcontent-%COMP%]   .picsum-img-wrapper[_ngcontent-%COMP%]   .hb2[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:25%}.login-info-wrapper[_ngcontent-%COMP%]   .copy-right-footer[_ngcontent-%COMP%]{padding:30px 10px;height:80px;display:flex;align-items:center;justify-content:center}.login-info-wrapper[_ngcontent-%COMP%]   .copy-right-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:12px;color:#fffc}.main-container[_ngcontent-%COMP%]{padding:20px 60px}.main-container[_ngcontent-%COMP%]   .ng-select.language-select-input[_ngcontent-%COMP%]{width:fit-content;height:48px;background:var(--color-offWhite);border:.770833px solid rgba(178,175,190,.2);border-radius:8px;outline:none;font-size:16px;padding:0;font-family:DM Sans}.main-container[_ngcontent-%COMP%]   .ng-select.language-select-input[_ngcontent-%COMP%]:focus{box-shadow:none}.main-container[_ngcontent-%COMP%]     .ng-select.language-select-input .ng-select-container{border:none;background:transparent;border-radius:8px;min-height:48px!important;box-shadow:none}.main-container[_ngcontent-%COMP%]     .ng-select.language-select-input .ng-select-container:hover{box-shadow:none}.main-container[_ngcontent-%COMP%]     .ng-select.language-select-input .ng-select-container .ng-value-container .ng-input{top:50%;transform:translateY(-50%)}.mobile-logo[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.main-container-row[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse}.main-container[_ngcontent-%COMP%]{padding:20px 30px 80px}.mobile-logo[_ngcontent-%COMP%]{display:block}.web-back-btn[_ngcontent-%COMP%]{display:none}}"]}),n})();var Ot=c(9080);function Pt(n,r){1&n&&(t.TgZ(0,"small",29),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Please enter password")))}function Mt(n,r){1&n&&(t.TgZ(0,"small",29),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Please enter atleast 8 characters")))}function yt(n,r){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Pt,3,3,"small",28),t.YNc(2,Mt,3,3,"small",28),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.password.errors.required),t.xp6(1),t.Q6J("ngIf",e.f.password.errors.minlength)}}function Zt(n,r){1&n&&(t.TgZ(0,"small",29),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Please enter password")))}function Tt(n,r){1&n&&(t.TgZ(0,"small",29),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Please enter atleast 8 characters")))}function At(n,r){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Zt,3,3,"small",28),t.YNc(2,Tt,3,3,"small",28),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.confirmPassword.errors.required),t.xp6(1),t.Q6J("ngIf",e.f.confirmPassword.errors.minlength)}}let It=(()=>{class n{constructor(e,o,i,a,l){this.coreService=e,this.router=o,this.toastr=i,this.authService=a,this.translate=l,this.submitted=!1,this.visible1=!1,this.visible2=!1,this.baseUrl=M.N.baseURL,this.level=1,this.resetPasswordForm=new s.cw({password:new s.NI("",[s.kI.required,s.kI.minLength(8)]),confirmPassword:new s.NI("",[s.kI.required,s.kI.minLength(8)])})}ngOnInit(){const{username:e,id:o}=window.history.state;this.username=e,this.userUuid=o,!e&&!o&&this.router.navigate(["/session/login"]),this.resetPasswordForm.get(p.On.PASSWORD).valueChanges.subscribe(i=>{this.level=this.checkPasswordStrength(i)})}get f(){return this.resetPasswordForm.controls}resetPassword(){if(this.submitted=!0,this.resetPasswordForm.invalid)return;if(this.resetPasswordForm.value.password!==this.resetPasswordForm.value.confirmPassword)return void this.toastr.warning(this.translate.instant("Password and Confirm Password doesn't match."),this.translate.instant("Password doesn't match!"));let e=this.resetPasswordForm.value.password;this.hasLowerCase(e)&&this.hasUpperCase(e)&&this.hasSpecialCharacter(e)&&this.hasNumber(e)?this.authService.resetPassword(this.userUuid,e).subscribe(o=>{o.success?this.coreService.openPasswordResetSuccessModal().subscribe(i=>{this.router.navigate(["/session/login"])}):this.toastr.error(this.translate.instant(o.message),"Error")}):this.toastr.warning(this.translate.instant("Password must be of atleast 8 characters & a mix of upper & lower case letters, numbers & symbols."),this.translate.instant("Password invalid!"))}generatePassword(){let e="",o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789*@$&";do{e="";for(let a=0;a<8;a++){var i=Math.floor(Math.random()*o.length+1);e+=o.charAt(i)}}while(!(this.hasLowerCase(e)&&this.hasUpperCase(e)&&this.hasSpecialCharacter(e)&&this.hasNumber(e)));return this.visible1=!0,this.resetPasswordForm.patchValue({password:e,confirmPassword:e}),e}checkPasswordStrength(e){let o=new RegExp("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{12,})"),i=new RegExp("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{8,})"),a=new RegExp("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})");return o.test(e)?4:i.test(e)?3:a.test(e)?2:1}hasLowerCase(e){return/[a-z]/.test(e)}hasUpperCase(e){return/[A-Z]/.test(e)}hasNumber(e){return/[0-9]/.test(e)}hasSpecialCharacter(e){return/[^A-Za-z0-9]/.test(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ot.p),t.Y36(f.F0),t.Y36(b._W),t.Y36(_.e),t.Y36(h.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-setup-new-password"]],decls:77,vars:70,consts:[[1,"container"],[1,"row"],[1,"col-md-12","p-0","section-title"],[1,"col-md-12","px-0","pt-4"],[1,"user-profile-con","d-flex","align-items-center"],["alt","",1,"user-img",3,"src"],[1,"user-info-con","d-flex","flex-column","justify-content-center","pl-3"],[1,"mb-0"],[1,"col-md-12","px-0","py-4"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","password"],[1,"link"],["href","javascript:void(0)","data-test-id","linkGeneratePassword",3,"click"],[1,"password-field"],["formControlName","password","data-test-id","etNewPassword",1,"form-control",3,"placeholder"],["type","button","data-test-id","btnToggleNewPassword",1,"btn","toggle-password-btn",3,"click"],["src","assets/svgs/icon-eye.svg","alt","",3,"hidden"],["src","assets/svgs/icon-eye-closed.svg","alt","",3,"hidden"],[4,"ngIf"],[1,"col-md-12","px-0","password-strength-wrapper"],[1,"d-flex","password-strength-con"],[1,"flex-fill","strength-item"],["for","confirmPassword"],["formControlName","confirmPassword","data-test-id","etConfirmPassword",1,"form-control",3,"placeholder"],["type","button","data-test-id","btnConfirmPassword",1,"btn","toggle-password-btn",3,"click"],[1,"form-group","mt-5"],["type","submit","data-test-id","btnSubmitSetupPassword",1,"btn","btn-block","next-btn"],["class","error-msg",4,"ngIf"],[1,"error-msg"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h6"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"div",3)(10,"div",4),t._UZ(11,"img",5),t.TgZ(12,"div",6)(13,"span"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"h6",7),t._uU(17),t.qZA()()()(),t.TgZ(18,"div",8)(19,"form",9),t.NdJ("ngSubmit",function(){return o.resetPassword()}),t.TgZ(20,"div",10)(21,"label",11),t._uU(22),t.ALo(23,"translate"),t.TgZ(24,"span",12)(25,"a",13),t.NdJ("click",function(){return o.generatePassword()}),t._uU(26),t.ALo(27,"translate"),t.qZA()()(),t.TgZ(28,"div",14),t._UZ(29,"input",15),t.ALo(30,"translate"),t.TgZ(31,"button",16),t.NdJ("click",function(){return o.visible1=!o.visible1}),t._UZ(32,"img",17)(33,"img",18),t.qZA()(),t.YNc(34,yt,3,2,"div",19),t.qZA(),t.TgZ(35,"div",10)(36,"div",20)(37,"p"),t._uU(38),t.ALo(39,"translate"),t.TgZ(40,"span"),t._uU(41),t.ALo(42,"translate"),t.ALo(43,"translate"),t.ALo(44,"translate"),t.ALo(45,"translate"),t.qZA()(),t.TgZ(46,"div",21),t._UZ(47,"div",22)(48,"div",22)(49,"div",22)(50,"div",22),t.qZA(),t.TgZ(51,"p"),t._uU(52),t.ALo(53,"translate"),t.TgZ(54,"b"),t._uU(55),t.ALo(56,"translate"),t.qZA(),t._uU(57),t.ALo(58,"translate"),t.TgZ(59,"b"),t._uU(60),t.ALo(61,"translate"),t.qZA()()()(),t.TgZ(62,"div",10)(63,"label",23),t._uU(64),t.ALo(65,"translate"),t.qZA(),t.TgZ(66,"div",14),t._UZ(67,"input",24),t.ALo(68,"translate"),t.TgZ(69,"button",25),t.NdJ("click",function(){return o.visible2=!o.visible2}),t._UZ(70,"img",17)(71,"img",18),t.qZA()(),t.YNc(72,At,3,2,"div",19),t.qZA(),t.TgZ(73,"div",26)(74,"button",27),t._uU(75),t.ALo(76,"translate"),t.qZA()()()()()()),2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,34,"Set new password")),t.xp6(3),t.hij(" ",t.lcZ(8,36,"Your new password must be different to the previously used passwords.")," "),t.xp6(4),t.s9C("src",o.baseUrl+"/personimage/"+o.userUuid,t.LSH),t.xp6(3),t.Oqu(t.lcZ(15,38,"Username")),t.xp6(3),t.Oqu(o.username),t.xp6(2),t.Q6J("formGroup",o.resetPasswordForm),t.xp6(3),t.hij(" ",t.lcZ(23,40,"New password")," "),t.xp6(4),t.Oqu(t.lcZ(27,42,"Generate password")),t.xp6(3),t.s9C("placeholder",t.lcZ(30,44,"Enter or generate new password")),t.uIk("type",o.visible1?"text":"password"),t.xp6(3),t.Q6J("hidden",o.visible1),t.xp6(1),t.Q6J("hidden",!o.visible1),t.xp6(1),t.Q6J("ngIf",o.submitted&&o.f.password.errors),t.xp6(4),t.hij("",t.lcZ(39,46,"Password strength"),": "),t.xp6(3),t.Oqu(4==o.level?t.lcZ(42,48,"Excellent"):3==o.level?t.lcZ(43,50,"Good"):2==o.level?t.lcZ(44,52,"Fair"):t.lcZ(45,54,"Low")),t.xp6(6),t.ekj("filled",o.level>=1),t.xp6(1),t.ekj("filled",o.level>=2),t.xp6(1),t.ekj("filled",o.level>=3),t.xp6(1),t.ekj("filled",4==o.level),t.xp6(2),t.hij("",t.lcZ(53,56,"Password must be of atleast")," "),t.xp6(3),t.Oqu(t.lcZ(56,58,"8 characters")),t.xp6(2),t.hij(" & ",t.lcZ(58,60,"a mix of"),""),t.xp6(3),t.Oqu(t.lcZ(61,62,"upper & lower case letters, numbers & symbols.")),t.xp6(4),t.hij(" ",t.lcZ(65,64,"Confirm new password")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(68,66,"Re-enter new password")),t.uIk("type",o.visible2?"text":"password"),t.xp6(3),t.Q6J("hidden",o.visible2),t.xp6(1),t.Q6J("hidden",!o.visible2),t.xp6(1),t.Q6J("ngIf",o.submitted&&o.f.confirmPassword.errors),t.xp6(3),t.hij(" ",t.lcZ(76,68,"Reset Password")," "))},dependencies:[d.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,C.z,h.X$],styles:[".section-title[_ngcontent-%COMP%]{font-family:DM Sans}.section-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;font-size:32px;line-height:150%;color:var(--color-darkBlue)}.section-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:16px;color:var(--color-gray);line-height:150%}.user-profile-con[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%}.user-profile-con[_ngcontent-%COMP%]   .user-info-con[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:var(--color-gray)}.user-profile-con[_ngcontent-%COMP%]   .user-info-con[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:16px}.password-strength-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--color-gray)}.password-strength-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-darkBlue);font-weight:700}.password-strength-wrapper[_ngcontent-%COMP%]   .password-strength-con[_ngcontent-%COMP%]   .strength-item[_ngcontent-%COMP%]:first-child, .password-strength-wrapper[_ngcontent-%COMP%]   .password-strength-con[_ngcontent-%COMP%]   .strength-item[_ngcontent-%COMP%]:last-child{margin-left:0}.password-strength-wrapper[_ngcontent-%COMP%]   .password-strength-con[_ngcontent-%COMP%]   .strength-item[_ngcontent-%COMP%]{height:4px;background:#B0ADBE;border-radius:10px;margin:0 5px 10px;opacity:.7}.password-strength-wrapper[_ngcontent-%COMP%]   .password-strength-con[_ngcontent-%COMP%]   .strength-item.filled[_ngcontent-%COMP%]{background:var(--color-darkBlue);opacity:1}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:var(--color-darkestBlue);font-weight:700;display:flex;flex-direction:row;justify-content:space-between}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;font-size:14px;color:var(--color-gray);font-weight:400}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]{height:56px;background:var(--color-darkBlue);border-radius:8px;font-size:18px;color:var(--color-white);position:relative}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);width:20px;height:20px}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]:focus{box-shadow:none}.form-group[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{color:var(--color-red);padding:10px 0}.form-group[_ngcontent-%COMP%]   .password-field[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .email-id-field[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .phone-field[_ngcontent-%COMP%]{position:relative}.form-group[_ngcontent-%COMP%]   .password-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .email-id-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .phone-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;right:2px;bottom:6px}.form-group[_ngcontent-%COMP%]   .password-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .email-id-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .phone-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:none}.form-control[_ngcontent-%COMP%]{padding:14px 16px;background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2);border-radius:8px;height:48px;font-size:16px;color:var(--color-darkestBlue)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none}"]}),n})();function St(n,r){1&n&&(t.TgZ(0,"small",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Please enter mobile number")))}function Nt(n,r){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,St,3,3,"small",22),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.f.phone.errors.required)}}function kt(n,r){1&n&&(t.TgZ(0,"div")(1,"small",23),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Please enter valid mobile number")))}const Lt=function(){return{initialCountry:"in",separateDialCode:!0}};function Ut(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"form",11),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.verify())}),t.TgZ(1,"div",12)(2,"label",13),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",14)(6,"input",15),t.NdJ("hasError",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.hasError(i))})("ng2TelOutput",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.getNumber(i))})("intlTelInputObject",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.telInputObject(i))})("countryChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.onCountryChange(i))}),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",16),t._UZ(9,"img",17),t.qZA()(),t.YNc(10,Nt,2,1,"div",18),t.YNc(11,kt,4,3,"div",18),t.qZA(),t.TgZ(12,"div",19)(13,"button",20),t._uU(14),t.ALo(15,"translate"),t._UZ(16,"img",21),t.qZA()()()}if(2&n){const e=t.oxw();t.Q6J("formGroup",e.verificationForm),t.xp6(3),t.hij(" ",t.lcZ(4,7,"Mobile number")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(7,9,"Enter Mobile Number")),t.Q6J("ng2TelInputOptions",t.DdM(13,Lt)),t.xp6(4),t.Q6J("ngIf",e.submitted&&e.f.phone.errors),t.xp6(1),t.Q6J("ngIf",e.submitted&&!e.phoneIsValid&&!(null!=e.f.phone&&e.f.phone.errors)),t.xp6(3),t.hij(" ",t.lcZ(15,11,"Next")," ")}}function Ft(n,r){1&n&&(t.TgZ(0,"small",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Please enter email")))}function Et(n,r){1&n&&(t.TgZ(0,"small",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Please enter valid email")))}function qt(n,r){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Ft,3,3,"small",22),t.YNc(2,Et,3,3,"small",22),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.f.email.errors.required),t.xp6(1),t.Q6J("ngIf",e.f.email.errors.pattern)}}function Vt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"form",11),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.verify())}),t.TgZ(1,"div",12)(2,"label",24),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",25),t._UZ(6,"input",26),t.ALo(7,"translate"),t.TgZ(8,"button",16),t._UZ(9,"img",27),t.qZA()(),t.YNc(10,qt,3,2,"div",18),t.qZA(),t.TgZ(11,"div",19)(12,"button",28),t._uU(13),t.ALo(14,"translate"),t._UZ(15,"img",21),t.qZA()()()}if(2&n){const e=t.oxw();t.Q6J("formGroup",e.verificationForm),t.xp6(3),t.hij(" ",t.lcZ(4,5,"EMAIL")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(7,7,"Enter Email ID")),t.xp6(4),t.Q6J("ngIf",e.submitted&&e.f.email.errors),t.xp6(3),t.hij(" ",t.lcZ(14,9,"Next")," ")}}const zt=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"",component:wt,children:[{path:"login",component:it},{path:"verification",component:(()=>{class n{constructor(e,o,i,a){this.authService=e,this.router=o,this.toastr=i,this.translate=a,this.active="phone",this.submitted=!1,this.phoneIsValid=!1,this.maxTelLegth=10,this.verificationForm=new s.cw({phone:new s.NI("",[s.kI.required]),email:new s.NI("",s.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")),countryCode:new s.NI("91",s.kI.required)})}ngOnInit(){this.subscription=this.verificationForm.get("phone").valueChanges.subscribe(e=>{e.length>this.maxTelLegth&&this.verificationForm.get("phone").setValue(e.substring(0,this.maxTelLegth))})}get f(){return this.verificationForm.controls}reset(){"phone"==this.active?(this.verificationForm.get("phone").setValidators([s.kI.required]),this.verificationForm.get("phone").updateValueAndValidity(),this.verificationForm.get("email").clearValidators(),this.verificationForm.get("email").updateValueAndValidity()):(this.verificationForm.get("email").setValidators([s.kI.required,s.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),this.verificationForm.get("email").updateValueAndValidity(),this.verificationForm.get("phone").clearValidators(),this.verificationForm.get("phone").updateValueAndValidity()),this.submitted=!1,this.phoneIsValid=!1,this.verificationForm.patchValue({phone:"",countryCode:"91",email:""})}verify(){if(this.submitted=!0,this.verificationForm.invalid||"phone"==this.active&&!this.phoneIsValid)return;let e={otpFor:"verification",username:(0,u.TL)(!0,p.On.USER).username?(0,u.TL)(!0,p.On.USER).username:(0,u.TL)(!0,p.On.USER).systemId};"phone"==this.active?(e.phoneNumber=this.verificationForm.value.phone,e.countryCode=this.verificationForm.value.countryCode):e.email=this.verificationForm.value.email,this.authService.requestOtp(e).subscribe(o=>{o.success?(this.toastr.success(`${this.translate.instant("OTP sent on")} ${this.replaceWithStar("phone"==this.active?this.phoneNumber:this.verificationForm.value.email)} ${this.translate.instant("successfully")}!`,`${this.translate.instant("OTP Sent")}`),this.router.navigate(["/session/verify-otp"],{state:{verificationFor:"login",via:this.active,val:"phone"==this.active?`${this.verificationForm.value.countryCode}||${this.verificationForm.value.phone}`:this.verificationForm.value.email}})):this.toastr.error(this.translate.instant(o.message),"Error")})}replaceWithStar(e){let o=e?.length;return e.replace(e.substring(5,"phone"==this.active?o-2:o-4),"*****")}hasError(e){this.phoneIsValid=e}getNumber(e){this.phoneNumber=e,this.phoneIsValid=!0}telInputObject(e){this.telObject=e}onCountryChange(e){this.telObject.setCountry(e.iso2),this.verificationForm.patchValue({countryCode:e.dialCode}),this.maxTelLegth=this.authService.getInternationalMaskByCountryCode(e.iso2.toUpperCase(),!1).filter(o=>" "!=o).length}ngOnDestroy(){this.subscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.e),t.Y36(f.F0),t.Y36(b._W),t.Y36(h.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-verification-method"]],decls:23,vars:16,consts:[[1,"container"],[1,"row"],[1,"col-md-12","p-0","section-title"],[1,"col-md-12","px-0","py-4"],["ngbNav","",1,"nav-tabs","nav-fill",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink","","data-test-id","navMobile"],["ngbNavContent",""],["ngbNavLink","","data-test-id","navEmail"],[1,"mt-5",3,"ngbNavOutlet"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","phone"],[1,"phone-field"],["type","text","data-test-id","etMobile","ng2TelInput","","formControlName","phone","onkeypress","return (event.charCode !=8 && event.charCode ==0 || (event.charCode >= 48 && event.charCode <= 57))",1,"form-control",3,"ng2TelInputOptions","placeholder","hasError","ng2TelOutput","intlTelInputObject","countryChange"],["type","button",1,"btn","toggle-password-btn"],["src","assets/svgs/mobile.svg","alt",""],[4,"ngIf"],[1,"form-group","mt-5"],["type","submit","data-test-id","btnSubmitMobile",1,"btn","btn-block","next-btn"],["src","assets/svgs/right-arrow.svg","alt","",1,"btn-icon"],["class","error-msg",4,"ngIf"],[1,"error-msg"],["for","email"],[1,"email-id-field"],["type","email","formControlName","email","data-test-id","etEmail",1,"form-control",3,"placeholder"],["src","assets/svgs/email.svg","alt",""],["type","submit","data-test-id","btnSubmitEmail",1,"btn","btn-block","next-btn"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h6"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"div",3)(10,"ul",4,5),t.NdJ("activeIdChange",function(a){return o.active=a})("activeIdChange",function(){return o.reset()}),t.TgZ(12,"li",6)(13,"a",7),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.YNc(16,Ut,17,14,"ng-template",8),t.qZA(),t.TgZ(17,"li",6)(18,"a",9),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.YNc(21,Vt,16,11,"ng-template",8),t.qZA()(),t._UZ(22,"div",10),t.qZA()()()),2&e){const i=t.MAs(11);t.xp6(4),t.Oqu(t.lcZ(5,8,"Choose verification method")),t.xp6(3),t.hij(" ",t.lcZ(8,10,"Choose your email or phone number through which you want to verify your identity. We will send a verification code to confirm your entry.")," "),t.xp6(3),t.Q6J("activeId",o.active),t.xp6(2),t.Q6J("ngbNavItem","phone"),t.xp6(2),t.Oqu(t.lcZ(15,12,"Mobile number")),t.xp6(3),t.Q6J("ngbNavItem","email"),t.xp6(2),t.Oqu(t.lcZ(20,14,"EMAIL")),t.xp6(3),t.Q6J("ngbNavOutlet",i)}},dependencies:[d.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,m.uN,m.Pz,m.nv,m.Vx,m.tO,P._,C.z,h.X$],styles:[".section-title[_ngcontent-%COMP%]{font-family:DM Sans}.section-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;font-size:32px;line-height:150%;color:var(--color-darkBlue)}.section-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:16px;color:var(--color-gray);line-height:150%}.nav[_ngcontent-%COMP%]{padding:8px 12px;background:var(--color-lightGray);border-radius:8px}.nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{height:48px;color:var(--color-darkBlue);font-size:16px;font-weight:700;display:flex;align-items:center;justify-content:center;border:none}.nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background:var(--color-white);box-shadow:0 2px 6px #1b163a14;border-radius:8px}.nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{border:none}  .iti{width:100%}  .iti .iti__country-list{top:48px;left:0;border-radius:8px}  .iti .iti__selected-flag{background-color:transparent}  .iti .iti__flag-container,   .iti .iti--separate-dial-code .iti__flag-container{height:48px;background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2);border-radius:8px;padding:14px 16px}  .iti .iti__flag-container:hover .iti__selected-flag{background-color:transparent}  .iti input,   .iti .iti input[type=text]{margin-left:auto!important;width:calc(100% - 120px);padding-left:16px!important}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:var(--color-darkestBlue);font-weight:700;display:flex;flex-direction:row;justify-content:space-between}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;font-size:14px;color:var(--color-gray);font-weight:400}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]{height:56px;background:var(--color-darkBlue);border-radius:8px;font-size:18px;color:var(--color-white);position:relative}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);width:20px;height:20px}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]:focus{box-shadow:none}.form-group[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{color:var(--color-red);padding:10px 0}.form-group[_ngcontent-%COMP%]   .password-field[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .email-id-field[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .phone-field[_ngcontent-%COMP%]{position:relative}.form-group[_ngcontent-%COMP%]   .password-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .email-id-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .phone-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;right:2px;bottom:6px;background-color:var(--color-offWhite)}.form-group[_ngcontent-%COMP%]   .password-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .email-id-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .phone-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:none}.form-control[_ngcontent-%COMP%]{padding:14px 16px;background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2);border-radius:8px;height:48px;font-size:16px;color:var(--color-darkestBlue)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none}"]}),n})()},{path:"verify-otp",component:_t},{path:"forgot-password",component:F},{path:"forgot-username",component:G},{path:"setup-password",component:It}]},{path:"page-not-found",component:Ct}];let Jt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[f.Bz.forChild(zt),f.Bz]}),n})();var Yt=c(1279),jt=c(1075);let Dt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,Jt,m.mH,N.A0,s.u5,Yt.Ps,s.UX,$,m.Oz,P.g,pt,y.VI.forChild(),jt.m]}),n})()}}]);